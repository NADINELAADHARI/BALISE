/*! For license information please see chunk-1c156ad4.e79fe547.js.LICENSE.txt */
(globalThis.webpackChunkgraphic=globalThis.webpackChunkgraphic||[]).push([[236],{16605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(18571);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e){var t=a((0,r.useState)(Boolean(e)),2),n=t[0],s=t[1],c=(0,r.useMemo)((function(){return{setTrue:function(){return s(!0)},setFalse:function(){return s(!1)},toggle:function(e){return s("boolean"==typeof e?e:function(e){return!e})}}}),[]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({state:n},c)}},44265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(18571),o="click";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,i=arguments.length>3?arguments[3]:void 0,a=(0,r.useRef)(),s=(0,r.useCallback)((function(n){var r=("function"==typeof e?e():e)||a.current;!r||r.contains(n.target)||n.composedPath&&n.composedPath().includes(r)||t(n)}),[a.current,t,e]);return(0,r.useEffect)((function(){return document.addEventListener(n,s,i),function(){document.removeEventListener(n,s,i)}}),[n,i,s]),a}},55501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(18571);function o(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function i(){}function a(e,t){if(!t)return e&&e.then?e.then(i):Promise.resolve()}function s(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function c(){return new DOMException("The request is not allowed","NotAllowedError")}var l=o((function(e){return s((function(){return a(d(e))}),(function(t){return s((function(){return a(u(e))}),(function(e){throw e||t||c()}))}))})),u=o((function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();n.removeAllRanges(),r.selectNode(t),n.addRange(r);var o,i,a,s=!1;try{s=window.document.execCommand("copy")}finally{n.removeAllRanges(),window.document.body.removeChild(t)}if(!s)throw c();return a?i?i(o):o:(o&&o.then||(o=Promise.resolve(o)),i?o.then(i):o)})),d=o((function(e){if(!navigator.clipboard)throw c();return navigator.clipboard.writeText(e)}));const p=l;function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f((0,r.useState)(!1),2),n=t[0],o=t[1],i=f((0,r.useState)(""),2),a=i[0],s=i[1],c=(0,r.useRef)();function l(t){p(t).then((function(){e.onSuccess&&e.onSuccess(t),s(t)})).catch((function(t){e.onError&&e.onError(t)}))}var u=(0,r.useMemo)((function(){return!!(navigator.clipboard||document.execCommand&&document.queryCommandSupported&&document.queryCommandSupported("copy"))}),[]),d=(0,r.useCallback)((function(e){if("string"!=typeof e){var t=c.current;if(!t)return;e=t.value||t.innerText}l(e),o(!0)}),[]),h=(0,r.useCallback)((function(){var e=c.current;if(e){var t=e.value||e.innerText;e.value="",e.innerText="",l(t),o(!0)}}),[]),_=(0,r.useCallback)((function(){l(""),o(!1)}),[]);return{ref:c,isSupported:u,isCopied:n,copyText:a,copy:d,cut:h,clear:_}}},48726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(18571);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const a=function(){return o((0,r.useReducer)((function(){return Object.create(null)}),{}),2)[1]}},53483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(18571);function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=t.onEnter,s=t.onLeave,c=(0,r.useRef)(),l=i((0,r.useState)(!1),2),u=l[0],d=l[1],p=(0,r.useCallback)((function(){a&&a(),d(!0)}),["function"==typeof a]),f=(0,r.useCallback)((function(){s&&s(),d(!1)}),["function"==typeof s]);return(0,r.useLayoutEffect)((function(){var t=c.current;if(e&&(t="function"==typeof e?e():e),t)return t.addEventListener("mouseenter",p),t.addEventListener("mouseleave",f),function(){var e,n;null===(e=t)||void 0===e||e.removeEventListener("mouseenter",p),null===(n=t)||void 0===n||n.removeEventListener("mouseleave",f)}}),[c.current,"function"==typeof e?void 0:e].concat(o(n))),[c,u]}},14667:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(18571);n(6505);function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,s=(0,r.useRef)(),c=i((0,r.useState)(!1),2),l=c[0],u=c[1],d=i((0,r.useState)(0),2),p=d[0],f=d[1],h=(0,r.useCallback)((function(e){u(e[0].isIntersecting),f(e[0].intersectionRatio),e[0].isIntersecting&&void 0!==a&&"function"==typeof a&&a()}),[a]);return(0,r.useEffect)((function(){var n=s.current;e&&(n="function"==typeof e?e():e);var r=new IntersectionObserver(h,t);return n&&r.observe(n),function(){return r.disconnect()}}),[s.current,e].concat(o(n),[a])),[s,l,p]}},58638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(18571);const o=function(e){(0,r.useEffect)((function(){e()}),[])}},91930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(18571);const o=function(e){var t=(0,r.useRef)();return t.current=(0,r.useMemo)((function(){return e}),[e]),(0,r.useCallback)((function(){var e=t.current;return e&&e.apply(void 0,arguments)}),[t])}},62162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(18571),o=n(75107),i=n(86467);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.immediately,c=void 0!==s&&s,l=o.trailing,u=void 0===l||l,d=o.leading,p=void 0!==d&&d,f=n,h=t,_=(0,r.useRef)(),m=(0,r.useRef)(!1),g=(0,r.useRef)(e);g.current=e;var v=(0,r.useRef)([]),w=(0,r.useCallback)((function(){_.current&&clearTimeout(_.current),_.current=void 0}),[]),E=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(v.current=t,!_.current){if(c&&!m.current)return g.current.apply(g,a(v.current)),void(m.current=!0);p&&g.current.apply(g,a(v.current)),_.current=function(e){return window.setTimeout((function(){e&&g.current.apply(g,a(v.current)),_.current=void 0,m.current=!1}),h)}(u)}}),[h,w]);return(0,i.Z)((function(){E()}),[].concat(a(f),[E])),(0,r.useEffect)((function(){return w}),[]),{run:E,cancel:w}};function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const f=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=50;"string"==typeof i?t=i:(i.dimension&&(t=i.dimension),i.throttle&&(s=i.throttle),i.throttleOption&&(n=i.throttleOption));var d=(0,r.useRef)(),p=u((0,r.useState)((function(){var t="function"==typeof e?e():e;return{width:(t||{}).clientWidth||0,height:(t||{}).clientHeight||0}})),2),f=p[0],h=p[1],_=(0,r.useCallback)((function(e){if(null!=e&&e.length){var n=e[0].contentRect,r=n.width,o=n.height;h((function(e){return e?"width"===t?e.width!==r?{width:r,height:o}:e:"height"===t?e.height!==o?{width:r,height:o}:e:e.width!==r||e.height!==o?{width:r,height:o}:e:{width:r,height:o}}))}}),[t]),m=c(_,s,[_],n).run;return(0,r.useLayoutEffect)((function(){var t=d.current;e&&(t="function"==typeof e?e():e);var n=new o.Z(m);return t&&n.observe(t),function(){return n.disconnect()}}),[d.current,"function"==typeof e?void 0:e,_].concat(l(a))),[d,f]}},10078:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(18571);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e){return"function"==typeof e};function s(e,t){return a(t)?t(e):t}const c=function(e){var t=s(void 0,e),n=o((0,r.useState)(t),2),i=n[0],a=n[1],c=(0,r.useRef)(t);return[i,(0,r.useCallback)((function(e){var t=s(c.current,e);c.current=t,a(t)}),[]),(0,r.useCallback)((function(){return c.current}),[])]}},94917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(18571);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a={getItem:function(){},setItem:function(){},removeItem:function(){}};const s=function(e,t,n,i){n||(n="undefined"==typeof window?a:localStorage);var s=function(){try{var r=n.getItem(e);return"string"!=typeof r?(n.setItem(e,i?String(t):JSON.stringify(t)),t):i?r:JSON.parse(r)}catch(o){return console.warn("@byted/hooks: ".concat(o)),t}},c=o((0,r.useState)((function(){return"undefined"==typeof window?t:s()})),2),l=c[0],u=c[1],d=(0,r.useCallback)((function(t){return void 0===t?n.removeItem(e):"function"==typeof t?(t=t(s()),n.setItem(e,i?String(t):JSON.stringify(t))):n.setItem(e,i?String(t):JSON.stringify(t)),u(t)}),[u,i]);return(0,r.useEffect)((function(){var r=function(r){var o=r.key,a=r.newValue,s=r.storageArea;if(o===e&&s===n)try{u("string"==typeof a?i?a:JSON.parse(a):t)}catch(c){console.warn("@byted/hooks: ".concat(c)),u(t)}};return window.addEventListener("storage",r,!1),function(){window.removeEventListener("storage",r,!1)}}),[e,t,n,i]),[l,d]}},86467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(18571);const o=function(e,t){var n=(0,r.useRef)(!1);(0,r.useEffect)((function(){return n.current?e():(n.current=!0,function(){})}),t)}},43785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var a,s,c=function(e){return e&&e.Math==Math&&e},l=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof o&&o)||function(){return this}()||Function("return this")(),u=Function.prototype,d=u.apply,p=u.bind,f=u.call,h="object"==typeof Reflect&&Reflect.apply||(p?f.bind(d):function(){return f.apply(d,arguments)}),_=Function.prototype,m=_.bind,g=_.call,v=m&&m.bind(g),w=m?function(e){return e&&v(g,e)}:function(e){return e&&function(){return g.apply(e,arguments)}},E=function(e){return"function"==typeof e},y=function(e){try{return!!e()}catch(Oi){return!0}},A=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=Function.prototype.call,T=b.bind?b.bind(b):function(){return b.apply(b,arguments)},S={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,I={f:C&&!S.call({1:2},1)?function(e){var t=C(this,e);return!!t&&t.enumerable}:S},P=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},L=w({}.toString),O=w("".slice),R=function(e){return O(L(e),8,-1)},k=l.Object,N=w("".split),x=y((function(){return!k("z").propertyIsEnumerable(0)}))?function(e){return"String"==R(e)?N(e,""):k(e)}:k,D=l.TypeError,H=function(e){if(null==e)throw D("Can't call method on "+e);return e},M=function(e){return x(H(e))},F=function(e){return"object"==typeof e?null!==e:E(e)},j={},U=function(e){return E(e)?e:void 0},B=function(e,t){return arguments.length<2?U(j[e])||U(l[e]):j[e]&&j[e][t]||l[e]&&l[e][t]},G=w({}.isPrototypeOf),W=B("navigator","userAgent")||"",V=l.process,q=l.Deno,$=V&&V.versions||q&&q.version,X=$&&$.v8;X&&(s=(a=X.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&W&&(!(a=W.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=W.match(/Chrome\/(\d+)/))&&(s=+a[1]);var K,Y=s,z=!!Object.getOwnPropertySymbols&&!y((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),J=z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=l.Object,Q=J?function(e){return"symbol"==typeof e}:function(e){var t=B("Symbol");return E(t)&&G(t.prototype,Z(e))},ee=l.String,te=function(e){try{return ee(e)}catch(Oi){return"Object"}},ne=l.TypeError,re=function(e){if(E(e))return e;throw ne(te(e)+" is not a function")},oe=function(e,t){var n=e[t];return null==n?void 0:re(n)},ie=l.TypeError,ae=Object.defineProperty,se="__core-js_shared__",ce=l[se]||function(e,t){try{ae(l,e,{value:t,configurable:!0,writable:!0})}catch(Oi){l[e]=t}return t}(se,{}),le=i((function(e){(e.exports=function(e,t){return ce[e]||(ce[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),ue=l.Object,de=function(e){return ue(H(e))},pe=w({}.hasOwnProperty),fe=Object.hasOwn||function(e,t){return pe(de(e),t)},he=0,_e=Math.random(),me=w(1..toString),ge=function(e){return"Symbol("+(void 0===e?"":e)+")_"+me(++he+_e,36)},ve=le("wks"),we=l.Symbol,Ee=we&&we.for,ye=J?we:we&&we.withoutSetter||ge,Ae=function(e){if(!fe(ve,e)||!z&&"string"!=typeof ve[e]){var t="Symbol."+e;z&&fe(we,e)?ve[e]=we[e]:ve[e]=J&&Ee?Ee(t):ye(t)}return ve[e]},be=l.TypeError,Te=Ae("toPrimitive"),Se=function(e,t){if(!F(e)||Q(e))return e;var n,r=oe(e,Te);if(r){if(void 0===t&&(t="default"),n=T(r,e,t),!F(n)||Q(n))return n;throw be("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&E(n=e.toString)&&!F(r=T(n,e)))return r;if(E(n=e.valueOf)&&!F(r=T(n,e)))return r;if("string"!==t&&E(n=e.toString)&&!F(r=T(n,e)))return r;throw ie("Can't convert object to primitive value")}(e,t)},Ce=function(e){var t=Se(e,"string");return Q(t)?t:t+""},Ie=l.document,Pe=F(Ie)&&F(Ie.createElement),Le=function(e){return Pe?Ie.createElement(e):{}},Oe=!A&&!y((function(){return 7!=Object.defineProperty(Le("div"),"a",{get:function(){return 7}}).a})),Re=Object.getOwnPropertyDescriptor,ke={f:A?Re:function(e,t){if(e=M(e),t=Ce(t),Oe)try{return Re(e,t)}catch(Oi){}if(fe(e,t))return P(!T(I.f,e,t),e[t])}},Ne=/#|\.prototype\./,xe=function(e,t){var n=He[De(e)];return n==Fe||n!=Me&&(E(t)?y(t):!!t)},De=xe.normalize=function(e){return String(e).replace(Ne,".").toLowerCase()},He=xe.data={},Me=xe.NATIVE="N",Fe=xe.POLYFILL="P",je=xe,Ue=w(w.bind),Be=function(e,t){return re(e),void 0===t?e:Ue?Ue(e,t):function(){return e.apply(t,arguments)}},Ge=l.String,We=l.TypeError,Ve=function(e){if(F(e))return e;throw We(Ge(e)+" is not an object")},qe=l.TypeError,$e=Object.defineProperty,Xe={f:A?$e:function(e,t,n){if(Ve(e),t=Ce(t),Ve(n),Oe)try{return $e(e,t,n)}catch(Oi){}if("get"in n||"set"in n)throw qe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ke=A?function(e,t,n){return Xe.f(e,t,P(1,n))}:function(e,t,n){return e[t]=n,e},Ye=ke.f,ze=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return h(e,this,arguments)};return t.prototype=e.prototype,t},Je=function(e,t){var n,r,o,i,a,s,c,u,d=e.target,p=e.global,f=e.stat,h=e.proto,_=p?l:f?l[d]:(l[d]||{}).prototype,m=p?j:j[d]||Ke(j,d,{})[d],g=m.prototype;for(o in t)n=!je(p?o:d+(f?".":"#")+o,e.forced)&&_&&fe(_,o),a=m[o],n&&(s=e.noTargetGet?(u=Ye(_,o))&&u.value:_[o]),i=n&&s?s:t[o],n&&typeof a==typeof i||(c=e.bind&&n?Be(i,l):e.wrap&&n?ze(i):h&&E(i)?w(i):i,(e.sham||i&&i.sham||a&&a.sham)&&Ke(c,"sham",!0),Ke(m,o,c),h&&(fe(j,r=d+"Prototype")||Ke(j,r,{}),Ke(j[r],o,i),e.real&&g&&!g[o]&&Ke(g,o,i)))},Ze=le("keys"),Qe=function(e){return Ze[e]||(Ze[e]=ge(e))},et=!y((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),tt=Qe("IE_PROTO"),nt=l.Object,rt=nt.prototype,ot=et?nt.getPrototypeOf:function(e){var t=de(e);if(fe(t,tt))return t[tt];var n=t.constructor;return E(n)&&t instanceof n?n.prototype:t instanceof nt?rt:null},it=l.String,at=l.TypeError,st=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=w(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(Oi){}return function(n,r){return Ve(n),function(e){if("object"==typeof e||E(e))return e;throw at("Can't set "+it(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),ct=Math.ceil,lt=Math.floor,ut=function(e){var t=+e;return t!=t||0===t?0:(t>0?lt:ct)(t)},dt=Math.max,pt=Math.min,ft=Math.min,ht=function(e){return(t=e.length)>0?ft(ut(t),9007199254740991):0;var t},_t=function(e){return function(t,n,r){var o,i=M(t),a=ht(i),s=function(e,t){var n=ut(e);return n<0?dt(n+t,0):pt(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},mt={includes:_t(!0),indexOf:_t(!1)},gt={},vt=mt.indexOf,wt=w([].push),Et=function(e,t){var n,r=M(e),o=0,i=[];for(n in r)!fe(gt,n)&&fe(r,n)&&wt(i,n);for(;t.length>o;)fe(r,n=t[o++])&&(~vt(i,n)||wt(i,n));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],At=yt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(e){return Et(e,At)}},Tt={f:Object.getOwnPropertySymbols},St=w([].concat),Ct=B("Reflect","ownKeys")||function(e){var t=bt.f(Ve(e)),n=Tt.f;return n?St(t,n(e)):t},It=Object.keys||function(e){return Et(e,yt)},Pt=A?Object.defineProperties:function(e,t){Ve(e);for(var n,r=M(t),o=It(t),i=o.length,a=0;i>a;)Xe.f(e,n=o[a++],r[n]);return e},Lt=B("document","documentElement"),Ot="prototype",Rt="script",kt=Qe("IE_PROTO"),Nt=function(){},xt=function(e){return"<"+Rt+">"+e+"</"+Rt+">"},Dt=function(e){e.write(xt("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ht=function(){try{K=new ActiveXObject("htmlfile")}catch(Oi){}var e,t,n;Ht="undefined"!=typeof document?document.domain&&K?Dt(K):(t=Le("iframe"),n="java"+Rt+":",t.style.display="none",Lt.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(xt("document.F=Object")),e.close(),e.F):Dt(K);for(var r=yt.length;r--;)delete Ht[Ot][yt[r]];return Ht()};gt[kt]=!0;var Mt=Object.create||function(e,t){var n;return null!==e?(Nt[Ot]=Ve(e),n=new Nt,Nt[Ot]=null,n[kt]=e):n=Ht(),void 0===t?n:Pt(n,t)},Ft=w("".replace),jt=String(Error("zxcasd").stack),Ut=/\n\s*at [^:]*:[^\n]*/,Bt=Ut.test(jt),Gt={},Wt=Ae("iterator"),Vt=Array.prototype,qt={};qt[Ae("toStringTag")]="z";var $t="[object z]"===String(qt),Xt=Ae("toStringTag"),Kt=l.Object,Yt="Arguments"==R(function(){return arguments}()),zt=$t?R:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(Oi){}}(t=Kt(e),Xt))?n:Yt?R(t):"Object"==(r=R(t))&&E(t.callee)?"Arguments":r},Jt=Ae("iterator"),Zt=function(e){if(null!=e)return oe(e,Jt)||oe(e,"@@iterator")||Gt[zt(e)]},Qt=l.TypeError,en=function(e,t,n){var r,o;Ve(e);try{if(!(r=oe(e,"return"))){if("throw"===t)throw n;return n}r=T(r,e)}catch(Oi){o=!0,r=Oi}if("throw"===t)throw n;if(o)throw r;return Ve(r),n},tn=l.TypeError,nn=function(e,t){this.stopped=e,this.result=t},rn=nn.prototype,on=function(e,t,n){var r,o,i,a,s,c,l,u,d=n&&n.that,p=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),_=Be(t,d),m=function(e){return r&&en(r,"normal",e),new nn(!0,e)},g=function(e){return p?(Ve(e),h?_(e[0],e[1],m):_(e[0],e[1])):h?_(e,m):_(e)};if(f)r=e;else{if(!(o=Zt(e)))throw tn(te(e)+" is not iterable");if(void 0!==(u=o)&&(Gt.Array===u||Vt[Wt]===u)){for(i=0,a=ht(e);a>i;i++)if((s=g(e[i]))&&G(rn,s))return s;return new nn(!1)}r=function(e,t){var n=arguments.length<2?Zt(e):t;if(re(n))return Ve(T(n,e));throw Qt(te(e)+" is not iterable")}(e,o)}for(c=r.next;!(l=T(c,r)).done;){try{s=g(l.value)}catch(Oi){en(r,"throw",Oi)}if("object"==typeof s&&s&&G(rn,s))return s}return new nn(!1)},an=l.String,sn=function(e){if("Symbol"===zt(e))throw TypeError("Cannot convert a Symbol value to a string");return an(e)},cn=!y((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",P(1,7)),7!==e.stack)})),ln=Ae("toStringTag"),un=l.Error,dn=[].push,pn=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,o=G(fn,this);st?n=st(new un,o?ot(this):fn):(n=o?this:Mt(fn),Ke(n,ln,"Error")),void 0!==t&&Ke(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:sn(e)}(t)),cn&&Ke(n,"stack",function(e,t){if(Bt&&"string"==typeof e)for(;t--;)e=Ft(e,Ut,"");return e}(n.stack,1)),function(e,t){F(t)&&"cause"in t&&Ke(e,"cause",t.cause)}(n,r);var i=[];return on(e,dn,{that:i}),Ke(n,"errors",i),n};st?st(pn,un):function(e,t,n){for(var r=Ct(t),o=Xe.f,i=ke.f,a=0;a<r.length;a++){var s=r[a];fe(e,s)||n&&fe(n,s)||o(e,s,i(t,s))}}(pn,un,{name:!0});var fn=pn.prototype=Mt(un.prototype,{constructor:P(1,pn),message:P(1,""),name:P(1,"AggregateError")});Je({global:!0},{AggregateError:pn});var hn=w(Function.toString);E(ce.inspectSource)||(ce.inspectSource=function(e){return hn(e)});var _n,mn,gn,vn=ce.inspectSource,wn=l.WeakMap,En=E(wn)&&/native code/.test(vn(wn)),yn="Object already initialized",An=l.TypeError,bn=l.WeakMap;if(En||ce.state){var Tn=ce.state||(ce.state=new bn),Sn=w(Tn.get),Cn=w(Tn.has),In=w(Tn.set);_n=function(e,t){if(Cn(Tn,e))throw new An(yn);return t.facade=e,In(Tn,e,t),t},mn=function(e){return Sn(Tn,e)||{}},gn=function(e){return Cn(Tn,e)}}else{var Pn=Qe("state");gt[Pn]=!0,_n=function(e,t){if(fe(e,Pn))throw new An(yn);return t.facade=e,Ke(e,Pn,t),t},mn=function(e){return fe(e,Pn)?e[Pn]:{}},gn=function(e){return fe(e,Pn)}}var Ln,On,Rn,kn={set:_n,get:mn,has:gn,enforce:function(e){return gn(e)?mn(e):_n(e,{})},getterFor:function(e){return function(t){var n;if(!F(t)||(n=mn(t)).type!==e)throw An("Incompatible receiver, "+e+" required");return n}}},Nn=Function.prototype,xn=A&&Object.getOwnPropertyDescriptor,Dn=fe(Nn,"name"),Hn={EXISTS:Dn,PROPER:Dn&&"something"===function(){}.name,CONFIGURABLE:Dn&&(!A||A&&xn(Nn,"name").configurable)},Mn=function(e,t,n,r){r&&r.enumerable?e[t]=n:Ke(e,t,n)},Fn=Ae("iterator"),jn=!1;[].keys&&("next"in(Rn=[].keys())?(On=ot(ot(Rn)))!==Object.prototype&&(Ln=On):jn=!0);var Un=null==Ln||y((function(){var e={};return Ln[Fn].call(e)!==e}));Ln=Un?{}:Mt(Ln),E(Ln[Fn])||Mn(Ln,Fn,(function(){return this}));var Bn={IteratorPrototype:Ln,BUGGY_SAFARI_ITERATORS:jn},Gn=$t?{}.toString:function(){return"[object "+zt(this)+"]"},Wn=Xe.f,Vn=Ae("toStringTag"),qn=function(e,t,n,r){if(e){var o=n?e:e.prototype;fe(o,Vn)||Wn(o,Vn,{configurable:!0,value:t}),r&&!$t&&Ke(o,"toString",Gn)}},$n=Bn.IteratorPrototype,Xn=function(){return this},Kn=Hn.PROPER,Yn=Bn.BUGGY_SAFARI_ITERATORS,zn=Ae("iterator"),Jn="keys",Zn="values",Qn="entries",er=function(){return this},tr=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o=t+" Iterator";e.prototype=Mt($n,{next:P(+!r,n)}),qn(e,o,!1,!0),Gt[o]=Xn}(n,t,r);var s,c,l,u=function(e){if(e===o&&_)return _;if(!Yn&&e in f)return f[e];switch(e){case Jn:case Zn:case Qn:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,f=e.prototype,h=f[zn]||f["@@iterator"]||o&&f[o],_=!Yn&&h||u(o),m="Array"==t&&f.entries||h;if(m&&(s=ot(m.call(new e)))!==Object.prototype&&s.next&&(qn(s,d,!0,!0),Gt[d]=er),Kn&&o==Zn&&h&&h.name!==Zn&&(p=!0,_=function(){return T(h,this)}),o)if(c={values:u(Zn),keys:i?_:u(Jn),entries:u(Qn)},a)for(l in c)(Yn||p||!(l in f))&&Mn(f,l,c[l]);else Je({target:t,proto:!0,forced:Yn||p},c);return a&&f[zn]!==_&&Mn(f,zn,_,{name:o}),Gt[t]=_,c};Xe.f;var nr="Array Iterator",rr=kn.set,or=kn.getterFor(nr);tr(Array,"Array",(function(e,t){rr(this,{type:nr,target:M(e),index:0,kind:t})}),(function(){var e=or(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Gt.Arguments=Gt.Array;var ir=l.Promise,ar=Ae("species"),sr=l.TypeError,cr=Ae("iterator"),lr=!1;try{var ur=0,dr={next:function(){return{done:!!ur++}},return:function(){lr=!0}};dr[cr]=function(){return this},Array.from(dr,(function(){throw 2}))}catch(Oi){}var pr=function(){},fr=[],hr=B("Reflect","construct"),_r=/^\s*(?:class|function)\b/,mr=w(_r.exec),gr=!_r.exec(pr),vr=function(e){if(!E(e))return!1;try{return hr(pr,fr,e),!0}catch(Oi){return!1}},wr=function(e){if(!E(e))return!1;switch(zt(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return gr||!!mr(_r,vn(e))}catch(Oi){return!0}};wr.sham=!0;var Er,yr,Ar,br,Tr=!hr||y((function(){var e;return vr(vr.call)||!vr(Object)||!vr((function(){e=!0}))||e}))?wr:vr,Sr=l.TypeError,Cr=Ae("species"),Ir=function(e,t){var n,r=Ve(e).constructor;return void 0===r||null==(n=Ve(r)[Cr])?t:function(e){if(Tr(e))return e;throw Sr(te(e)+" is not a constructor")}(n)},Pr=w([].slice),Lr=/(?:ipad|iphone|ipod).*applewebkit/i.test(W),Or="process"==R(l.process),Rr=l.setImmediate,kr=l.clearImmediate,Nr=l.process,xr=l.Dispatch,Dr=l.Function,Hr=l.MessageChannel,Mr=l.String,Fr=0,jr={},Ur="onreadystatechange";try{Er=l.location}catch(Oi){}var Br=function(e){if(fe(jr,e)){var t=jr[e];delete jr[e],t()}},Gr=function(e){return function(){Br(e)}},Wr=function(e){Br(e.data)},Vr=function(e){l.postMessage(Mr(e),Er.protocol+"//"+Er.host)};Rr&&kr||(Rr=function(e){var t=Pr(arguments,1);return jr[++Fr]=function(){h(E(e)?e:Dr(e),void 0,t)},yr(Fr),Fr},kr=function(e){delete jr[e]},Or?yr=function(e){Nr.nextTick(Gr(e))}:xr&&xr.now?yr=function(e){xr.now(Gr(e))}:Hr&&!Lr?(br=(Ar=new Hr).port2,Ar.port1.onmessage=Wr,yr=Be(br.postMessage,br)):l.addEventListener&&E(l.postMessage)&&!l.importScripts&&Er&&"file:"!==Er.protocol&&!y(Vr)?(yr=Vr,l.addEventListener("message",Wr,!1)):yr=Ur in Le("script")?function(e){Lt.appendChild(Le("script"))[Ur]=function(){Lt.removeChild(this),Br(e)}}:function(e){setTimeout(Gr(e),0)});var qr,$r,Xr,Kr,Yr,zr,Jr,Zr,Qr={set:Rr,clear:kr},eo=/ipad|iphone|ipod/i.test(W)&&void 0!==l.Pebble,to=/web0s(?!.*chrome)/i.test(W),no=ke.f,ro=Qr.set,oo=l.MutationObserver||l.WebKitMutationObserver,io=l.document,ao=l.process,so=l.Promise,co=no(l,"queueMicrotask"),lo=co&&co.value;lo||(qr=function(){var e,t;for(Or&&(e=ao.domain)&&e.exit();$r;){t=$r.fn,$r=$r.next;try{t()}catch(Oi){throw $r?Kr():Xr=void 0,Oi}}Xr=void 0,e&&e.enter()},Lr||Or||to||!oo||!io?!eo&&so&&so.resolve?((Jr=so.resolve(void 0)).constructor=so,Zr=Be(Jr.then,Jr),Kr=function(){Zr(qr)}):Or?Kr=function(){ao.nextTick(qr)}:(ro=Be(ro,l),Kr=function(){ro(qr)}):(Yr=!0,zr=io.createTextNode(""),new oo(qr).observe(zr,{characterData:!0}),Kr=function(){zr.data=Yr=!Yr}));var uo=lo||function(e){var t={fn:e,next:void 0};Xr&&(Xr.next=t),$r||($r=t,Kr()),Xr=t},po=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=re(t),this.reject=re(n)},fo={f:function(e){return new po(e)}},ho=function(e,t){if(Ve(e),F(t)&&t.constructor===e)return t;var n=fo.f(e);return(0,n.resolve)(t),n.promise},_o=function(e){try{return{error:!1,value:e()}}catch(Oi){return{error:!0,value:Oi}}},mo=function(){this.head=null,this.tail=null};mo.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var go,vo,wo,Eo=mo,yo="object"==typeof window,Ao=Qr.set,bo=Ae("species"),To="Promise",So=kn.getterFor(To),Co=kn.set,Io=kn.getterFor(To),Po=ir&&ir.prototype,Lo=ir,Oo=Po,Ro=l.TypeError,ko=l.document,No=l.process,xo=fo.f,Do=xo,Ho=!!(ko&&ko.createEvent&&l.dispatchEvent),Mo=E(l.PromiseRejectionEvent),Fo="unhandledrejection",jo=je(To,(function(){var e=vn(Lo),t=e!==String(Lo);if(!t&&66===Y)return!0;if(!Oo.finally)return!0;if(Y>=51&&/native code/.test(e))return!1;var n=new Lo((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[bo]=r,!(n.then((function(){}))instanceof r)||!t&&yo&&!Mo})),Uo=jo||!function(e,t){if(!t&&!lr)return!1;var n=!1;try{var r={};r[cr]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(Oi){}return n}((function(e){Lo.all(e).catch((function(){}))})),Bo=function(e){var t;return!(!F(e)||!E(t=e.then))&&t},Go=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&Xo(t),t.rejection=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),o=!0)),n===e.promise?l(Ro("Promise-chain cycle")):(r=Bo(n))?T(r,n,c,l):c(n)):l(i)}catch(Oi){u&&!o&&u.exit(),l(Oi)}},Wo=function(e,t){e.notified||(e.notified=!0,uo((function(){for(var n,r=e.reactions;n=r.get();)Go(n,e);e.notified=!1,t&&!e.rejection&&qo(e)})))},Vo=function(e,t,n){var r,o;Ho?((r=ko.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Mo&&(o=l["on"+e])?o(r):e===Fo&&function(e,t){var n=l.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},qo=function(e){T(Ao,l,(function(){var t,n=e.facade,r=e.value;if($o(e)&&(t=_o((function(){Or?No.emit("unhandledRejection",r,n):Vo(Fo,n,r)})),e.rejection=Or||$o(e)?2:1,t.error))throw t.value}))},$o=function(e){return 1!==e.rejection&&!e.parent},Xo=function(e){T(Ao,l,(function(){var t=e.facade;Or?No.emit("rejectionHandled",t):Vo("rejectionhandled",t,e.value)}))},Ko=function(e,t,n){return function(r){e(t,r,n)}},Yo=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Wo(e,!0))},zo=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Ro("Promise can't be resolved itself");var r=Bo(t);r?uo((function(){var n={done:!1};try{T(r,t,Ko(zo,n,e),Ko(Yo,n,e))}catch(Oi){Yo(n,Oi,e)}})):(e.value=t,e.state=1,Wo(e,!1))}catch(Oi){Yo({done:!1},Oi,e)}}};jo&&(Lo=function(e){!function(e,t){if(G(t,e))return e;throw sr("Incorrect invocation")}(this,Oo),re(e),T(go,this);var t=So(this);try{e(Ko(zo,t),Ko(Yo,t))}catch(Oi){Yo(t,Oi)}},Oo=Lo.prototype,(go=function(e){Co(this,{type:To,done:!1,notified:!1,parent:!1,reactions:new Eo,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:Mn(e,r,t[r],n);return e}(Oo,{then:function(e,t){var n=Io(this),r=xo(Ir(this,Lo));return n.parent=!0,r.ok=!E(e)||e,r.fail=E(t)&&t,r.domain=Or?No.domain:void 0,0==n.state?n.reactions.add(r):uo((function(){Go(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),vo=function(){var e=new go,t=So(e);this.promise=e,this.resolve=Ko(zo,t),this.reject=Ko(Yo,t)},fo.f=xo=function(e){return e===Lo||e===wo?new vo(e):Do(e)}),Je({global:!0,wrap:!0,forced:jo},{Promise:Lo}),qn(Lo,To,!1,!0),function(e){var t=B(e),n=Xe.f;A&&t&&!t[ar]&&n(t,ar,{configurable:!0,get:function(){return this}})}(To),wo=B(To),Je({target:To,stat:!0,forced:jo},{reject:function(e){var t=xo(this);return T(t.reject,void 0,e),t.promise}}),Je({target:To,stat:!0,forced:!0},{resolve:function(e){return ho(this===wo?Lo:this,e)}}),Je({target:To,stat:!0,forced:Uo},{all:function(e){var t=this,n=xo(t),r=n.resolve,o=n.reject,i=_o((function(){var n=re(t.resolve),i=[],a=0,s=1;on(e,(function(e){var c=a++,l=!1;s++,T(n,t,e).then((function(e){l||(l=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=xo(t),r=n.reject,o=_o((function(){var o=re(t.resolve);on(e,(function(e){T(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Je({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=fo.f(t),r=n.resolve,o=n.reject,i=_o((function(){var n=re(t.resolve),o=[],i=0,a=1;on(e,(function(e){var s=i++,c=!1;a++,T(n,t,e).then((function(e){c||(c=!0,o[s]={status:"fulfilled",value:e},--a||r(o))}),(function(e){c||(c=!0,o[s]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var Jo="No one promise resolved";Je({target:"Promise",stat:!0},{any:function(e){var t=this,n=B("AggregateError"),r=fo.f(t),o=r.resolve,i=r.reject,a=_o((function(){var r=re(t.resolve),a=[],s=0,c=1,l=!1;on(e,(function(e){var u=s++,d=!1;c++,T(r,t,e).then((function(e){d||l||(l=!0,o(e))}),(function(e){d||l||(d=!0,a[u]=e,--c||i(new n(a,Jo)))}))})),--c||i(new n(a,Jo))}));return a.error&&i(a.value),r.promise}});var Zo=!!ir&&y((function(){ir.prototype.finally.call({then:function(){}},(function(){}))}));Je({target:"Promise",proto:!0,real:!0,forced:Zo},{finally:function(e){var t=Ir(this,B("Promise")),n=E(e);return this.then(n?function(n){return ho(t,e()).then((function(){return n}))}:e,n?function(n){return ho(t,e()).then((function(){throw n}))}:e)}});var Qo=w("".charAt),ei=w("".charCodeAt),ti=w("".slice),ni=function(e){return function(t,n){var r,o,i=sn(H(t)),a=ut(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=ei(i,a))<55296||r>56319||a+1===s||(o=ei(i,a+1))<56320||o>57343?e?Qo(i,a):r:e?ti(i,a,a+2):o-56320+(r-55296<<10)+65536}},ri={codeAt:ni(!1),charAt:ni(!0)}.charAt,oi="String Iterator",ii=kn.set,ai=kn.getterFor(oi);tr(String,"String",(function(e){ii(this,{type:oi,string:sn(e),index:0})}),(function(){var e,t=ai(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=ri(n,r),t.index+=e.length,{value:e,done:!1})}));var si=j.Promise,ci=Ae("toStringTag");for(var li in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var ui=l[li],di=ui&&ui.prototype;di&&zt(di)!==ci&&Ke(di,ci,li),Gt[li]=Gt.Array}var pi=si,fi=10,hi=1e3,_i=function(e){return JSON.stringify({ev_type:"batch",list:e})};var mi=function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mi.apply(this,arguments)};function gi(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(Oi){o={error:Oi}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function vi(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var wi=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],Ei=function(){};function yi(e){return e}function Ai(e){return"object"==typeof e&&null!==e}var bi=Object.prototype;function Ti(e){return"[object Array]"===bi.toString.call(e)}function Si(e){return"number"==typeof e}function Ci(e){return"string"==typeof e}function Ii(e,t){if(!Ti(e))return!1;if(0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}function Pi(e){try{return Ci(e)?e:JSON.stringify(e)}catch(t){return"[FAILED_TO_STRINGIFY]:"+String(t)}}var Li=0,Oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,vi(["[SDK]",Date.now(),(""+Li++).padStart(8," ")],gi(e),!1))},Ri=0,ki=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,vi(["[SDK]",Date.now(),(""+Ri++).padStart(8," ")],gi(e),!1))},Ni=function(e){return Math.random()<Number(e)},xi=function(e,t){return e<Number(t)},Di=function(e){return function(t){for(var n=t,r=0;r<e.length&&n;r++)try{n=e[r](n)}catch(o){Oi(o)}return n}};function Hi(){var e=function(){for(var e=new Array(16),t=0,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}(e)}function Mi(e){var t,n,r=e.builder,o=e.createSender,i=e.createDefaultConfig,a=e.createConfigManager,s=e.userConfigNormalizer,c=e.initConfigNormalizer,l=e.validateInitConfig,u={};wi.forEach((function(e){return u[e]=[]}));var d=!1,p=!1,f=[],h=[],_={getBuilder:function(){return r},getSender:function(){return t},getPreStartQueue:function(){return f},init:function(e){if(d)ki("already inited");else{if(!(e&&Ai(e)&&l(e)))throw new Error("invalid InitConfig, init failed");var r=i(e);if(!r)throw new Error("defaultConfig missing");var s=c(e);if((n=a(r)).setConfig(s),n.onChange((function(){m("config")})),!(t=o(n.getConfig())))throw new Error("sender missing");d=!0,m("init",!0)}},set:function(e){d&&e&&Ai(e)&&(m("beforeConfig",!1,e),null==n||n.setConfig(e))},config:function(e){if(d)return e&&Ai(e)&&(m("beforeConfig",!1,e),null==n||n.setConfig(s(e))),null==n?void 0:n.getConfig()},provide:function(e,t){Ii(h,e)?ki("cannot provide "+e+", reserved"):(_[e]=t,m("provide",!1,e))},start:function(){var e=this;d&&(p||null==n||n.onReady((function(){p=!0,m("start",!0),f.forEach((function(t){return e.build(t)})),f=[]})))},report:function(e){if(e){var t=Di(u.report)(e);t&&(p?this.build(t):f.push(t))}},build:function(e){if(p){var t=Di(u.beforeBuild)(e);if(t){var n=r.build(t);if(n){var o=Di(u.build)(n);o&&this.send(o)}}}},send:function(e){if(p){var n=Di(u.beforeSend)(e);n&&(t.send(n),m("send",!1,n))}},destroy:function(){m("beforeDestroy",!0)},on:function(e,t){"init"===e&&d||"start"===e&&p?t():u[e]&&u[e].push(t)},off:function(e,t){u[e]&&(u[e]=function(e,t){if(!Ti(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e}(u[e],t))}};return h=Object.keys(_),_;function m(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];u[e].forEach((function(e){try{e.apply(void 0,vi([],gi(n),!1))}catch(t){}})),t&&(u[e].length=0)}}var Fi=function(e){var t=function(){var e={},t={},n={set:function(r,o){return e[r]=o,t[r]=Pi(o),n},merge:function(r){return e=mi(mi({},e),r),Object.keys(r).forEach((function(e){t[e]=Pi(r[e])})),n},delete:function(r){return delete e[r],delete t[r],n},clear:function(){return e={},t={},n},get:function(e){return t[e]},toString:function(){return mi({},t)}};return n}();e.provide("context",t),e.on("report",(function(e){return e.extra||(e.extra={}),e.extra.context=t.toString(),e}))};var ji=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),e.__SLARDAR_REGISTRY__.Slardar}(function(){if("object"==typeof window&&Ai(window))return window}());n&&(n.errors||(n.errors=[]),n.errors.push(e))},Ui="custom",Bi=function(e){e.provide("sendEvent",(function(t){var n=function(e){if(e&&Ai(e)&&e.name&&Ci(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&Ai(e.metrics)){var n=e.metrics,r={};for(var o in n)Si(n[o])&&(r[o]=n[o]);t.metrics=r}if("categories"in e&&Ai(e.categories)){var i=e.categories,a={};for(var o in i)a[o]=Pi(i[o]);t.categories=a}return t}}(t);n&&e.report({ev_type:Ui,payload:n,extra:{timestamp:Date.now()}})})),e.provide("sendLog",(function(t){var n=function(e){if(e&&Ai(e)&&e.content&&Ci(e.content)){var t={content:Pi(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&Ai(e.extra)){var n=e.extra,r={},o={};for(var i in n)Si(n[i])?r[i]=n[i]:o[i]=Pi(n[i]);t.metrics=r,t.categories=o}return t}}(t);n&&e.report({ev_type:Ui,payload:n,extra:{timestamp:Date.now()}})}))},Gi=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},Wi=function(e,t,n,r,o){return e?(i=o(r,t),function(){return i}):function(){return n(t)};var i},Vi=function(e,t,n,r){var o=function(e,t,n){for(var r,o=gi(t.split(".")),i=o[0],a=o.slice(1);e&&a.length>0;)e=e[i],i=(r=gi(a))[0],a=r.slice(1);if(e)return n(e,i)}(e,t,(function(e,t){return e[t]}));return void 0!==o&&function(e,t,n){switch(n){case"eq":return Ii(t,e);case"neq":return!Ii(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return Boolean(e.match(new RegExp(t.join("|"))));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}}(o,function(e,t){return e.map((function(e){switch(t){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}}))}(r,"boolean"==typeof o?"bool":Si(o)?"number":"string"),n)},qi=function(e,t){try{return"rule"===t.type?Vi(e,t.field,t.op,t.values):"and"===t.type?t.children.every((function(t){return qi(e,t)})):t.children.some((function(t){return qi(e,t)}))}catch(n){return ji(n),!1}},$i=function(e,t,n,r){if(!t)return yi;var o=t.sample_rate,i=t.include_users,a=t.sample_granularity,s=t.rules,c=t.r,l=void 0===c?Math.random():c;if(Ii(i,e))return function(e){return Gi(e,1)};var u="session"===a,d=Wi(u,o,n,l,r),p=function(e,t,n,r,o,i){var a={};return Object.keys(e).forEach((function(s){var c=e[s],l=c.enable,u=c.sample_rate,d=c.conditional_sample_rules;l?(a[s]={enable:l,sample_rate:u,effectiveSampleRate:u*n,hit:Wi(t,u,r,o,i)},d&&(a[s].conditional_hit_rules=d.map((function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:Wi(t,a,r,o,i),effectiveSampleRate:a*n,filter:s}})))):a[s]={enable:l,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),a}(s,u,o,n,l,r);return function(e){var t;if(!d())return!1;if(!(e.ev_type in p))return Gi(e,o);if(!p[e.ev_type].enable)return!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var n=p[e.ev_type],r=n.conditional_hit_rules;if(r)for(var i=0;i<r.length;i++)if(qi(e,r[i].filter))return!!r[i].hit()&&Gi(e,r[i].effectiveSampleRate);return!!n.hit()&&Gi(e,n.effectiveSampleRate)}},Xi={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:mi(mi({},e.extra||{}),e.overrides||{})}}},Ki=function(e){var t,n=e,r={},o=Ei,i=Ei;return{getConfig:function(){return n},setConfig:function(a){var s;return r=mi(mi({},r),a||{}),(s=mi(mi({},e),r)).sample=function(e,t){if(!e||!t)return e||t;var n=mi(mi({},e),t);return n.include_users=vi(vi([],gi(e.include_users||[]),!1),gi(t.include_users||[]),!1),n.rules=vi(vi([],gi(Object.keys(e.rules||{})),!1),gi(Object.keys(t.rules||{})),!1).reduce((function(n,r){var o,i;return r in n||(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=mi(mi({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=vi(vi([],gi(e.rules[r].conditional_sample_rules||[]),!1),gi(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(o=e.rules)||void 0===o?void 0:o[r])||(null===(i=t.rules)||void 0===i?void 0:i[r])),n}),{}),n}(e.sample,r.sample),n=s,i(),t||(t=a,o()),n},onChange:function(e){i=e},onReady:function(e){o=e,t&&o()}}};var Yi={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function zi(e){return mi({},e)}function Ji(e){return Ai(e)&&"bid"in e&&"transport"in e}function Zi(e){return mi({},e)}var Qi=function(e){e.on("report",(function(t){return function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.0.2",sdk_name:t.name||"SDK_BASE"};return mi(mi({},e),{extra:mi(mi({},n),e.extra||{})})}(t,e.config())}))},ea=function(e){e.on("beforeBuild",(function(t){return function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,mi(mi({},e),{extra:mi(mi({},n),e.extra||{})})}(t,e.config())}))};function ta(e){return function(e){var t=e.transport,n=e.endpoint,r=e.size,o=void 0===r?fi:r,i=e.wait,a=void 0===i?hi:i,s=[],c=0;function l(){s.length&&(t.post({url:n,data:this.getBatchData()}),s=[])}return{getSize:function(){return o},getWait:function(){return a},setSize:function(e){o=e},setWait:function(e){a=e},getEndpoint:function(){return n},setEndpoint:function(e){n=e},send:function(e){s.push(e),s.length>=o&&l.call(this),clearTimeout(c),c=setTimeout(l.bind(this),a)},flush:function(){clearTimeout(c),l.call(this)},getBatchData:function(){return s.length?_i(s):""},clear:function(){clearTimeout(c),s=[]}}}(e)}var na=function(e,t){return void 0===t&&(t="/monitor_browser/collect/batch/"),(e&&e.indexOf("//")>=0?"":"https://")+e+t},ra=function(e){return{bid:"",pid:"",viewId:(t="_",t+"_"+Date.now()),userId:Hi(),deviceId:Hi(),sessionId:Hi(),domain:"mon-va-useast2a.byteoversea.com",release:"",env:"production",sample:Yi,plugins:{},transport:{get:Ei,post:Ei}};var t},oa=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){return ta({size:20,endpoint:na(e.domain),transport:e.transport})}:n,o=t.builder,i=void 0===o?Xi:o,a=t.createDefaultConfig,s=Mi({validateInitConfig:Ji,initConfigNormalizer:zi,userConfigNormalizer:Zi,createSender:r,builder:i,createDefaultConfig:void 0===a?ra:a,createConfigManager:Ki});return Fi(s),ea(s),Qi(s),function(e){e.on("init",(function(){var t=[],n=e.config();n&&n.integrations&&n.integrations.forEach((function(n){Ii(t,n.name)||(t.push(n.name),n.setup(e),n.tearDown&&e.on("beforeDestroy",n.tearDown))}))}))}(s),s},ia=function(e){void 0===e&&(e={});var t=oa(e);return function(e){e.on("start",(function(){var t=e.config(),n=t.userId,r=t.sample,o=$i(n,r,Ni,xi);e.on("build",o)}))}(t),Bi(t),t};ia();var aa="in",sa={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",ttp:"https://mcs.us.tiktok.com"},ca="s_v_web_id",la="/vc/setting",ua=function(e){return-1!==["ttp","tcpy"].indexOf(e)?"/v1/list":"/list"},da=function(e){return-1!==["ttp","tcpy"].indexOf(e)?"/v1/user/webid":"/webid"},pa=function(e){return{aid:e.commonOptions.aid}},fa=function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=ia();var n={transport:{get:function(){},post:function(e){var n=e.url,r=e.data;t(n,JSON.parse(r)).catch((function(e){console.log("err: ",e)}))}},bid:"verify_center_va",pid:this.pid,release:"3.9.1",env:aa,sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",(function(t){var n,r;"ErrorEvent"===(r=t,Object.prototype.toString.call(r).slice(8,-1))&&e.filename&&t.filename===e.filename&&e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})}),!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}(),ha=new fa,_a=function(e){var t=e.url,n=e.method,r=e.data,o=e.config;return new pi((function(i,a){var s=new XMLHttpRequest,c=Date.now(),l=function(){-1!==e.url.indexOf(la)&&ha.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(r){}else e=t;setTimeout((function(){i(e)}),0)}else a(new TypeError("Network request failed, status: "+s.status));l()}},s.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed, occur error"))}),0),l()},s.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed, timeout"))}),0),l()},s.onabort=function(){setTimeout((function(){a(new DOMException("Aborted","AbortError"))}),0),l()};var u=t;if((null==o?void 0:o.params)&&(u=u+"?"+function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var o=t[r],i=e[o],a=encodeURIComponent(o)+"="+encodeURIComponent(i);n=r>=1?n+"&"+a:a}return n}(o.params)),s.open(n,u,!0),(null==o?void 0:o.timeout)&&"number"==typeof o.timeout?s.timeout=o.timeout:s.timeout=5e3,null==o?void 0:o.headers)for(var d=o.headers,p=0,f=Object.keys(d);p<f.length;p++){var h=f[p];s.setRequestHeader(h,d[h])}(null==o?void 0:o.withCredentials)&&(s.withCredentials=o.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)}))},ma=function(e,t,n){void 0===n&&(n={});var o=n.headers?r({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return _a({url:e,method:"POST",data:t,config:r(r({},n),{headers:o})})},ga=i((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(u){}if(o[l]=c,e===l)break}catch(u){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}));function va(e){e="object"==typeof e?e:{};var t=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var o=0,i=void 0;o<36;o++)r[o]||(i=0|Math.random()*t,r[o]=e[19==o?3&i|8:i]);return"verify_"+n+"_"+r.join("")}(),n={path:"/"};return e.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(e.domain)&&(n.domain=e.domain),ga.set(ca,t,n),t}var wa=function(e){void 0===e&&(e={});var t=function(e){void 0===e&&(e={});var t=ga.get(ca);return t&&0===t.indexOf("verify_")||(t=va(e)),t}(e);return t},Ea=function(e){return ma(""+(e||"https://vcs-va-useast2a.byteoversea.com")+la,{},{headers:{"X-Setting-Flag":1}})},ya=function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){void 0===t&&(t={}),this.isInit||(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=r(r({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),this.channelType=aa)},e.prototype.getTeaWebId=function(){return this.fetchWebId||(this.fetchWebId=function(e,t){var n=sa[t],r=da(t);return ma(""+n+r,{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then((function(e){return e.web_id}))}(this.conf.app_id,this.channelType)),this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then((function(o){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(r(r(r({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:o,web_id:o}}];n.sendEvents(i)})).catch((function(e){console.log("err: ",e)}))},e.prototype.sendEvents=function(e){(function(e,t){var n=sa[t],r=ua(t);return ma(""+n+r,e)})(e,this.channelType).catch((function(e){console.log("report err: ",e)}))},e}(),Aa=new ya,ba={back_up_js_v2:{in:["https://lf-rc2.yhgfb-static.com/obj/rc-client-security-aiso/secsdk-captcha/@latest/captcha.js","https://sf16-scmcdn-useast2a.ibytedtos.com/obj/static-aiso/secsdk-captcha/@latest/captcha.js"]},js_v2:{in:"https://lf-rc1.yhgfb-static.com/obj/rc-client-security-aiso/secsdk-captcha/@latest/captcha.js"}},Ta={},Sa={executor:"Function",static_domain:"",settingHost:""},Ca=function(e,t,n,r){ha.setFileName(e);var o,i=Date.now(),a=pi.resolve({});return a="script"===t?(o=e,new pi((function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),r.setAttribute("src",o),n.appendChild(r);var i=setTimeout((function(){t(new Error("LoadJSSDKMoreTan4000ms"))}),4e3);r.onload=function(){clearTimeout(i),e(0)},r.onerror=function(){clearTimeout(i),t(new Error("Failed to load SDK!"))}}))).then((function(){return window.verifySDK})):function(e,t){return void 0===t&&(t={}),_a({url:e,method:"GET",config:t})}(e,{timeout:2e4}).then((function(e){if(n&&r&&n!==r){var t=new RegExp(n,"g");e=e.replace(t,r)}var o=function(e){var t={exports:{}},n=new Function("exports","module",e);try{n(t.exports,t)}catch(r){ha.reportJsError({message:null==r?void 0:r.message,stack:null==r?void 0:r.stack,filename:null==r?void 0:r.filename})}return t}(e);return o.exports})),a.then((function(t){return ha.reportResource({url:e,startTime:Date.now(),duration:Date.now()-i}),t})).catch((function(t){return ha.reportResourceError(e),pi.reject(t)}))},Ia=function(){function e(){}return e.get=function(){var t;return 0!==e.status&&3!==e.status||(e.status=1,e.core=(t=Date.now(),Ea(Sa.settingHost).catch((function(){return Ea(Sa.settingHost)})).then((function(e){var n,r;return Aa.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),(null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r[aa])?e.verify:ba})).catch((function(e){return Aa.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),ba}))).then((function(t){var n,r,o,i=null===(n=t.js_v2)||void 0===n?void 0:n[aa],a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r[aa])||[],s=null===(o=i.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===o?void 0:o[1];Sa.static_domain&&s&&(i=i.replace(s,Sa.static_domain));var c=[i].concat(a);return new pi((function(t,n){var r=function(){var o,i=c.shift(),a=null===(o=i.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===o?void 0:o[1];Ca(i,Sa.executor,s,a).then((function(n){t(n),e.status=2,Aa.trackEvent("hotsdk_loadscript",{is_success:1})})).catch((function(t){c.length?r():(n(t),e.status=3,Aa.trackEvent("hotsdk_loadscript",{is_success:0}))}))};r()}))})).catch((function(e){return pi.reject(e)}))),e.core},e.status=0,e}(),Pa=function(e){e.static_domain&&(Sa.static_domain=e.static_domain),e.settingHost&&(Sa.settingHost=e.settingHost),e.executor&&(Sa.executor=e.executor)},La=function(){function e(){}return e.config=function(e){Pa(e)},e.init=function(e,t,n){var o=pa(e);return Aa.init(r(r({},o),{region:aa})),ha.init(o,ma),ha.start(),Ia.get().then((function(n){var o;Object.assign(Ta,r(r({},e),{captchaOptions:r(r({},e.captchaOptions),{h5_check_version:(null===(o=e.captchaOptions)||void 0===o?void 0:o.closeDecisionCheck)?"0.0.0":"3.9.1"})}));var i=n.initVerifyCenter(Ta);if(!t)return i;t(i)})).catch((function(e){if(!n)return pi.reject(e);n(e)}))},e}();t.TTVerifyCenter=La,t.close=function(){Ia.get().then((function(e){null==e||e.closeCaptcha()}))},t.config=Pa,t.getFp=function(){var e,t,n=(null===(e=null==Ta?void 0:Ta.captchaOptions)||void 0===e?void 0:e.fp)||ga.get(ca)||""||wa(null===(t=null==Ta?void 0:Ta.captchaOptions)||void 0===t?void 0:t.fpCookieOption);return pi.resolve(n)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var o=pa(e);Aa.init(r(r({},o),{region:aa})),ha.init(o,ma),ha.start(),Ia.get().then((function(n){var o;Object.assign(Ta,r(r({},e),{captchaOptions:r(r({},e.captchaOptions),{h5_check_version:(null===(o=e.captchaOptions)||void 0===o?void 0:o.closeDecisionCheck)?"0.0.0":"3.9.1"})})),null==n||n.initVerifyOptions(Ta),t(n)})).catch((function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})}))},t.render=function(e){Ia.get().then((function(t){null==t||t.autoRender(e)})).catch((function(e){console.log("err: ",e)}))},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:aa,subtype:"",verify_event:"",fp:"",detail:""};return t.subtype=3059===e?"text":3060===e?"3d":99996===e?"whirl":"slide",JSON.stringify(t)}},55231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var a,s,c=function(e){return e&&e.Math==Math&&e},l=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof o&&o)||function(){return this}()||Function("return this")(),u=Function.prototype,d=u.apply,p=u.bind,f=u.call,h="object"==typeof Reflect&&Reflect.apply||(p?f.bind(d):function(){return f.apply(d,arguments)}),_=Function.prototype,m=_.bind,g=_.call,v=m&&m.bind(g),w=m?function(e){return e&&v(g,e)}:function(e){return e&&function(){return g.apply(e,arguments)}},E=function(e){return"function"==typeof e},y=function(e){try{return!!e()}catch(Oi){return!0}},A=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=Function.prototype.call,T=b.bind?b.bind(b):function(){return b.apply(b,arguments)},S={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,I={f:C&&!S.call({1:2},1)?function(e){var t=C(this,e);return!!t&&t.enumerable}:S},P=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},L=w({}.toString),O=w("".slice),R=function(e){return O(L(e),8,-1)},k=l.Object,N=w("".split),x=y((function(){return!k("z").propertyIsEnumerable(0)}))?function(e){return"String"==R(e)?N(e,""):k(e)}:k,D=l.TypeError,H=function(e){if(null==e)throw D("Can't call method on "+e);return e},M=function(e){return x(H(e))},F=function(e){return"object"==typeof e?null!==e:E(e)},j={},U=function(e){return E(e)?e:void 0},B=function(e,t){return arguments.length<2?U(j[e])||U(l[e]):j[e]&&j[e][t]||l[e]&&l[e][t]},G=w({}.isPrototypeOf),W=B("navigator","userAgent")||"",V=l.process,q=l.Deno,$=V&&V.versions||q&&q.version,X=$&&$.v8;X&&(s=(a=X.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&W&&(!(a=W.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=W.match(/Chrome\/(\d+)/))&&(s=+a[1]);var K,Y=s,z=!!Object.getOwnPropertySymbols&&!y((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),J=z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=l.Object,Q=J?function(e){return"symbol"==typeof e}:function(e){var t=B("Symbol");return E(t)&&G(t.prototype,Z(e))},ee=l.String,te=function(e){try{return ee(e)}catch(Oi){return"Object"}},ne=l.TypeError,re=function(e){if(E(e))return e;throw ne(te(e)+" is not a function")},oe=function(e,t){var n=e[t];return null==n?void 0:re(n)},ie=l.TypeError,ae=Object.defineProperty,se="__core-js_shared__",ce=l[se]||function(e,t){try{ae(l,e,{value:t,configurable:!0,writable:!0})}catch(Oi){l[e]=t}return t}(se,{}),le=i((function(e){(e.exports=function(e,t){return ce[e]||(ce[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),ue=l.Object,de=function(e){return ue(H(e))},pe=w({}.hasOwnProperty),fe=Object.hasOwn||function(e,t){return pe(de(e),t)},he=0,_e=Math.random(),me=w(1..toString),ge=function(e){return"Symbol("+(void 0===e?"":e)+")_"+me(++he+_e,36)},ve=le("wks"),we=l.Symbol,Ee=we&&we.for,ye=J?we:we&&we.withoutSetter||ge,Ae=function(e){if(!fe(ve,e)||!z&&"string"!=typeof ve[e]){var t="Symbol."+e;z&&fe(we,e)?ve[e]=we[e]:ve[e]=J&&Ee?Ee(t):ye(t)}return ve[e]},be=l.TypeError,Te=Ae("toPrimitive"),Se=function(e,t){if(!F(e)||Q(e))return e;var n,r=oe(e,Te);if(r){if(void 0===t&&(t="default"),n=T(r,e,t),!F(n)||Q(n))return n;throw be("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&E(n=e.toString)&&!F(r=T(n,e)))return r;if(E(n=e.valueOf)&&!F(r=T(n,e)))return r;if("string"!==t&&E(n=e.toString)&&!F(r=T(n,e)))return r;throw ie("Can't convert object to primitive value")}(e,t)},Ce=function(e){var t=Se(e,"string");return Q(t)?t:t+""},Ie=l.document,Pe=F(Ie)&&F(Ie.createElement),Le=function(e){return Pe?Ie.createElement(e):{}},Oe=!A&&!y((function(){return 7!=Object.defineProperty(Le("div"),"a",{get:function(){return 7}}).a})),Re=Object.getOwnPropertyDescriptor,ke={f:A?Re:function(e,t){if(e=M(e),t=Ce(t),Oe)try{return Re(e,t)}catch(Oi){}if(fe(e,t))return P(!T(I.f,e,t),e[t])}},Ne=/#|\.prototype\./,xe=function(e,t){var n=He[De(e)];return n==Fe||n!=Me&&(E(t)?y(t):!!t)},De=xe.normalize=function(e){return String(e).replace(Ne,".").toLowerCase()},He=xe.data={},Me=xe.NATIVE="N",Fe=xe.POLYFILL="P",je=xe,Ue=w(w.bind),Be=function(e,t){return re(e),void 0===t?e:Ue?Ue(e,t):function(){return e.apply(t,arguments)}},Ge=l.String,We=l.TypeError,Ve=function(e){if(F(e))return e;throw We(Ge(e)+" is not an object")},qe=l.TypeError,$e=Object.defineProperty,Xe={f:A?$e:function(e,t,n){if(Ve(e),t=Ce(t),Ve(n),Oe)try{return $e(e,t,n)}catch(Oi){}if("get"in n||"set"in n)throw qe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ke=A?function(e,t,n){return Xe.f(e,t,P(1,n))}:function(e,t,n){return e[t]=n,e},Ye=ke.f,ze=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return h(e,this,arguments)};return t.prototype=e.prototype,t},Je=function(e,t){var n,r,o,i,a,s,c,u,d=e.target,p=e.global,f=e.stat,h=e.proto,_=p?l:f?l[d]:(l[d]||{}).prototype,m=p?j:j[d]||Ke(j,d,{})[d],g=m.prototype;for(o in t)n=!je(p?o:d+(f?".":"#")+o,e.forced)&&_&&fe(_,o),a=m[o],n&&(s=e.noTargetGet?(u=Ye(_,o))&&u.value:_[o]),i=n&&s?s:t[o],n&&typeof a==typeof i||(c=e.bind&&n?Be(i,l):e.wrap&&n?ze(i):h&&E(i)?w(i):i,(e.sham||i&&i.sham||a&&a.sham)&&Ke(c,"sham",!0),Ke(m,o,c),h&&(fe(j,r=d+"Prototype")||Ke(j,r,{}),Ke(j[r],o,i),e.real&&g&&!g[o]&&Ke(g,o,i)))},Ze=le("keys"),Qe=function(e){return Ze[e]||(Ze[e]=ge(e))},et=!y((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),tt=Qe("IE_PROTO"),nt=l.Object,rt=nt.prototype,ot=et?nt.getPrototypeOf:function(e){var t=de(e);if(fe(t,tt))return t[tt];var n=t.constructor;return E(n)&&t instanceof n?n.prototype:t instanceof nt?rt:null},it=l.String,at=l.TypeError,st=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=w(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(Oi){}return function(n,r){return Ve(n),function(e){if("object"==typeof e||E(e))return e;throw at("Can't set "+it(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),ct=Math.ceil,lt=Math.floor,ut=function(e){var t=+e;return t!=t||0===t?0:(t>0?lt:ct)(t)},dt=Math.max,pt=Math.min,ft=Math.min,ht=function(e){return(t=e.length)>0?ft(ut(t),9007199254740991):0;var t},_t=function(e){return function(t,n,r){var o,i=M(t),a=ht(i),s=function(e,t){var n=ut(e);return n<0?dt(n+t,0):pt(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},mt={includes:_t(!0),indexOf:_t(!1)},gt={},vt=mt.indexOf,wt=w([].push),Et=function(e,t){var n,r=M(e),o=0,i=[];for(n in r)!fe(gt,n)&&fe(r,n)&&wt(i,n);for(;t.length>o;)fe(r,n=t[o++])&&(~vt(i,n)||wt(i,n));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],At=yt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(e){return Et(e,At)}},Tt={f:Object.getOwnPropertySymbols},St=w([].concat),Ct=B("Reflect","ownKeys")||function(e){var t=bt.f(Ve(e)),n=Tt.f;return n?St(t,n(e)):t},It=Object.keys||function(e){return Et(e,yt)},Pt=A?Object.defineProperties:function(e,t){Ve(e);for(var n,r=M(t),o=It(t),i=o.length,a=0;i>a;)Xe.f(e,n=o[a++],r[n]);return e},Lt=B("document","documentElement"),Ot="prototype",Rt="script",kt=Qe("IE_PROTO"),Nt=function(){},xt=function(e){return"<"+Rt+">"+e+"</"+Rt+">"},Dt=function(e){e.write(xt("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ht=function(){try{K=new ActiveXObject("htmlfile")}catch(Oi){}var e,t,n;Ht="undefined"!=typeof document?document.domain&&K?Dt(K):(t=Le("iframe"),n="java"+Rt+":",t.style.display="none",Lt.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(xt("document.F=Object")),e.close(),e.F):Dt(K);for(var r=yt.length;r--;)delete Ht[Ot][yt[r]];return Ht()};gt[kt]=!0;var Mt=Object.create||function(e,t){var n;return null!==e?(Nt[Ot]=Ve(e),n=new Nt,Nt[Ot]=null,n[kt]=e):n=Ht(),void 0===t?n:Pt(n,t)},Ft=w("".replace),jt=String(Error("zxcasd").stack),Ut=/\n\s*at [^:]*:[^\n]*/,Bt=Ut.test(jt),Gt={},Wt=Ae("iterator"),Vt=Array.prototype,qt={};qt[Ae("toStringTag")]="z";var $t="[object z]"===String(qt),Xt=Ae("toStringTag"),Kt=l.Object,Yt="Arguments"==R(function(){return arguments}()),zt=$t?R:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(Oi){}}(t=Kt(e),Xt))?n:Yt?R(t):"Object"==(r=R(t))&&E(t.callee)?"Arguments":r},Jt=Ae("iterator"),Zt=function(e){if(null!=e)return oe(e,Jt)||oe(e,"@@iterator")||Gt[zt(e)]},Qt=l.TypeError,en=function(e,t,n){var r,o;Ve(e);try{if(!(r=oe(e,"return"))){if("throw"===t)throw n;return n}r=T(r,e)}catch(Oi){o=!0,r=Oi}if("throw"===t)throw n;if(o)throw r;return Ve(r),n},tn=l.TypeError,nn=function(e,t){this.stopped=e,this.result=t},rn=nn.prototype,on=function(e,t,n){var r,o,i,a,s,c,l,u,d=n&&n.that,p=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),_=Be(t,d),m=function(e){return r&&en(r,"normal",e),new nn(!0,e)},g=function(e){return p?(Ve(e),h?_(e[0],e[1],m):_(e[0],e[1])):h?_(e,m):_(e)};if(f)r=e;else{if(!(o=Zt(e)))throw tn(te(e)+" is not iterable");if(void 0!==(u=o)&&(Gt.Array===u||Vt[Wt]===u)){for(i=0,a=ht(e);a>i;i++)if((s=g(e[i]))&&G(rn,s))return s;return new nn(!1)}r=function(e,t){var n=arguments.length<2?Zt(e):t;if(re(n))return Ve(T(n,e));throw Qt(te(e)+" is not iterable")}(e,o)}for(c=r.next;!(l=T(c,r)).done;){try{s=g(l.value)}catch(Oi){en(r,"throw",Oi)}if("object"==typeof s&&s&&G(rn,s))return s}return new nn(!1)},an=l.String,sn=function(e){if("Symbol"===zt(e))throw TypeError("Cannot convert a Symbol value to a string");return an(e)},cn=!y((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",P(1,7)),7!==e.stack)})),ln=Ae("toStringTag"),un=l.Error,dn=[].push,pn=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,o=G(fn,this);st?n=st(new un,o?ot(this):fn):(n=o?this:Mt(fn),Ke(n,ln,"Error")),void 0!==t&&Ke(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:sn(e)}(t)),cn&&Ke(n,"stack",function(e,t){if(Bt&&"string"==typeof e)for(;t--;)e=Ft(e,Ut,"");return e}(n.stack,1)),function(e,t){F(t)&&"cause"in t&&Ke(e,"cause",t.cause)}(n,r);var i=[];return on(e,dn,{that:i}),Ke(n,"errors",i),n};st?st(pn,un):function(e,t,n){for(var r=Ct(t),o=Xe.f,i=ke.f,a=0;a<r.length;a++){var s=r[a];fe(e,s)||n&&fe(n,s)||o(e,s,i(t,s))}}(pn,un,{name:!0});var fn=pn.prototype=Mt(un.prototype,{constructor:P(1,pn),message:P(1,""),name:P(1,"AggregateError")});Je({global:!0},{AggregateError:pn});var hn=w(Function.toString);E(ce.inspectSource)||(ce.inspectSource=function(e){return hn(e)});var _n,mn,gn,vn=ce.inspectSource,wn=l.WeakMap,En=E(wn)&&/native code/.test(vn(wn)),yn="Object already initialized",An=l.TypeError,bn=l.WeakMap;if(En||ce.state){var Tn=ce.state||(ce.state=new bn),Sn=w(Tn.get),Cn=w(Tn.has),In=w(Tn.set);_n=function(e,t){if(Cn(Tn,e))throw new An(yn);return t.facade=e,In(Tn,e,t),t},mn=function(e){return Sn(Tn,e)||{}},gn=function(e){return Cn(Tn,e)}}else{var Pn=Qe("state");gt[Pn]=!0,_n=function(e,t){if(fe(e,Pn))throw new An(yn);return t.facade=e,Ke(e,Pn,t),t},mn=function(e){return fe(e,Pn)?e[Pn]:{}},gn=function(e){return fe(e,Pn)}}var Ln,On,Rn,kn={set:_n,get:mn,has:gn,enforce:function(e){return gn(e)?mn(e):_n(e,{})},getterFor:function(e){return function(t){var n;if(!F(t)||(n=mn(t)).type!==e)throw An("Incompatible receiver, "+e+" required");return n}}},Nn=Function.prototype,xn=A&&Object.getOwnPropertyDescriptor,Dn=fe(Nn,"name"),Hn={EXISTS:Dn,PROPER:Dn&&"something"===function(){}.name,CONFIGURABLE:Dn&&(!A||A&&xn(Nn,"name").configurable)},Mn=function(e,t,n,r){r&&r.enumerable?e[t]=n:Ke(e,t,n)},Fn=Ae("iterator"),jn=!1;[].keys&&("next"in(Rn=[].keys())?(On=ot(ot(Rn)))!==Object.prototype&&(Ln=On):jn=!0);var Un=null==Ln||y((function(){var e={};return Ln[Fn].call(e)!==e}));Ln=Un?{}:Mt(Ln),E(Ln[Fn])||Mn(Ln,Fn,(function(){return this}));var Bn={IteratorPrototype:Ln,BUGGY_SAFARI_ITERATORS:jn},Gn=$t?{}.toString:function(){return"[object "+zt(this)+"]"},Wn=Xe.f,Vn=Ae("toStringTag"),qn=function(e,t,n,r){if(e){var o=n?e:e.prototype;fe(o,Vn)||Wn(o,Vn,{configurable:!0,value:t}),r&&!$t&&Ke(o,"toString",Gn)}},$n=Bn.IteratorPrototype,Xn=function(){return this},Kn=Hn.PROPER,Yn=Bn.BUGGY_SAFARI_ITERATORS,zn=Ae("iterator"),Jn="keys",Zn="values",Qn="entries",er=function(){return this},tr=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o=t+" Iterator";e.prototype=Mt($n,{next:P(+!r,n)}),qn(e,o,!1,!0),Gt[o]=Xn}(n,t,r);var s,c,l,u=function(e){if(e===o&&_)return _;if(!Yn&&e in f)return f[e];switch(e){case Jn:case Zn:case Qn:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,f=e.prototype,h=f[zn]||f["@@iterator"]||o&&f[o],_=!Yn&&h||u(o),m="Array"==t&&f.entries||h;if(m&&(s=ot(m.call(new e)))!==Object.prototype&&s.next&&(qn(s,d,!0,!0),Gt[d]=er),Kn&&o==Zn&&h&&h.name!==Zn&&(p=!0,_=function(){return T(h,this)}),o)if(c={values:u(Zn),keys:i?_:u(Jn),entries:u(Qn)},a)for(l in c)(Yn||p||!(l in f))&&Mn(f,l,c[l]);else Je({target:t,proto:!0,forced:Yn||p},c);return a&&f[zn]!==_&&Mn(f,zn,_,{name:o}),Gt[t]=_,c};Xe.f;var nr="Array Iterator",rr=kn.set,or=kn.getterFor(nr);tr(Array,"Array",(function(e,t){rr(this,{type:nr,target:M(e),index:0,kind:t})}),(function(){var e=or(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Gt.Arguments=Gt.Array;var ir=l.Promise,ar=Ae("species"),sr=l.TypeError,cr=Ae("iterator"),lr=!1;try{var ur=0,dr={next:function(){return{done:!!ur++}},return:function(){lr=!0}};dr[cr]=function(){return this},Array.from(dr,(function(){throw 2}))}catch(Oi){}var pr=function(){},fr=[],hr=B("Reflect","construct"),_r=/^\s*(?:class|function)\b/,mr=w(_r.exec),gr=!_r.exec(pr),vr=function(e){if(!E(e))return!1;try{return hr(pr,fr,e),!0}catch(Oi){return!1}},wr=function(e){if(!E(e))return!1;switch(zt(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return gr||!!mr(_r,vn(e))}catch(Oi){return!0}};wr.sham=!0;var Er,yr,Ar,br,Tr=!hr||y((function(){var e;return vr(vr.call)||!vr(Object)||!vr((function(){e=!0}))||e}))?wr:vr,Sr=l.TypeError,Cr=Ae("species"),Ir=function(e,t){var n,r=Ve(e).constructor;return void 0===r||null==(n=Ve(r)[Cr])?t:function(e){if(Tr(e))return e;throw Sr(te(e)+" is not a constructor")}(n)},Pr=w([].slice),Lr=/(?:ipad|iphone|ipod).*applewebkit/i.test(W),Or="process"==R(l.process),Rr=l.setImmediate,kr=l.clearImmediate,Nr=l.process,xr=l.Dispatch,Dr=l.Function,Hr=l.MessageChannel,Mr=l.String,Fr=0,jr={},Ur="onreadystatechange";try{Er=l.location}catch(Oi){}var Br=function(e){if(fe(jr,e)){var t=jr[e];delete jr[e],t()}},Gr=function(e){return function(){Br(e)}},Wr=function(e){Br(e.data)},Vr=function(e){l.postMessage(Mr(e),Er.protocol+"//"+Er.host)};Rr&&kr||(Rr=function(e){var t=Pr(arguments,1);return jr[++Fr]=function(){h(E(e)?e:Dr(e),void 0,t)},yr(Fr),Fr},kr=function(e){delete jr[e]},Or?yr=function(e){Nr.nextTick(Gr(e))}:xr&&xr.now?yr=function(e){xr.now(Gr(e))}:Hr&&!Lr?(br=(Ar=new Hr).port2,Ar.port1.onmessage=Wr,yr=Be(br.postMessage,br)):l.addEventListener&&E(l.postMessage)&&!l.importScripts&&Er&&"file:"!==Er.protocol&&!y(Vr)?(yr=Vr,l.addEventListener("message",Wr,!1)):yr=Ur in Le("script")?function(e){Lt.appendChild(Le("script"))[Ur]=function(){Lt.removeChild(this),Br(e)}}:function(e){setTimeout(Gr(e),0)});var qr,$r,Xr,Kr,Yr,zr,Jr,Zr,Qr={set:Rr,clear:kr},eo=/ipad|iphone|ipod/i.test(W)&&void 0!==l.Pebble,to=/web0s(?!.*chrome)/i.test(W),no=ke.f,ro=Qr.set,oo=l.MutationObserver||l.WebKitMutationObserver,io=l.document,ao=l.process,so=l.Promise,co=no(l,"queueMicrotask"),lo=co&&co.value;lo||(qr=function(){var e,t;for(Or&&(e=ao.domain)&&e.exit();$r;){t=$r.fn,$r=$r.next;try{t()}catch(Oi){throw $r?Kr():Xr=void 0,Oi}}Xr=void 0,e&&e.enter()},Lr||Or||to||!oo||!io?!eo&&so&&so.resolve?((Jr=so.resolve(void 0)).constructor=so,Zr=Be(Jr.then,Jr),Kr=function(){Zr(qr)}):Or?Kr=function(){ao.nextTick(qr)}:(ro=Be(ro,l),Kr=function(){ro(qr)}):(Yr=!0,zr=io.createTextNode(""),new oo(qr).observe(zr,{characterData:!0}),Kr=function(){zr.data=Yr=!Yr}));var uo=lo||function(e){var t={fn:e,next:void 0};Xr&&(Xr.next=t),$r||($r=t,Kr()),Xr=t},po=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=re(t),this.reject=re(n)},fo={f:function(e){return new po(e)}},ho=function(e,t){if(Ve(e),F(t)&&t.constructor===e)return t;var n=fo.f(e);return(0,n.resolve)(t),n.promise},_o=function(e){try{return{error:!1,value:e()}}catch(Oi){return{error:!0,value:Oi}}},mo=function(){this.head=null,this.tail=null};mo.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var go,vo,wo,Eo=mo,yo="object"==typeof window,Ao=Qr.set,bo=Ae("species"),To="Promise",So=kn.getterFor(To),Co=kn.set,Io=kn.getterFor(To),Po=ir&&ir.prototype,Lo=ir,Oo=Po,Ro=l.TypeError,ko=l.document,No=l.process,xo=fo.f,Do=xo,Ho=!!(ko&&ko.createEvent&&l.dispatchEvent),Mo=E(l.PromiseRejectionEvent),Fo="unhandledrejection",jo=je(To,(function(){var e=vn(Lo),t=e!==String(Lo);if(!t&&66===Y)return!0;if(!Oo.finally)return!0;if(Y>=51&&/native code/.test(e))return!1;var n=new Lo((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[bo]=r,!(n.then((function(){}))instanceof r)||!t&&yo&&!Mo})),Uo=jo||!function(e,t){if(!t&&!lr)return!1;var n=!1;try{var r={};r[cr]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(Oi){}return n}((function(e){Lo.all(e).catch((function(){}))})),Bo=function(e){var t;return!(!F(e)||!E(t=e.then))&&t},Go=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&Xo(t),t.rejection=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),o=!0)),n===e.promise?l(Ro("Promise-chain cycle")):(r=Bo(n))?T(r,n,c,l):c(n)):l(i)}catch(Oi){u&&!o&&u.exit(),l(Oi)}},Wo=function(e,t){e.notified||(e.notified=!0,uo((function(){for(var n,r=e.reactions;n=r.get();)Go(n,e);e.notified=!1,t&&!e.rejection&&qo(e)})))},Vo=function(e,t,n){var r,o;Ho?((r=ko.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Mo&&(o=l["on"+e])?o(r):e===Fo&&function(e,t){var n=l.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},qo=function(e){T(Ao,l,(function(){var t,n=e.facade,r=e.value;if($o(e)&&(t=_o((function(){Or?No.emit("unhandledRejection",r,n):Vo(Fo,n,r)})),e.rejection=Or||$o(e)?2:1,t.error))throw t.value}))},$o=function(e){return 1!==e.rejection&&!e.parent},Xo=function(e){T(Ao,l,(function(){var t=e.facade;Or?No.emit("rejectionHandled",t):Vo("rejectionhandled",t,e.value)}))},Ko=function(e,t,n){return function(r){e(t,r,n)}},Yo=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Wo(e,!0))},zo=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Ro("Promise can't be resolved itself");var r=Bo(t);r?uo((function(){var n={done:!1};try{T(r,t,Ko(zo,n,e),Ko(Yo,n,e))}catch(Oi){Yo(n,Oi,e)}})):(e.value=t,e.state=1,Wo(e,!1))}catch(Oi){Yo({done:!1},Oi,e)}}};jo&&(Lo=function(e){!function(e,t){if(G(t,e))return e;throw sr("Incorrect invocation")}(this,Oo),re(e),T(go,this);var t=So(this);try{e(Ko(zo,t),Ko(Yo,t))}catch(Oi){Yo(t,Oi)}},Oo=Lo.prototype,(go=function(e){Co(this,{type:To,done:!1,notified:!1,parent:!1,reactions:new Eo,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:Mn(e,r,t[r],n);return e}(Oo,{then:function(e,t){var n=Io(this),r=xo(Ir(this,Lo));return n.parent=!0,r.ok=!E(e)||e,r.fail=E(t)&&t,r.domain=Or?No.domain:void 0,0==n.state?n.reactions.add(r):uo((function(){Go(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),vo=function(){var e=new go,t=So(e);this.promise=e,this.resolve=Ko(zo,t),this.reject=Ko(Yo,t)},fo.f=xo=function(e){return e===Lo||e===wo?new vo(e):Do(e)}),Je({global:!0,wrap:!0,forced:jo},{Promise:Lo}),qn(Lo,To,!1,!0),function(e){var t=B(e),n=Xe.f;A&&t&&!t[ar]&&n(t,ar,{configurable:!0,get:function(){return this}})}(To),wo=B(To),Je({target:To,stat:!0,forced:jo},{reject:function(e){var t=xo(this);return T(t.reject,void 0,e),t.promise}}),Je({target:To,stat:!0,forced:!0},{resolve:function(e){return ho(this===wo?Lo:this,e)}}),Je({target:To,stat:!0,forced:Uo},{all:function(e){var t=this,n=xo(t),r=n.resolve,o=n.reject,i=_o((function(){var n=re(t.resolve),i=[],a=0,s=1;on(e,(function(e){var c=a++,l=!1;s++,T(n,t,e).then((function(e){l||(l=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=xo(t),r=n.reject,o=_o((function(){var o=re(t.resolve);on(e,(function(e){T(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Je({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=fo.f(t),r=n.resolve,o=n.reject,i=_o((function(){var n=re(t.resolve),o=[],i=0,a=1;on(e,(function(e){var s=i++,c=!1;a++,T(n,t,e).then((function(e){c||(c=!0,o[s]={status:"fulfilled",value:e},--a||r(o))}),(function(e){c||(c=!0,o[s]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var Jo="No one promise resolved";Je({target:"Promise",stat:!0},{any:function(e){var t=this,n=B("AggregateError"),r=fo.f(t),o=r.resolve,i=r.reject,a=_o((function(){var r=re(t.resolve),a=[],s=0,c=1,l=!1;on(e,(function(e){var u=s++,d=!1;c++,T(r,t,e).then((function(e){d||l||(l=!0,o(e))}),(function(e){d||l||(d=!0,a[u]=e,--c||i(new n(a,Jo)))}))})),--c||i(new n(a,Jo))}));return a.error&&i(a.value),r.promise}});var Zo=!!ir&&y((function(){ir.prototype.finally.call({then:function(){}},(function(){}))}));Je({target:"Promise",proto:!0,real:!0,forced:Zo},{finally:function(e){var t=Ir(this,B("Promise")),n=E(e);return this.then(n?function(n){return ho(t,e()).then((function(){return n}))}:e,n?function(n){return ho(t,e()).then((function(){throw n}))}:e)}});var Qo=w("".charAt),ei=w("".charCodeAt),ti=w("".slice),ni=function(e){return function(t,n){var r,o,i=sn(H(t)),a=ut(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=ei(i,a))<55296||r>56319||a+1===s||(o=ei(i,a+1))<56320||o>57343?e?Qo(i,a):r:e?ti(i,a,a+2):o-56320+(r-55296<<10)+65536}},ri={codeAt:ni(!1),charAt:ni(!0)}.charAt,oi="String Iterator",ii=kn.set,ai=kn.getterFor(oi);tr(String,"String",(function(e){ii(this,{type:oi,string:sn(e),index:0})}),(function(){var e,t=ai(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=ri(n,r),t.index+=e.length,{value:e,done:!1})}));var si=j.Promise,ci=Ae("toStringTag");for(var li in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var ui=l[li],di=ui&&ui.prototype;di&&zt(di)!==ci&&Ke(di,ci,li),Gt[li]=Gt.Array}var pi=si,fi=10,hi=1e3,_i=function(e){return JSON.stringify({ev_type:"batch",list:e})};var mi=function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mi.apply(this,arguments)};function gi(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(Oi){o={error:Oi}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function vi(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var wi=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],Ei=function(){};function yi(e){return e}function Ai(e){return"object"==typeof e&&null!==e}var bi=Object.prototype;function Ti(e){return"[object Array]"===bi.toString.call(e)}function Si(e){return"number"==typeof e}function Ci(e){return"string"==typeof e}function Ii(e,t){if(!Ti(e))return!1;if(0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}function Pi(e){try{return Ci(e)?e:JSON.stringify(e)}catch(t){return"[FAILED_TO_STRINGIFY]:"+String(t)}}var Li=0,Oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,vi(["[SDK]",Date.now(),(""+Li++).padStart(8," ")],gi(e),!1))},Ri=0,ki=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,vi(["[SDK]",Date.now(),(""+Ri++).padStart(8," ")],gi(e),!1))},Ni=function(e){return Math.random()<Number(e)},xi=function(e,t){return e<Number(t)},Di=function(e){return function(t){for(var n=t,r=0;r<e.length&&n;r++)try{n=e[r](n)}catch(o){Oi(o)}return n}};function Hi(){var e=function(){for(var e=new Array(16),t=0,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}(e)}function Mi(e){var t,n,r=e.builder,o=e.createSender,i=e.createDefaultConfig,a=e.createConfigManager,s=e.userConfigNormalizer,c=e.initConfigNormalizer,l=e.validateInitConfig,u={};wi.forEach((function(e){return u[e]=[]}));var d=!1,p=!1,f=[],h=[],_={getBuilder:function(){return r},getSender:function(){return t},getPreStartQueue:function(){return f},init:function(e){if(d)ki("already inited");else{if(!(e&&Ai(e)&&l(e)))throw new Error("invalid InitConfig, init failed");var r=i(e);if(!r)throw new Error("defaultConfig missing");var s=c(e);if((n=a(r)).setConfig(s),n.onChange((function(){m("config")})),!(t=o(n.getConfig())))throw new Error("sender missing");d=!0,m("init",!0)}},set:function(e){d&&e&&Ai(e)&&(m("beforeConfig",!1,e),null==n||n.setConfig(e))},config:function(e){if(d)return e&&Ai(e)&&(m("beforeConfig",!1,e),null==n||n.setConfig(s(e))),null==n?void 0:n.getConfig()},provide:function(e,t){Ii(h,e)?ki("cannot provide "+e+", reserved"):(_[e]=t,m("provide",!1,e))},start:function(){var e=this;d&&(p||null==n||n.onReady((function(){p=!0,m("start",!0),f.forEach((function(t){return e.build(t)})),f=[]})))},report:function(e){if(e){var t=Di(u.report)(e);t&&(p?this.build(t):f.push(t))}},build:function(e){if(p){var t=Di(u.beforeBuild)(e);if(t){var n=r.build(t);if(n){var o=Di(u.build)(n);o&&this.send(o)}}}},send:function(e){if(p){var n=Di(u.beforeSend)(e);n&&(t.send(n),m("send",!1,n))}},destroy:function(){m("beforeDestroy",!0)},on:function(e,t){"init"===e&&d||"start"===e&&p?t():u[e]&&u[e].push(t)},off:function(e,t){u[e]&&(u[e]=function(e,t){if(!Ti(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e}(u[e],t))}};return h=Object.keys(_),_;function m(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];u[e].forEach((function(e){try{e.apply(void 0,vi([],gi(n),!1))}catch(t){}})),t&&(u[e].length=0)}}var Fi=function(e){var t=function(){var e={},t={},n={set:function(r,o){return e[r]=o,t[r]=Pi(o),n},merge:function(r){return e=mi(mi({},e),r),Object.keys(r).forEach((function(e){t[e]=Pi(r[e])})),n},delete:function(r){return delete e[r],delete t[r],n},clear:function(){return e={},t={},n},get:function(e){return t[e]},toString:function(){return mi({},t)}};return n}();e.provide("context",t),e.on("report",(function(e){return e.extra||(e.extra={}),e.extra.context=t.toString(),e}))};var ji=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),e.__SLARDAR_REGISTRY__.Slardar}(function(){if("object"==typeof window&&Ai(window))return window}());n&&(n.errors||(n.errors=[]),n.errors.push(e))},Ui="custom",Bi=function(e){e.provide("sendEvent",(function(t){var n=function(e){if(e&&Ai(e)&&e.name&&Ci(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&Ai(e.metrics)){var n=e.metrics,r={};for(var o in n)Si(n[o])&&(r[o]=n[o]);t.metrics=r}if("categories"in e&&Ai(e.categories)){var i=e.categories,a={};for(var o in i)a[o]=Pi(i[o]);t.categories=a}return t}}(t);n&&e.report({ev_type:Ui,payload:n,extra:{timestamp:Date.now()}})})),e.provide("sendLog",(function(t){var n=function(e){if(e&&Ai(e)&&e.content&&Ci(e.content)){var t={content:Pi(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&Ai(e.extra)){var n=e.extra,r={},o={};for(var i in n)Si(n[i])?r[i]=n[i]:o[i]=Pi(n[i]);t.metrics=r,t.categories=o}return t}}(t);n&&e.report({ev_type:Ui,payload:n,extra:{timestamp:Date.now()}})}))},Gi=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},Wi=function(e,t,n,r,o){return e?(i=o(r,t),function(){return i}):function(){return n(t)};var i},Vi=function(e,t,n,r){var o=function(e,t,n){for(var r,o=gi(t.split(".")),i=o[0],a=o.slice(1);e&&a.length>0;)e=e[i],i=(r=gi(a))[0],a=r.slice(1);if(e)return n(e,i)}(e,t,(function(e,t){return e[t]}));return void 0!==o&&function(e,t,n){switch(n){case"eq":return Ii(t,e);case"neq":return!Ii(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return Boolean(e.match(new RegExp(t.join("|"))));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}}(o,function(e,t){return e.map((function(e){switch(t){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}}))}(r,"boolean"==typeof o?"bool":Si(o)?"number":"string"),n)},qi=function(e,t){try{return"rule"===t.type?Vi(e,t.field,t.op,t.values):"and"===t.type?t.children.every((function(t){return qi(e,t)})):t.children.some((function(t){return qi(e,t)}))}catch(n){return ji(n),!1}},$i=function(e,t,n,r){if(!t)return yi;var o=t.sample_rate,i=t.include_users,a=t.sample_granularity,s=t.rules,c=t.r,l=void 0===c?Math.random():c;if(Ii(i,e))return function(e){return Gi(e,1)};var u="session"===a,d=Wi(u,o,n,l,r),p=function(e,t,n,r,o,i){var a={};return Object.keys(e).forEach((function(s){var c=e[s],l=c.enable,u=c.sample_rate,d=c.conditional_sample_rules;l?(a[s]={enable:l,sample_rate:u,effectiveSampleRate:u*n,hit:Wi(t,u,r,o,i)},d&&(a[s].conditional_hit_rules=d.map((function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:Wi(t,a,r,o,i),effectiveSampleRate:a*n,filter:s}})))):a[s]={enable:l,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),a}(s,u,o,n,l,r);return function(e){var t;if(!d())return!1;if(!(e.ev_type in p))return Gi(e,o);if(!p[e.ev_type].enable)return!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var n=p[e.ev_type],r=n.conditional_hit_rules;if(r)for(var i=0;i<r.length;i++)if(qi(e,r[i].filter))return!!r[i].hit()&&Gi(e,r[i].effectiveSampleRate);return!!n.hit()&&Gi(e,n.effectiveSampleRate)}},Xi={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:mi(mi({},e.extra||{}),e.overrides||{})}}},Ki=function(e){var t,n=e,r={},o=Ei,i=Ei;return{getConfig:function(){return n},setConfig:function(a){var s;return r=mi(mi({},r),a||{}),(s=mi(mi({},e),r)).sample=function(e,t){if(!e||!t)return e||t;var n=mi(mi({},e),t);return n.include_users=vi(vi([],gi(e.include_users||[]),!1),gi(t.include_users||[]),!1),n.rules=vi(vi([],gi(Object.keys(e.rules||{})),!1),gi(Object.keys(t.rules||{})),!1).reduce((function(n,r){var o,i;return r in n||(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=mi(mi({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=vi(vi([],gi(e.rules[r].conditional_sample_rules||[]),!1),gi(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(o=e.rules)||void 0===o?void 0:o[r])||(null===(i=t.rules)||void 0===i?void 0:i[r])),n}),{}),n}(e.sample,r.sample),n=s,i(),t||(t=a,o()),n},onChange:function(e){i=e},onReady:function(e){o=e,t&&o()}}};var Yi={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function zi(e){return mi({},e)}function Ji(e){return Ai(e)&&"bid"in e&&"transport"in e}function Zi(e){return mi({},e)}var Qi=function(e){e.on("report",(function(t){return function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.0.2",sdk_name:t.name||"SDK_BASE"};return mi(mi({},e),{extra:mi(mi({},n),e.extra||{})})}(t,e.config())}))},ea=function(e){e.on("beforeBuild",(function(t){return function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,mi(mi({},e),{extra:mi(mi({},n),e.extra||{})})}(t,e.config())}))};function ta(e){return function(e){var t=e.transport,n=e.endpoint,r=e.size,o=void 0===r?fi:r,i=e.wait,a=void 0===i?hi:i,s=[],c=0;function l(){s.length&&(t.post({url:n,data:this.getBatchData()}),s=[])}return{getSize:function(){return o},getWait:function(){return a},setSize:function(e){o=e},setWait:function(e){a=e},getEndpoint:function(){return n},setEndpoint:function(e){n=e},send:function(e){s.push(e),s.length>=o&&l.call(this),clearTimeout(c),c=setTimeout(l.bind(this),a)},flush:function(){clearTimeout(c),l.call(this)},getBatchData:function(){return s.length?_i(s):""},clear:function(){clearTimeout(c),s=[]}}}(e)}var na=function(e,t){return void 0===t&&(t="/monitor_browser/collect/batch/"),(e&&e.indexOf("//")>=0?"":"https://")+e+t},ra=function(e){return{bid:"",pid:"",viewId:(t="_",t+"_"+Date.now()),userId:Hi(),deviceId:Hi(),sessionId:Hi(),domain:"mon-va.byteoversea.com",release:"",env:"production",sample:Yi,plugins:{},transport:{get:Ei,post:Ei}};var t},oa=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){return ta({size:20,endpoint:na(e.domain),transport:e.transport})}:n,o=t.builder,i=void 0===o?Xi:o,a=t.createDefaultConfig,s=Mi({validateInitConfig:Ji,initConfigNormalizer:zi,userConfigNormalizer:Zi,createSender:r,builder:i,createDefaultConfig:void 0===a?ra:a,createConfigManager:Ki});return Fi(s),ea(s),Qi(s),function(e){e.on("init",(function(){var t=[],n=e.config();n&&n.integrations&&n.integrations.forEach((function(n){Ii(t,n.name)||(t.push(n.name),n.setup(e),n.tearDown&&e.on("beforeDestroy",n.tearDown))}))}))}(s),s},ia=function(e){void 0===e&&(e={});var t=oa(e);return function(e){e.on("start",(function(){var t=e.config(),n=t.userId,r=t.sample,o=$i(n,r,Ni,xi);e.on("build",o)}))}(t),Bi(t),t};ia();var aa="sg",sa={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",ttp:"https://mcs.us.tiktok.com"},ca="s_v_web_id",la="/vc/setting",ua=function(e){return-1!==["ttp","tcpy"].indexOf(e)?"/v1/list":"/list"},da=function(e){return-1!==["ttp","tcpy"].indexOf(e)?"/v1/user/webid":"/webid"},pa=function(e){return{aid:e.commonOptions.aid}},fa=function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=ia();var n={transport:{get:function(){},post:function(e){var n=e.url,r=e.data;t(n,JSON.parse(r)).catch((function(e){console.log("err: ",e)}))}},bid:"verify_center_va",pid:this.pid,release:"3.9.1",env:aa,sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",(function(t){var n,r;"ErrorEvent"===(r=t,Object.prototype.toString.call(r).slice(8,-1))&&e.filename&&t.filename===e.filename&&e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})}),!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}(),ha=new fa,_a=function(e){var t=e.url,n=e.method,r=e.data,o=e.config;return new pi((function(i,a){var s=new XMLHttpRequest,c=Date.now(),l=function(){-1!==e.url.indexOf(la)&&ha.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(r){}else e=t;setTimeout((function(){i(e)}),0)}else a(new TypeError("Network request failed, status: "+s.status));l()}},s.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed, occur error"))}),0),l()},s.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed, timeout"))}),0),l()},s.onabort=function(){setTimeout((function(){a(new DOMException("Aborted","AbortError"))}),0),l()};var u=t;if((null==o?void 0:o.params)&&(u=u+"?"+function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var o=t[r],i=e[o],a=encodeURIComponent(o)+"="+encodeURIComponent(i);n=r>=1?n+"&"+a:a}return n}(o.params)),s.open(n,u,!0),(null==o?void 0:o.timeout)&&"number"==typeof o.timeout?s.timeout=o.timeout:s.timeout=5e3,null==o?void 0:o.headers)for(var d=o.headers,p=0,f=Object.keys(d);p<f.length;p++){var h=f[p];s.setRequestHeader(h,d[h])}(null==o?void 0:o.withCredentials)&&(s.withCredentials=o.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)}))},ma=function(e,t,n){void 0===n&&(n={});var o=n.headers?r({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return _a({url:e,method:"POST",data:t,config:r(r({},n),{headers:o})})},ga=i((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(u){}if(o[l]=c,e===l)break}catch(u){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}));function va(e){e="object"==typeof e?e:{};var t=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var o=0,i=void 0;o<36;o++)r[o]||(i=0|Math.random()*t,r[o]=e[19==o?3&i|8:i]);return"verify_"+n+"_"+r.join("")}(),n={path:"/"};return e.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(e.domain)&&(n.domain=e.domain),ga.set(ca,t,n),t}var wa=function(e){void 0===e&&(e={});var t=function(e){void 0===e&&(e={});var t=ga.get(ca);return t&&0===t.indexOf("verify_")||(t=va(e)),t}(e);return t},Ea=function(e){return ma(""+(e||"https://vcs-sg.byteoversea.com")+la,{},{headers:{"X-Setting-Flag":1}})},ya=function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){void 0===t&&(t={}),this.isInit||(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=r(r({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),1180===e.aid||1233===e.aid?this.channelType="tcpy":this.channelType=aa)},e.prototype.getTeaWebId=function(){return this.fetchWebId||(this.fetchWebId=function(e,t){var n=sa[t],r=da(t);return ma(""+n+r,{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then((function(e){return e.web_id}))}(this.conf.app_id,this.channelType)),this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then((function(o){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(r(r(r({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:o,web_id:o}}];n.sendEvents(i)})).catch((function(e){console.log("err: ",e)}))},e.prototype.sendEvents=function(e){(function(e,t){var n=sa[t],r=ua(t);return ma(""+n+r,e)})(e,this.channelType).catch((function(e){console.log("report err: ",e)}))},e}(),Aa=new ya,ba={back_up_js_v2:{sg:["https://lf-rc2.yhgfb-static.com/obj/rc-client-security-sg/secsdk-captcha/@latest/captcha.js","https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/secsdk-captcha/@latest/captcha.js"]},js_v2:{sg:"https://lf-rc1.yhgfb-static.com/obj/rc-client-security-sg/secsdk-captcha/@latest/captcha.js"}},Ta={},Sa={executor:"Function",static_domain:"",settingHost:""},Ca=function(e,t,n,r){ha.setFileName(e);var o,i=Date.now(),a=pi.resolve({});return a="script"===t?(o=e,new pi((function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),r.setAttribute("src",o),n.appendChild(r);var i=setTimeout((function(){t(new Error("LoadJSSDKMoreTan4000ms"))}),4e3);r.onload=function(){clearTimeout(i),e(0)},r.onerror=function(){clearTimeout(i),t(new Error("Failed to load SDK!"))}}))).then((function(){return window.verifySDK})):function(e,t){return void 0===t&&(t={}),_a({url:e,method:"GET",config:t})}(e,{timeout:2e4}).then((function(e){if(n&&r&&n!==r){var t=new RegExp(n,"g");e=e.replace(t,r)}var o=function(e){var t={exports:{}},n=new Function("exports","module",e);try{n(t.exports,t)}catch(r){ha.reportJsError({message:null==r?void 0:r.message,stack:null==r?void 0:r.stack,filename:null==r?void 0:r.filename})}return t}(e);return o.exports})),a.then((function(t){return ha.reportResource({url:e,startTime:Date.now(),duration:Date.now()-i}),t})).catch((function(t){return ha.reportResourceError(e),pi.reject(t)}))},Ia=function(){function e(){}return e.get=function(){var t;return 0!==e.status&&3!==e.status||(e.status=1,e.core=(t=Date.now(),Ea(Sa.settingHost).catch((function(){return Ea(Sa.settingHost)})).then((function(e){var n,r;return Aa.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),(null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r[aa])?e.verify:ba})).catch((function(e){return Aa.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),ba}))).then((function(t){var n,r,o,i=null===(n=t.js_v2)||void 0===n?void 0:n[aa],a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r[aa])||[],s=null===(o=i.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===o?void 0:o[1];Sa.static_domain&&s&&(i=i.replace(s,Sa.static_domain));var c=[i].concat(a);return new pi((function(t,n){var r=function(){var o,i=c.shift(),a=null===(o=i.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===o?void 0:o[1];Ca(i,Sa.executor,s,a).then((function(n){t(n),e.status=2,Aa.trackEvent("hotsdk_loadscript",{is_success:1})})).catch((function(t){c.length?r():(n(t),e.status=3,Aa.trackEvent("hotsdk_loadscript",{is_success:0}))}))};r()}))})).catch((function(e){return pi.reject(e)}))),e.core},e.status=0,e}(),Pa=function(e){e.static_domain&&(Sa.static_domain=e.static_domain),e.settingHost&&(Sa.settingHost=e.settingHost),e.executor&&(Sa.executor=e.executor)},La=function(){function e(){}return e.config=function(e){Pa(e)},e.init=function(e,t,n){var o=pa(e);return Aa.init(r(r({},o),{region:aa})),ha.init(o,ma),ha.start(),Ia.get().then((function(n){var o;Object.assign(Ta,r(r({},e),{captchaOptions:r(r({},e.captchaOptions),{h5_check_version:(null===(o=e.captchaOptions)||void 0===o?void 0:o.closeDecisionCheck)?"0.0.0":"3.9.1"})}));var i=n.initVerifyCenter(Ta);if(!t)return i;t(i)})).catch((function(e){if(!n)return pi.reject(e);n(e)}))},e}();t.TTVerifyCenter=La,t.close=function(){Ia.get().then((function(e){null==e||e.closeCaptcha()}))},t.config=Pa,t.getFp=function(){var e,t,n=(null===(e=null==Ta?void 0:Ta.captchaOptions)||void 0===e?void 0:e.fp)||ga.get(ca)||""||wa(null===(t=null==Ta?void 0:Ta.captchaOptions)||void 0===t?void 0:t.fpCookieOption);return pi.resolve(n)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var o=pa(e);Aa.init(r(r({},o),{region:aa})),ha.init(o,ma),ha.start(),Ia.get().then((function(n){var o;Object.assign(Ta,r(r({},e),{captchaOptions:r(r({},e.captchaOptions),{h5_check_version:(null===(o=e.captchaOptions)||void 0===o?void 0:o.closeDecisionCheck)?"0.0.0":"3.9.1"})})),null==n||n.initVerifyOptions(Ta),t(n)})).catch((function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})}))},t.render=function(e){Ia.get().then((function(t){null==t||t.autoRender(e)})).catch((function(e){console.log("err: ",e)}))},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:aa,subtype:"",verify_event:"",fp:"",detail:""};return t.subtype=3059===e?"text":3060===e?"3d":99996===e?"whirl":"slide",JSON.stringify(t)}},80455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0});var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var a,s,c=function(e){return e&&e.Math==Math&&e},l=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof o&&o)||function(){return this}()||Function("return this")(),u=Function.prototype,d=u.apply,p=u.bind,f=u.call,h="object"==typeof Reflect&&Reflect.apply||(p?f.bind(d):function(){return f.apply(d,arguments)}),_=Function.prototype,m=_.bind,g=_.call,v=m&&m.bind(g),w=m?function(e){return e&&v(g,e)}:function(e){return e&&function(){return g.apply(e,arguments)}},E=function(e){return"function"==typeof e},y=function(e){try{return!!e()}catch(Oi){return!0}},A=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),b=Function.prototype.call,T=b.bind?b.bind(b):function(){return b.apply(b,arguments)},S={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,I={f:C&&!S.call({1:2},1)?function(e){var t=C(this,e);return!!t&&t.enumerable}:S},P=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},L=w({}.toString),O=w("".slice),R=function(e){return O(L(e),8,-1)},k=l.Object,N=w("".split),x=y((function(){return!k("z").propertyIsEnumerable(0)}))?function(e){return"String"==R(e)?N(e,""):k(e)}:k,D=l.TypeError,H=function(e){if(null==e)throw D("Can't call method on "+e);return e},M=function(e){return x(H(e))},F=function(e){return"object"==typeof e?null!==e:E(e)},j={},U=function(e){return E(e)?e:void 0},B=function(e,t){return arguments.length<2?U(j[e])||U(l[e]):j[e]&&j[e][t]||l[e]&&l[e][t]},G=w({}.isPrototypeOf),W=B("navigator","userAgent")||"",V=l.process,q=l.Deno,$=V&&V.versions||q&&q.version,X=$&&$.v8;X&&(s=(a=X.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&W&&(!(a=W.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=W.match(/Chrome\/(\d+)/))&&(s=+a[1]);var K,Y=s,z=!!Object.getOwnPropertySymbols&&!y((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),J=z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=l.Object,Q=J?function(e){return"symbol"==typeof e}:function(e){var t=B("Symbol");return E(t)&&G(t.prototype,Z(e))},ee=l.String,te=function(e){try{return ee(e)}catch(Oi){return"Object"}},ne=l.TypeError,re=function(e){if(E(e))return e;throw ne(te(e)+" is not a function")},oe=function(e,t){var n=e[t];return null==n?void 0:re(n)},ie=l.TypeError,ae=Object.defineProperty,se="__core-js_shared__",ce=l[se]||function(e,t){try{ae(l,e,{value:t,configurable:!0,writable:!0})}catch(Oi){l[e]=t}return t}(se,{}),le=i((function(e){(e.exports=function(e,t){return ce[e]||(ce[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),ue=l.Object,de=function(e){return ue(H(e))},pe=w({}.hasOwnProperty),fe=Object.hasOwn||function(e,t){return pe(de(e),t)},he=0,_e=Math.random(),me=w(1..toString),ge=function(e){return"Symbol("+(void 0===e?"":e)+")_"+me(++he+_e,36)},ve=le("wks"),we=l.Symbol,Ee=we&&we.for,ye=J?we:we&&we.withoutSetter||ge,Ae=function(e){if(!fe(ve,e)||!z&&"string"!=typeof ve[e]){var t="Symbol."+e;z&&fe(we,e)?ve[e]=we[e]:ve[e]=J&&Ee?Ee(t):ye(t)}return ve[e]},be=l.TypeError,Te=Ae("toPrimitive"),Se=function(e,t){if(!F(e)||Q(e))return e;var n,r=oe(e,Te);if(r){if(void 0===t&&(t="default"),n=T(r,e,t),!F(n)||Q(n))return n;throw be("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&E(n=e.toString)&&!F(r=T(n,e)))return r;if(E(n=e.valueOf)&&!F(r=T(n,e)))return r;if("string"!==t&&E(n=e.toString)&&!F(r=T(n,e)))return r;throw ie("Can't convert object to primitive value")}(e,t)},Ce=function(e){var t=Se(e,"string");return Q(t)?t:t+""},Ie=l.document,Pe=F(Ie)&&F(Ie.createElement),Le=function(e){return Pe?Ie.createElement(e):{}},Oe=!A&&!y((function(){return 7!=Object.defineProperty(Le("div"),"a",{get:function(){return 7}}).a})),Re=Object.getOwnPropertyDescriptor,ke={f:A?Re:function(e,t){if(e=M(e),t=Ce(t),Oe)try{return Re(e,t)}catch(Oi){}if(fe(e,t))return P(!T(I.f,e,t),e[t])}},Ne=/#|\.prototype\./,xe=function(e,t){var n=He[De(e)];return n==Fe||n!=Me&&(E(t)?y(t):!!t)},De=xe.normalize=function(e){return String(e).replace(Ne,".").toLowerCase()},He=xe.data={},Me=xe.NATIVE="N",Fe=xe.POLYFILL="P",je=xe,Ue=w(w.bind),Be=function(e,t){return re(e),void 0===t?e:Ue?Ue(e,t):function(){return e.apply(t,arguments)}},Ge=l.String,We=l.TypeError,Ve=function(e){if(F(e))return e;throw We(Ge(e)+" is not an object")},qe=l.TypeError,$e=Object.defineProperty,Xe={f:A?$e:function(e,t,n){if(Ve(e),t=Ce(t),Ve(n),Oe)try{return $e(e,t,n)}catch(Oi){}if("get"in n||"set"in n)throw qe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ke=A?function(e,t,n){return Xe.f(e,t,P(1,n))}:function(e,t,n){return e[t]=n,e},Ye=ke.f,ze=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return h(e,this,arguments)};return t.prototype=e.prototype,t},Je=function(e,t){var n,r,o,i,a,s,c,u,d=e.target,p=e.global,f=e.stat,h=e.proto,_=p?l:f?l[d]:(l[d]||{}).prototype,m=p?j:j[d]||Ke(j,d,{})[d],g=m.prototype;for(o in t)n=!je(p?o:d+(f?".":"#")+o,e.forced)&&_&&fe(_,o),a=m[o],n&&(s=e.noTargetGet?(u=Ye(_,o))&&u.value:_[o]),i=n&&s?s:t[o],n&&typeof a==typeof i||(c=e.bind&&n?Be(i,l):e.wrap&&n?ze(i):h&&E(i)?w(i):i,(e.sham||i&&i.sham||a&&a.sham)&&Ke(c,"sham",!0),Ke(m,o,c),h&&(fe(j,r=d+"Prototype")||Ke(j,r,{}),Ke(j[r],o,i),e.real&&g&&!g[o]&&Ke(g,o,i)))},Ze=le("keys"),Qe=function(e){return Ze[e]||(Ze[e]=ge(e))},et=!y((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),tt=Qe("IE_PROTO"),nt=l.Object,rt=nt.prototype,ot=et?nt.getPrototypeOf:function(e){var t=de(e);if(fe(t,tt))return t[tt];var n=t.constructor;return E(n)&&t instanceof n?n.prototype:t instanceof nt?rt:null},it=l.String,at=l.TypeError,st=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=w(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(Oi){}return function(n,r){return Ve(n),function(e){if("object"==typeof e||E(e))return e;throw at("Can't set "+it(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),ct=Math.ceil,lt=Math.floor,ut=function(e){var t=+e;return t!=t||0===t?0:(t>0?lt:ct)(t)},dt=Math.max,pt=Math.min,ft=Math.min,ht=function(e){return(t=e.length)>0?ft(ut(t),9007199254740991):0;var t},_t=function(e){return function(t,n,r){var o,i=M(t),a=ht(i),s=function(e,t){var n=ut(e);return n<0?dt(n+t,0):pt(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},mt={includes:_t(!0),indexOf:_t(!1)},gt={},vt=mt.indexOf,wt=w([].push),Et=function(e,t){var n,r=M(e),o=0,i=[];for(n in r)!fe(gt,n)&&fe(r,n)&&wt(i,n);for(;t.length>o;)fe(r,n=t[o++])&&(~vt(i,n)||wt(i,n));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],At=yt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(e){return Et(e,At)}},Tt={f:Object.getOwnPropertySymbols},St=w([].concat),Ct=B("Reflect","ownKeys")||function(e){var t=bt.f(Ve(e)),n=Tt.f;return n?St(t,n(e)):t},It=Object.keys||function(e){return Et(e,yt)},Pt=A?Object.defineProperties:function(e,t){Ve(e);for(var n,r=M(t),o=It(t),i=o.length,a=0;i>a;)Xe.f(e,n=o[a++],r[n]);return e},Lt=B("document","documentElement"),Ot="prototype",Rt="script",kt=Qe("IE_PROTO"),Nt=function(){},xt=function(e){return"<"+Rt+">"+e+"</"+Rt+">"},Dt=function(e){e.write(xt("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ht=function(){try{K=new ActiveXObject("htmlfile")}catch(Oi){}var e,t,n;Ht="undefined"!=typeof document?document.domain&&K?Dt(K):(t=Le("iframe"),n="java"+Rt+":",t.style.display="none",Lt.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(xt("document.F=Object")),e.close(),e.F):Dt(K);for(var r=yt.length;r--;)delete Ht[Ot][yt[r]];return Ht()};gt[kt]=!0;var Mt=Object.create||function(e,t){var n;return null!==e?(Nt[Ot]=Ve(e),n=new Nt,Nt[Ot]=null,n[kt]=e):n=Ht(),void 0===t?n:Pt(n,t)},Ft=w("".replace),jt=String(Error("zxcasd").stack),Ut=/\n\s*at [^:]*:[^\n]*/,Bt=Ut.test(jt),Gt={},Wt=Ae("iterator"),Vt=Array.prototype,qt={};qt[Ae("toStringTag")]="z";var $t="[object z]"===String(qt),Xt=Ae("toStringTag"),Kt=l.Object,Yt="Arguments"==R(function(){return arguments}()),zt=$t?R:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(Oi){}}(t=Kt(e),Xt))?n:Yt?R(t):"Object"==(r=R(t))&&E(t.callee)?"Arguments":r},Jt=Ae("iterator"),Zt=function(e){if(null!=e)return oe(e,Jt)||oe(e,"@@iterator")||Gt[zt(e)]},Qt=l.TypeError,en=function(e,t,n){var r,o;Ve(e);try{if(!(r=oe(e,"return"))){if("throw"===t)throw n;return n}r=T(r,e)}catch(Oi){o=!0,r=Oi}if("throw"===t)throw n;if(o)throw r;return Ve(r),n},tn=l.TypeError,nn=function(e,t){this.stopped=e,this.result=t},rn=nn.prototype,on=function(e,t,n){var r,o,i,a,s,c,l,u,d=n&&n.that,p=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),_=Be(t,d),m=function(e){return r&&en(r,"normal",e),new nn(!0,e)},g=function(e){return p?(Ve(e),h?_(e[0],e[1],m):_(e[0],e[1])):h?_(e,m):_(e)};if(f)r=e;else{if(!(o=Zt(e)))throw tn(te(e)+" is not iterable");if(void 0!==(u=o)&&(Gt.Array===u||Vt[Wt]===u)){for(i=0,a=ht(e);a>i;i++)if((s=g(e[i]))&&G(rn,s))return s;return new nn(!1)}r=function(e,t){var n=arguments.length<2?Zt(e):t;if(re(n))return Ve(T(n,e));throw Qt(te(e)+" is not iterable")}(e,o)}for(c=r.next;!(l=T(c,r)).done;){try{s=g(l.value)}catch(Oi){en(r,"throw",Oi)}if("object"==typeof s&&s&&G(rn,s))return s}return new nn(!1)},an=l.String,sn=function(e){if("Symbol"===zt(e))throw TypeError("Cannot convert a Symbol value to a string");return an(e)},cn=!y((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",P(1,7)),7!==e.stack)})),ln=Ae("toStringTag"),un=l.Error,dn=[].push,pn=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,o=G(fn,this);st?n=st(new un,o?ot(this):fn):(n=o?this:Mt(fn),Ke(n,ln,"Error")),void 0!==t&&Ke(n,"message",function(e,t){return void 0===e?arguments.length<2?"":t:sn(e)}(t)),cn&&Ke(n,"stack",function(e,t){if(Bt&&"string"==typeof e)for(;t--;)e=Ft(e,Ut,"");return e}(n.stack,1)),function(e,t){F(t)&&"cause"in t&&Ke(e,"cause",t.cause)}(n,r);var i=[];return on(e,dn,{that:i}),Ke(n,"errors",i),n};st?st(pn,un):function(e,t,n){for(var r=Ct(t),o=Xe.f,i=ke.f,a=0;a<r.length;a++){var s=r[a];fe(e,s)||n&&fe(n,s)||o(e,s,i(t,s))}}(pn,un,{name:!0});var fn=pn.prototype=Mt(un.prototype,{constructor:P(1,pn),message:P(1,""),name:P(1,"AggregateError")});Je({global:!0},{AggregateError:pn});var hn=w(Function.toString);E(ce.inspectSource)||(ce.inspectSource=function(e){return hn(e)});var _n,mn,gn,vn=ce.inspectSource,wn=l.WeakMap,En=E(wn)&&/native code/.test(vn(wn)),yn="Object already initialized",An=l.TypeError,bn=l.WeakMap;if(En||ce.state){var Tn=ce.state||(ce.state=new bn),Sn=w(Tn.get),Cn=w(Tn.has),In=w(Tn.set);_n=function(e,t){if(Cn(Tn,e))throw new An(yn);return t.facade=e,In(Tn,e,t),t},mn=function(e){return Sn(Tn,e)||{}},gn=function(e){return Cn(Tn,e)}}else{var Pn=Qe("state");gt[Pn]=!0,_n=function(e,t){if(fe(e,Pn))throw new An(yn);return t.facade=e,Ke(e,Pn,t),t},mn=function(e){return fe(e,Pn)?e[Pn]:{}},gn=function(e){return fe(e,Pn)}}var Ln,On,Rn,kn={set:_n,get:mn,has:gn,enforce:function(e){return gn(e)?mn(e):_n(e,{})},getterFor:function(e){return function(t){var n;if(!F(t)||(n=mn(t)).type!==e)throw An("Incompatible receiver, "+e+" required");return n}}},Nn=Function.prototype,xn=A&&Object.getOwnPropertyDescriptor,Dn=fe(Nn,"name"),Hn={EXISTS:Dn,PROPER:Dn&&"something"===function(){}.name,CONFIGURABLE:Dn&&(!A||A&&xn(Nn,"name").configurable)},Mn=function(e,t,n,r){r&&r.enumerable?e[t]=n:Ke(e,t,n)},Fn=Ae("iterator"),jn=!1;[].keys&&("next"in(Rn=[].keys())?(On=ot(ot(Rn)))!==Object.prototype&&(Ln=On):jn=!0);var Un=null==Ln||y((function(){var e={};return Ln[Fn].call(e)!==e}));Ln=Un?{}:Mt(Ln),E(Ln[Fn])||Mn(Ln,Fn,(function(){return this}));var Bn={IteratorPrototype:Ln,BUGGY_SAFARI_ITERATORS:jn},Gn=$t?{}.toString:function(){return"[object "+zt(this)+"]"},Wn=Xe.f,Vn=Ae("toStringTag"),qn=function(e,t,n,r){if(e){var o=n?e:e.prototype;fe(o,Vn)||Wn(o,Vn,{configurable:!0,value:t}),r&&!$t&&Ke(o,"toString",Gn)}},$n=Bn.IteratorPrototype,Xn=function(){return this},Kn=Hn.PROPER,Yn=Bn.BUGGY_SAFARI_ITERATORS,zn=Ae("iterator"),Jn="keys",Zn="values",Qn="entries",er=function(){return this},tr=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o=t+" Iterator";e.prototype=Mt($n,{next:P(+!r,n)}),qn(e,o,!1,!0),Gt[o]=Xn}(n,t,r);var s,c,l,u=function(e){if(e===o&&_)return _;if(!Yn&&e in f)return f[e];switch(e){case Jn:case Zn:case Qn:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,f=e.prototype,h=f[zn]||f["@@iterator"]||o&&f[o],_=!Yn&&h||u(o),m="Array"==t&&f.entries||h;if(m&&(s=ot(m.call(new e)))!==Object.prototype&&s.next&&(qn(s,d,!0,!0),Gt[d]=er),Kn&&o==Zn&&h&&h.name!==Zn&&(p=!0,_=function(){return T(h,this)}),o)if(c={values:u(Zn),keys:i?_:u(Jn),entries:u(Qn)},a)for(l in c)(Yn||p||!(l in f))&&Mn(f,l,c[l]);else Je({target:t,proto:!0,forced:Yn||p},c);return a&&f[zn]!==_&&Mn(f,zn,_,{name:o}),Gt[t]=_,c};Xe.f;var nr="Array Iterator",rr=kn.set,or=kn.getterFor(nr);tr(Array,"Array",(function(e,t){rr(this,{type:nr,target:M(e),index:0,kind:t})}),(function(){var e=or(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Gt.Arguments=Gt.Array;var ir=l.Promise,ar=Ae("species"),sr=l.TypeError,cr=Ae("iterator"),lr=!1;try{var ur=0,dr={next:function(){return{done:!!ur++}},return:function(){lr=!0}};dr[cr]=function(){return this},Array.from(dr,(function(){throw 2}))}catch(Oi){}var pr=function(){},fr=[],hr=B("Reflect","construct"),_r=/^\s*(?:class|function)\b/,mr=w(_r.exec),gr=!_r.exec(pr),vr=function(e){if(!E(e))return!1;try{return hr(pr,fr,e),!0}catch(Oi){return!1}},wr=function(e){if(!E(e))return!1;switch(zt(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return gr||!!mr(_r,vn(e))}catch(Oi){return!0}};wr.sham=!0;var Er,yr,Ar,br,Tr=!hr||y((function(){var e;return vr(vr.call)||!vr(Object)||!vr((function(){e=!0}))||e}))?wr:vr,Sr=l.TypeError,Cr=Ae("species"),Ir=function(e,t){var n,r=Ve(e).constructor;return void 0===r||null==(n=Ve(r)[Cr])?t:function(e){if(Tr(e))return e;throw Sr(te(e)+" is not a constructor")}(n)},Pr=w([].slice),Lr=/(?:ipad|iphone|ipod).*applewebkit/i.test(W),Or="process"==R(l.process),Rr=l.setImmediate,kr=l.clearImmediate,Nr=l.process,xr=l.Dispatch,Dr=l.Function,Hr=l.MessageChannel,Mr=l.String,Fr=0,jr={},Ur="onreadystatechange";try{Er=l.location}catch(Oi){}var Br=function(e){if(fe(jr,e)){var t=jr[e];delete jr[e],t()}},Gr=function(e){return function(){Br(e)}},Wr=function(e){Br(e.data)},Vr=function(e){l.postMessage(Mr(e),Er.protocol+"//"+Er.host)};Rr&&kr||(Rr=function(e){var t=Pr(arguments,1);return jr[++Fr]=function(){h(E(e)?e:Dr(e),void 0,t)},yr(Fr),Fr},kr=function(e){delete jr[e]},Or?yr=function(e){Nr.nextTick(Gr(e))}:xr&&xr.now?yr=function(e){xr.now(Gr(e))}:Hr&&!Lr?(br=(Ar=new Hr).port2,Ar.port1.onmessage=Wr,yr=Be(br.postMessage,br)):l.addEventListener&&E(l.postMessage)&&!l.importScripts&&Er&&"file:"!==Er.protocol&&!y(Vr)?(yr=Vr,l.addEventListener("message",Wr,!1)):yr=Ur in Le("script")?function(e){Lt.appendChild(Le("script"))[Ur]=function(){Lt.removeChild(this),Br(e)}}:function(e){setTimeout(Gr(e),0)});var qr,$r,Xr,Kr,Yr,zr,Jr,Zr,Qr={set:Rr,clear:kr},eo=/ipad|iphone|ipod/i.test(W)&&void 0!==l.Pebble,to=/web0s(?!.*chrome)/i.test(W),no=ke.f,ro=Qr.set,oo=l.MutationObserver||l.WebKitMutationObserver,io=l.document,ao=l.process,so=l.Promise,co=no(l,"queueMicrotask"),lo=co&&co.value;lo||(qr=function(){var e,t;for(Or&&(e=ao.domain)&&e.exit();$r;){t=$r.fn,$r=$r.next;try{t()}catch(Oi){throw $r?Kr():Xr=void 0,Oi}}Xr=void 0,e&&e.enter()},Lr||Or||to||!oo||!io?!eo&&so&&so.resolve?((Jr=so.resolve(void 0)).constructor=so,Zr=Be(Jr.then,Jr),Kr=function(){Zr(qr)}):Or?Kr=function(){ao.nextTick(qr)}:(ro=Be(ro,l),Kr=function(){ro(qr)}):(Yr=!0,zr=io.createTextNode(""),new oo(qr).observe(zr,{characterData:!0}),Kr=function(){zr.data=Yr=!Yr}));var uo=lo||function(e){var t={fn:e,next:void 0};Xr&&(Xr.next=t),$r||($r=t,Kr()),Xr=t},po=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=re(t),this.reject=re(n)},fo={f:function(e){return new po(e)}},ho=function(e,t){if(Ve(e),F(t)&&t.constructor===e)return t;var n=fo.f(e);return(0,n.resolve)(t),n.promise},_o=function(e){try{return{error:!1,value:e()}}catch(Oi){return{error:!0,value:Oi}}},mo=function(){this.head=null,this.tail=null};mo.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var go,vo,wo,Eo=mo,yo="object"==typeof window,Ao=Qr.set,bo=Ae("species"),To="Promise",So=kn.getterFor(To),Co=kn.set,Io=kn.getterFor(To),Po=ir&&ir.prototype,Lo=ir,Oo=Po,Ro=l.TypeError,ko=l.document,No=l.process,xo=fo.f,Do=xo,Ho=!!(ko&&ko.createEvent&&l.dispatchEvent),Mo=E(l.PromiseRejectionEvent),Fo="unhandledrejection",jo=je(To,(function(){var e=vn(Lo),t=e!==String(Lo);if(!t&&66===Y)return!0;if(!Oo.finally)return!0;if(Y>=51&&/native code/.test(e))return!1;var n=new Lo((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[bo]=r,!(n.then((function(){}))instanceof r)||!t&&yo&&!Mo})),Uo=jo||!function(e,t){if(!t&&!lr)return!1;var n=!1;try{var r={};r[cr]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(Oi){}return n}((function(e){Lo.all(e).catch((function(){}))})),Bo=function(e){var t;return!(!F(e)||!E(t=e.then))&&t},Go=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(a||(2===t.rejection&&Xo(t),t.rejection=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),o=!0)),n===e.promise?l(Ro("Promise-chain cycle")):(r=Bo(n))?T(r,n,c,l):c(n)):l(i)}catch(Oi){u&&!o&&u.exit(),l(Oi)}},Wo=function(e,t){e.notified||(e.notified=!0,uo((function(){for(var n,r=e.reactions;n=r.get();)Go(n,e);e.notified=!1,t&&!e.rejection&&qo(e)})))},Vo=function(e,t,n){var r,o;Ho?((r=ko.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Mo&&(o=l["on"+e])?o(r):e===Fo&&function(e,t){var n=l.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},qo=function(e){T(Ao,l,(function(){var t,n=e.facade,r=e.value;if($o(e)&&(t=_o((function(){Or?No.emit("unhandledRejection",r,n):Vo(Fo,n,r)})),e.rejection=Or||$o(e)?2:1,t.error))throw t.value}))},$o=function(e){return 1!==e.rejection&&!e.parent},Xo=function(e){T(Ao,l,(function(){var t=e.facade;Or?No.emit("rejectionHandled",t):Vo("rejectionhandled",t,e.value)}))},Ko=function(e,t,n){return function(r){e(t,r,n)}},Yo=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Wo(e,!0))},zo=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Ro("Promise can't be resolved itself");var r=Bo(t);r?uo((function(){var n={done:!1};try{T(r,t,Ko(zo,n,e),Ko(Yo,n,e))}catch(Oi){Yo(n,Oi,e)}})):(e.value=t,e.state=1,Wo(e,!1))}catch(Oi){Yo({done:!1},Oi,e)}}};jo&&(Lo=function(e){!function(e,t){if(G(t,e))return e;throw sr("Incorrect invocation")}(this,Oo),re(e),T(go,this);var t=So(this);try{e(Ko(zo,t),Ko(Yo,t))}catch(Oi){Yo(t,Oi)}},Oo=Lo.prototype,(go=function(e){Co(this,{type:To,done:!1,notified:!1,parent:!1,reactions:new Eo,rejection:!1,state:0,value:void 0})}).prototype=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:Mn(e,r,t[r],n);return e}(Oo,{then:function(e,t){var n=Io(this),r=xo(Ir(this,Lo));return n.parent=!0,r.ok=!E(e)||e,r.fail=E(t)&&t,r.domain=Or?No.domain:void 0,0==n.state?n.reactions.add(r):uo((function(){Go(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),vo=function(){var e=new go,t=So(e);this.promise=e,this.resolve=Ko(zo,t),this.reject=Ko(Yo,t)},fo.f=xo=function(e){return e===Lo||e===wo?new vo(e):Do(e)}),Je({global:!0,wrap:!0,forced:jo},{Promise:Lo}),qn(Lo,To,!1,!0),function(e){var t=B(e),n=Xe.f;A&&t&&!t[ar]&&n(t,ar,{configurable:!0,get:function(){return this}})}(To),wo=B(To),Je({target:To,stat:!0,forced:jo},{reject:function(e){var t=xo(this);return T(t.reject,void 0,e),t.promise}}),Je({target:To,stat:!0,forced:!0},{resolve:function(e){return ho(this===wo?Lo:this,e)}}),Je({target:To,stat:!0,forced:Uo},{all:function(e){var t=this,n=xo(t),r=n.resolve,o=n.reject,i=_o((function(){var n=re(t.resolve),i=[],a=0,s=1;on(e,(function(e){var c=a++,l=!1;s++,T(n,t,e).then((function(e){l||(l=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=xo(t),r=n.reject,o=_o((function(){var o=re(t.resolve);on(e,(function(e){T(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Je({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=fo.f(t),r=n.resolve,o=n.reject,i=_o((function(){var n=re(t.resolve),o=[],i=0,a=1;on(e,(function(e){var s=i++,c=!1;a++,T(n,t,e).then((function(e){c||(c=!0,o[s]={status:"fulfilled",value:e},--a||r(o))}),(function(e){c||(c=!0,o[s]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var Jo="No one promise resolved";Je({target:"Promise",stat:!0},{any:function(e){var t=this,n=B("AggregateError"),r=fo.f(t),o=r.resolve,i=r.reject,a=_o((function(){var r=re(t.resolve),a=[],s=0,c=1,l=!1;on(e,(function(e){var u=s++,d=!1;c++,T(r,t,e).then((function(e){d||l||(l=!0,o(e))}),(function(e){d||l||(d=!0,a[u]=e,--c||i(new n(a,Jo)))}))})),--c||i(new n(a,Jo))}));return a.error&&i(a.value),r.promise}});var Zo=!!ir&&y((function(){ir.prototype.finally.call({then:function(){}},(function(){}))}));Je({target:"Promise",proto:!0,real:!0,forced:Zo},{finally:function(e){var t=Ir(this,B("Promise")),n=E(e);return this.then(n?function(n){return ho(t,e()).then((function(){return n}))}:e,n?function(n){return ho(t,e()).then((function(){throw n}))}:e)}});var Qo=w("".charAt),ei=w("".charCodeAt),ti=w("".slice),ni=function(e){return function(t,n){var r,o,i=sn(H(t)),a=ut(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=ei(i,a))<55296||r>56319||a+1===s||(o=ei(i,a+1))<56320||o>57343?e?Qo(i,a):r:e?ti(i,a,a+2):o-56320+(r-55296<<10)+65536}},ri={codeAt:ni(!1),charAt:ni(!0)}.charAt,oi="String Iterator",ii=kn.set,ai=kn.getterFor(oi);tr(String,"String",(function(e){ii(this,{type:oi,string:sn(e),index:0})}),(function(){var e,t=ai(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=ri(n,r),t.index+=e.length,{value:e,done:!1})}));var si=j.Promise,ci=Ae("toStringTag");for(var li in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var ui=l[li],di=ui&&ui.prototype;di&&zt(di)!==ci&&Ke(di,ci,li),Gt[li]=Gt.Array}var pi=si,fi=10,hi=1e3,_i=function(e){return JSON.stringify({ev_type:"batch",list:e})};var mi=function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mi.apply(this,arguments)};function gi(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(Oi){o={error:Oi}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function vi(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var wi=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],Ei=function(){};function yi(e){return e}function Ai(e){return"object"==typeof e&&null!==e}var bi=Object.prototype;function Ti(e){return"[object Array]"===bi.toString.call(e)}function Si(e){return"number"==typeof e}function Ci(e){return"string"==typeof e}function Ii(e,t){if(!Ti(e))return!1;if(0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}function Pi(e){try{return Ci(e)?e:JSON.stringify(e)}catch(t){return"[FAILED_TO_STRINGIFY]:"+String(t)}}var Li=0,Oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,vi(["[SDK]",Date.now(),(""+Li++).padStart(8," ")],gi(e),!1))},Ri=0,ki=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,vi(["[SDK]",Date.now(),(""+Ri++).padStart(8," ")],gi(e),!1))},Ni=function(e){return Math.random()<Number(e)},xi=function(e,t){return e<Number(t)},Di=function(e){return function(t){for(var n=t,r=0;r<e.length&&n;r++)try{n=e[r](n)}catch(o){Oi(o)}return n}};function Hi(){var e=function(){for(var e=new Array(16),t=0,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}(e)}function Mi(e){var t,n,r=e.builder,o=e.createSender,i=e.createDefaultConfig,a=e.createConfigManager,s=e.userConfigNormalizer,c=e.initConfigNormalizer,l=e.validateInitConfig,u={};wi.forEach((function(e){return u[e]=[]}));var d=!1,p=!1,f=[],h=[],_={getBuilder:function(){return r},getSender:function(){return t},getPreStartQueue:function(){return f},init:function(e){if(d)ki("already inited");else{if(!(e&&Ai(e)&&l(e)))throw new Error("invalid InitConfig, init failed");var r=i(e);if(!r)throw new Error("defaultConfig missing");var s=c(e);if((n=a(r)).setConfig(s),n.onChange((function(){m("config")})),!(t=o(n.getConfig())))throw new Error("sender missing");d=!0,m("init",!0)}},set:function(e){d&&e&&Ai(e)&&(m("beforeConfig",!1,e),null==n||n.setConfig(e))},config:function(e){if(d)return e&&Ai(e)&&(m("beforeConfig",!1,e),null==n||n.setConfig(s(e))),null==n?void 0:n.getConfig()},provide:function(e,t){Ii(h,e)?ki("cannot provide "+e+", reserved"):(_[e]=t,m("provide",!1,e))},start:function(){var e=this;d&&(p||null==n||n.onReady((function(){p=!0,m("start",!0),f.forEach((function(t){return e.build(t)})),f=[]})))},report:function(e){if(e){var t=Di(u.report)(e);t&&(p?this.build(t):f.push(t))}},build:function(e){if(p){var t=Di(u.beforeBuild)(e);if(t){var n=r.build(t);if(n){var o=Di(u.build)(n);o&&this.send(o)}}}},send:function(e){if(p){var n=Di(u.beforeSend)(e);n&&(t.send(n),m("send",!1,n))}},destroy:function(){m("beforeDestroy",!0)},on:function(e,t){"init"===e&&d||"start"===e&&p?t():u[e]&&u[e].push(t)},off:function(e,t){u[e]&&(u[e]=function(e,t){if(!Ti(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e}(u[e],t))}};return h=Object.keys(_),_;function m(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];u[e].forEach((function(e){try{e.apply(void 0,vi([],gi(n),!1))}catch(t){}})),t&&(u[e].length=0)}}var Fi=function(e){var t=function(){var e={},t={},n={set:function(r,o){return e[r]=o,t[r]=Pi(o),n},merge:function(r){return e=mi(mi({},e),r),Object.keys(r).forEach((function(e){t[e]=Pi(r[e])})),n},delete:function(r){return delete e[r],delete t[r],n},clear:function(){return e={},t={},n},get:function(e){return t[e]},toString:function(){return mi({},t)}};return n}();e.provide("context",t),e.on("report",(function(e){return e.extra||(e.extra={}),e.extra.context=t.toString(),e}))};var ji=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),e.__SLARDAR_REGISTRY__.Slardar}(function(){if("object"==typeof window&&Ai(window))return window}());n&&(n.errors||(n.errors=[]),n.errors.push(e))},Ui="custom",Bi=function(e){e.provide("sendEvent",(function(t){var n=function(e){if(e&&Ai(e)&&e.name&&Ci(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&Ai(e.metrics)){var n=e.metrics,r={};for(var o in n)Si(n[o])&&(r[o]=n[o]);t.metrics=r}if("categories"in e&&Ai(e.categories)){var i=e.categories,a={};for(var o in i)a[o]=Pi(i[o]);t.categories=a}return t}}(t);n&&e.report({ev_type:Ui,payload:n,extra:{timestamp:Date.now()}})})),e.provide("sendLog",(function(t){var n=function(e){if(e&&Ai(e)&&e.content&&Ci(e.content)){var t={content:Pi(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&Ai(e.extra)){var n=e.extra,r={},o={};for(var i in n)Si(n[i])?r[i]=n[i]:o[i]=Pi(n[i]);t.metrics=r,t.categories=o}return t}}(t);n&&e.report({ev_type:Ui,payload:n,extra:{timestamp:Date.now()}})}))},Gi=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},Wi=function(e,t,n,r,o){return e?(i=o(r,t),function(){return i}):function(){return n(t)};var i},Vi=function(e,t,n,r){var o=function(e,t,n){for(var r,o=gi(t.split(".")),i=o[0],a=o.slice(1);e&&a.length>0;)e=e[i],i=(r=gi(a))[0],a=r.slice(1);if(e)return n(e,i)}(e,t,(function(e,t){return e[t]}));return void 0!==o&&function(e,t,n){switch(n){case"eq":return Ii(t,e);case"neq":return!Ii(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return Boolean(e.match(new RegExp(t.join("|"))));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}}(o,function(e,t){return e.map((function(e){switch(t){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}}))}(r,"boolean"==typeof o?"bool":Si(o)?"number":"string"),n)},qi=function(e,t){try{return"rule"===t.type?Vi(e,t.field,t.op,t.values):"and"===t.type?t.children.every((function(t){return qi(e,t)})):t.children.some((function(t){return qi(e,t)}))}catch(n){return ji(n),!1}},$i=function(e,t,n,r){if(!t)return yi;var o=t.sample_rate,i=t.include_users,a=t.sample_granularity,s=t.rules,c=t.r,l=void 0===c?Math.random():c;if(Ii(i,e))return function(e){return Gi(e,1)};var u="session"===a,d=Wi(u,o,n,l,r),p=function(e,t,n,r,o,i){var a={};return Object.keys(e).forEach((function(s){var c=e[s],l=c.enable,u=c.sample_rate,d=c.conditional_sample_rules;l?(a[s]={enable:l,sample_rate:u,effectiveSampleRate:u*n,hit:Wi(t,u,r,o,i)},d&&(a[s].conditional_hit_rules=d.map((function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:Wi(t,a,r,o,i),effectiveSampleRate:a*n,filter:s}})))):a[s]={enable:l,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),a}(s,u,o,n,l,r);return function(e){var t;if(!d())return!1;if(!(e.ev_type in p))return Gi(e,o);if(!p[e.ev_type].enable)return!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var n=p[e.ev_type],r=n.conditional_hit_rules;if(r)for(var i=0;i<r.length;i++)if(qi(e,r[i].filter))return!!r[i].hit()&&Gi(e,r[i].effectiveSampleRate);return!!n.hit()&&Gi(e,n.effectiveSampleRate)}},Xi={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:mi(mi({},e.extra||{}),e.overrides||{})}}},Ki=function(e){var t,n=e,r={},o=Ei,i=Ei;return{getConfig:function(){return n},setConfig:function(a){var s;return r=mi(mi({},r),a||{}),(s=mi(mi({},e),r)).sample=function(e,t){if(!e||!t)return e||t;var n=mi(mi({},e),t);return n.include_users=vi(vi([],gi(e.include_users||[]),!1),gi(t.include_users||[]),!1),n.rules=vi(vi([],gi(Object.keys(e.rules||{})),!1),gi(Object.keys(t.rules||{})),!1).reduce((function(n,r){var o,i;return r in n||(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=mi(mi({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=vi(vi([],gi(e.rules[r].conditional_sample_rules||[]),!1),gi(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null===(o=e.rules)||void 0===o?void 0:o[r])||(null===(i=t.rules)||void 0===i?void 0:i[r])),n}),{}),n}(e.sample,r.sample),n=s,i(),t||(t=a,o()),n},onChange:function(e){i=e},onReady:function(e){o=e,t&&o()}}};var Yi={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function zi(e){return mi({},e)}function Ji(e){return Ai(e)&&"bid"in e&&"transport"in e}function Zi(e){return mi({},e)}var Qi=function(e){e.on("report",(function(t){return function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.0.2",sdk_name:t.name||"SDK_BASE"};return mi(mi({},e),{extra:mi(mi({},n),e.extra||{})})}(t,e.config())}))},ea=function(e){e.on("beforeBuild",(function(t){return function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,mi(mi({},e),{extra:mi(mi({},n),e.extra||{})})}(t,e.config())}))};function ta(e){return function(e){var t=e.transport,n=e.endpoint,r=e.size,o=void 0===r?fi:r,i=e.wait,a=void 0===i?hi:i,s=[],c=0;function l(){s.length&&(t.post({url:n,data:this.getBatchData()}),s=[])}return{getSize:function(){return o},getWait:function(){return a},setSize:function(e){o=e},setWait:function(e){a=e},getEndpoint:function(){return n},setEndpoint:function(e){n=e},send:function(e){s.push(e),s.length>=o&&l.call(this),clearTimeout(c),c=setTimeout(l.bind(this),a)},flush:function(){clearTimeout(c),l.call(this)},getBatchData:function(){return s.length?_i(s):""},clear:function(){clearTimeout(c),s=[]}}}(e)}var na=function(e,t){return void 0===t&&(t="/monitor_browser/collect/batch/"),(e&&e.indexOf("//")>=0?"":"https://")+e+t},ra=function(e){return{bid:"",pid:"",viewId:(t="_",t+"_"+Date.now()),userId:Hi(),deviceId:Hi(),sessionId:Hi(),domain:"mon-va.byteoversea.com",release:"",env:"production",sample:Yi,plugins:{},transport:{get:Ei,post:Ei}};var t},oa=function(e){var t=void 0===e?{}:e,n=t.createSender,r=void 0===n?function(e){return ta({size:20,endpoint:na(e.domain),transport:e.transport})}:n,o=t.builder,i=void 0===o?Xi:o,a=t.createDefaultConfig,s=Mi({validateInitConfig:Ji,initConfigNormalizer:zi,userConfigNormalizer:Zi,createSender:r,builder:i,createDefaultConfig:void 0===a?ra:a,createConfigManager:Ki});return Fi(s),ea(s),Qi(s),function(e){e.on("init",(function(){var t=[],n=e.config();n&&n.integrations&&n.integrations.forEach((function(n){Ii(t,n.name)||(t.push(n.name),n.setup(e),n.tearDown&&e.on("beforeDestroy",n.tearDown))}))}))}(s),s},ia=function(e){void 0===e&&(e={});var t=oa(e);return function(e){e.on("start",(function(){var t=e.config(),n=t.userId,r=t.sample,o=$i(n,r,Ni,xi);e.on("build",o)}))}(t),Bi(t),t};ia();var aa="va",sa={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",ttp:"https://mcs.us.tiktok.com"},ca="s_v_web_id",la="/vc/setting",ua=function(e){return-1!==["ttp","tcpy"].indexOf(e)?"/v1/list":"/list"},da=function(e){return-1!==["ttp","tcpy"].indexOf(e)?"/v1/user/webid":"/webid"},pa=function(e){return{aid:e.commonOptions.aid}},fa=function(){function e(){this.isInit=!1,this.pid="0",this.filename=""}return e.prototype.init=function(e,t){if(!this.isInit){this.isInit=!0,this.pid=String(e.aid),this.browserSlardar=ia();var n={transport:{get:function(){},post:function(e){var n=e.url,r=e.data;t(n,JSON.parse(r)).catch((function(e){console.log("err: ",e)}))}},bid:"verify_center_va",pid:this.pid,release:"3.9.1",env:aa,sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(n),this.browserSlardar.context.merge({belong:"hotsdk"})}},e.prototype.start=function(){var e=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",(function(t){var n,r;"ErrorEvent"===(r=t,Object.prototype.toString.call(r).slice(8,-1))&&e.filename&&t.filename===e.filename&&e.reportJsError({message:null==t?void 0:t.message,stack:null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.stack,filename:null==t?void 0:t.filename})}),!0)},e.prototype.destroy=function(){this.browserSlardar.destroy()},e.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},e.prototype.reportJsError=function(e){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:e.message,stack:e.stack,filename:e.filename||this.filename},breadcrumbs:[]}})},e.prototype.reportHttp=function(e){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:e.method,url:e.url},response:{status:e.status,is_custom_error:!1,timestamp:Date.now()},duration:e.duration}})},e.prototype.reportResourceError=function(e){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:e}})},e.prototype.reportResource=function(e){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:e.url,duration:e.duration,startTime:e.startTime}})},e.prototype.setFileName=function(e){this.filename=e},e}(),ha=new fa,_a=function(e){var t=e.url,n=e.method,r=e.data,o=e.config;return new pi((function(i,a){var s=new XMLHttpRequest,c=Date.now(),l=function(){-1!==e.url.indexOf(la)&&ha.reportHttp({url:t,method:n,duration:Date.now()-c,status:s.status})};s.onreadystatechange=function(){if(s.readyState===s.DONE){if(s.status>=200&&s.status<300){var e={},t=s.response||s.responseText,n=s.getResponseHeader("Content-Type")||s.getResponseHeader("content-type");if(n&&-1!==n.indexOf("application/json"))try{e=JSON.parse(t)}catch(r){}else e=t;setTimeout((function(){i(e)}),0)}else a(new TypeError("Network request failed, status: "+s.status));l()}},s.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed, occur error"))}),0),l()},s.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed, timeout"))}),0),l()},s.onabort=function(){setTimeout((function(){a(new DOMException("Aborted","AbortError"))}),0),l()};var u=t;if((null==o?void 0:o.params)&&(u=u+"?"+function(e){for(var t=Object.keys(e),n="",r=0;r<t.length;r++){var o=t[r],i=e[o],a=encodeURIComponent(o)+"="+encodeURIComponent(i);n=r>=1?n+"&"+a:a}return n}(o.params)),s.open(n,u,!0),(null==o?void 0:o.timeout)&&"number"==typeof o.timeout?s.timeout=o.timeout:s.timeout=5e3,null==o?void 0:o.headers)for(var d=o.headers,p=0,f=Object.keys(d);p<f.length;p++){var h=f[p];s.setRequestHeader(h,d[h])}(null==o?void 0:o.withCredentials)&&(s.withCredentials=o.withCredentials),"POST"===n.toUpperCase()&&r?s.send(JSON.stringify(r)):s.send(null)}))},ma=function(e,t,n){void 0===n&&(n={});var o=n.headers?r({"Content-Type":"application/json"},n.headers):{"Content-Type":"application/json"};return _a({url:e,method:"POST",data:t,config:r(r({},n),{headers:o})})},ga=i((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(u){}if(o[l]=c,e===l)break}catch(u){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}));function va(e){e="object"==typeof e?e:{};var t=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),t=e.length,n=Date.now().toString(36),r=[];r[8]=r[13]=r[18]=r[23]="_",r[14]="4";for(var o=0,i=void 0;o<36;o++)r[o]||(i=0|Math.random()*t,r[o]=e[19==o?3&i|8:i]);return"verify_"+n+"_"+r.join("")}(),n={path:"/"};return e.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(e.domain)&&(n.domain=e.domain),ga.set(ca,t,n),t}var wa=function(e){void 0===e&&(e={});var t=function(e){void 0===e&&(e={});var t=ga.get(ca);return t&&0===t.indexOf("verify_")||(t=va(e)),t}(e);return t},Ea=function(e){return ma(""+(e||"https://vcs-va.byteoversea.com")+la,{},{headers:{"X-Setting-Flag":1}})},ya=function(){function e(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return e.prototype.init=function(e,t){void 0===t&&(t={}),this.isInit||(this.isInit=!0,this.conf.app_id="cn"===e.region?2018:2740,this.conf.evtParams=r(r({},t),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:e.aid}),1180===e.aid||1233===e.aid?this.channelType="tcpy":this.channelType=aa)},e.prototype.getTeaWebId=function(){return this.fetchWebId||(this.fetchWebId=function(e,t){var n=sa[t],r=da(t);return ma(""+n+r,{app_id:e,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then((function(e){return e.web_id}))}(this.conf.app_id,this.channelType)),this.fetchWebId},e.prototype.trackEvent=function(e,t){var n=this;void 0===t&&(t={}),this.getTeaWebId().then((function(o){var i=[{events:[{event:"turing_verify_sdk",is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(r(r(r({},n.conf.evtParams),t),{key:"h5_"+e,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:n.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:o,web_id:o}}];n.sendEvents(i)})).catch((function(e){console.log("err: ",e)}))},e.prototype.sendEvents=function(e){(function(e,t){var n=sa[t],r=ua(t);return ma(""+n+r,e)})(e,this.channelType).catch((function(e){console.log("report err: ",e)}))},e}(),Aa=new ya,ba={back_up_js_v2:{va:["https://lf-rc2.yhgfb-static.com/obj/rc-client-security-us/secsdk-captcha/@latest/captcha.js","https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/secsdk-captcha/@latest/captcha.js"]},js_v2:{va:"https://lf-rc1.yhgfb-static.com/obj/rc-client-security-us/secsdk-captcha/@latest/captcha.js"}},Ta={},Sa={executor:"Function",static_domain:"",settingHost:""},Ca=function(e,t,n,r){ha.setFileName(e);var o,i=Date.now(),a=pi.resolve({});return a="script"===t?(o=e,new pi((function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("crossorigin","anonymous"),r.setAttribute("src",o),n.appendChild(r);var i=setTimeout((function(){t(new Error("LoadJSSDKMoreTan4000ms"))}),4e3);r.onload=function(){clearTimeout(i),e(0)},r.onerror=function(){clearTimeout(i),t(new Error("Failed to load SDK!"))}}))).then((function(){return window.verifySDK})):function(e,t){return void 0===t&&(t={}),_a({url:e,method:"GET",config:t})}(e,{timeout:2e4}).then((function(e){if(n&&r&&n!==r){var t=new RegExp(n,"g");e=e.replace(t,r)}var o=function(e){var t={exports:{}},n=new Function("exports","module",e);try{n(t.exports,t)}catch(r){ha.reportJsError({message:null==r?void 0:r.message,stack:null==r?void 0:r.stack,filename:null==r?void 0:r.filename})}return t}(e);return o.exports})),a.then((function(t){return ha.reportResource({url:e,startTime:Date.now(),duration:Date.now()-i}),t})).catch((function(t){return ha.reportResourceError(e),pi.reject(t)}))},Ia=function(){function e(){}return e.get=function(){var t;return 0!==e.status&&3!==e.status||(e.status=1,e.core=(t=Date.now(),Ea(Sa.settingHost).catch((function(){return Ea(Sa.settingHost)})).then((function(e){var n,r;return Aa.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-t,message:""}),(null===(r=null===(n=null==e?void 0:e.verify)||void 0===n?void 0:n.js_v2)||void 0===r?void 0:r[aa])?e.verify:ba})).catch((function(e){return Aa.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-t,message:null==e?void 0:e.message}),ba}))).then((function(t){var n,r,o,i=null===(n=t.js_v2)||void 0===n?void 0:n[aa],a=(null===(r=t.back_up_js_v2)||void 0===r?void 0:r[aa])||[],s=null===(o=i.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===o?void 0:o[1];Sa.static_domain&&s&&(i=i.replace(s,Sa.static_domain));var c=[i].concat(a);return new pi((function(t,n){var r=function(){var o,i=c.shift(),a=null===(o=i.match(/\/\/([\w-]+(\.[\w-]+)+)/))||void 0===o?void 0:o[1];Ca(i,Sa.executor,s,a).then((function(n){t(n),e.status=2,Aa.trackEvent("hotsdk_loadscript",{is_success:1})})).catch((function(t){c.length?r():(n(t),e.status=3,Aa.trackEvent("hotsdk_loadscript",{is_success:0}))}))};r()}))})).catch((function(e){return pi.reject(e)}))),e.core},e.status=0,e}(),Pa=function(e){e.static_domain&&(Sa.static_domain=e.static_domain),e.settingHost&&(Sa.settingHost=e.settingHost),e.executor&&(Sa.executor=e.executor)},La=function(){function e(){}return e.config=function(e){Pa(e)},e.init=function(e,t,n){var o=pa(e);return Aa.init(r(r({},o),{region:aa})),ha.init(o,ma),ha.start(),Ia.get().then((function(n){var o;Object.assign(Ta,r(r({},e),{captchaOptions:r(r({},e.captchaOptions),{h5_check_version:(null===(o=e.captchaOptions)||void 0===o?void 0:o.closeDecisionCheck)?"0.0.0":"3.9.1"})}));var i=n.initVerifyCenter(Ta);if(!t)return i;t(i)})).catch((function(e){if(!n)return pi.reject(e);n(e)}))},e}();t.TTVerifyCenter=La,t.close=function(){Ia.get().then((function(e){null==e||e.closeCaptcha()}))},t.config=Pa,t.getFp=function(){var e,t,n=(null===(e=null==Ta?void 0:Ta.captchaOptions)||void 0===e?void 0:e.fp)||ga.get(ca)||""||wa(null===(t=null==Ta?void 0:Ta.captchaOptions)||void 0===t?void 0:t.fpCookieOption);return pi.resolve(n)},t.init=function(e,t,n){void 0===t&&(t=function(){}),void 0===n&&(n=function(){});var o=pa(e);Aa.init(r(r({},o),{region:aa})),ha.init(o,ma),ha.start(),Ia.get().then((function(n){var o;Object.assign(Ta,r(r({},e),{captchaOptions:r(r({},e.captchaOptions),{h5_check_version:(null===(o=e.captchaOptions)||void 0===o?void 0:o.closeDecisionCheck)?"0.0.0":"3.9.1"})})),null==n||n.initVerifyOptions(Ta),t(n)})).catch((function(e){var t;n({type:"loadJSSDK",msg:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:""})}))},t.render=function(e){Ia.get().then((function(t){null==t||t.autoRender(e)})).catch((function(e){console.log("err: ",e)}))},t.transform=function(e){var t={code:"10000",from:"",type:"verify",version:"1",region:aa,subtype:"",verify_event:"",fp:"",detail:""};return t.subtype=3059===e?"text":3060===e?"3d":99996===e?"whirl":"slide",JSON.stringify(t)}},48048:function(e){e.exports=function(){"use strict";function e(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function t(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var n,r,o=function(){function e(){this.events={}}return e.prototype.on=function(e,t){return this.events[e]?this.events[e].push(t):this.events[e]=[t],this},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return!!this.events[e]&&(this.events[e].forEach((function(e){return e.apply(void 0,t)})),!0)},e.prototype.off=function(e,t){var n=this.events[e];if(n)for(var r=0;r<n.length;r++)n[r]!==t&&n[r]!==t.fn||n.splice(r,1);return this},e.prototype.once=function(e,t){var n=this,r=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];t.apply(void 0,o),n.off(e,r)};return r.fn=t,this.on(e,r),this},e}();return function(e){e[e.INIT=1001]="INIT",e[e.START=1002]="START",e[e.UPDATE=1003]="UPDATE",e[e.end=1004]="end"}(n||(n={})),function(e){e[e.INIT=2001]="INIT",e[e.OTHERS=2002]="OTHERS"}(r||(r={})),function(){function i(n){var a=this;this.chunkSize=i.BASIS_CHUNK_SIZE,this.handler=null,this.worker=null,this.event=null,this.entryAddress=null,this.wasmAddress=null,n.chunkSize&&(n.chunkSize/i.BASIS_CHUNK_SIZE>0&&n.chunkSize%i.BASIS_CHUNK_SIZE==0?this.chunkSize=n.chunkSize:console.warn("The chunkSize should be a multiple of 5MB(MD5Tool.MD5Tool.BASIS_CHUNK_SIZE).")),this.entryAddress=n.entry,this.wasmAddress=n.wasm,this.event=new o,this.handler={start:function(){return e(a,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return this.worker.postMessage([1002]),[4,this.actionDone(r.OTHERS)];case 1:return e.sent(),[2]}}))}))},update:function(n){return e(a,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return this.worker.postMessage([1003,this.getU8ASABFromAB(n)]),[4,this.actionDone(r.OTHERS)];case 1:return e.sent(),[2]}}))}))},end:function(){return e(a,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return this.worker.postMessage([1004]),[4,this.actionDone(r.OTHERS)];case 1:return[2,e.sent()]}}))}))}}}return i.prototype.initWorker=function(){return e(this,void 0,Promise,(function(){var o=this;return t(this,(function(i){return[2,Promise.all([fetch(this.entryAddress),fetch(this.wasmAddress)]).then((function(n){return e(o,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e={},[4,n[0].arrayBuffer()];case 1:return e.entry=t.sent(),[4,n[1].arrayBuffer()];case 2:return[2,(e.wasm=t.sent(),e)]}}))}))})).then((function(i){return e(o,void 0,void 0,(function(){var e,o,a=this;return t(this,(function(t){switch(t.label){case 0:return e=URL.createObjectURL(new Blob([new Uint8Array(i.entry)],{type:"text/javascript"})),(o=new Worker(e)).onmessage=function(e){var t=e.data,n=t[0],r=t[1];a.event.emit(String(n),r)},o.postMessage([n.INIT,this.getU8ASABFromAB(i.wasm)]),[4,this.actionDone(r.INIT)];case 1:return t.sent(),[2,o]}}))}))}))]}))}))},i.prototype.getU8ASABFromAB=function(e){var t=new Uint8Array(e),n=new SharedArrayBuffer(t.byteLength);return new Uint8Array(n),t},i.prototype.actionDone=function(n){return e(this,void 0,Promise,(function(){var e=this;return t(this,(function(t){return[2,new Promise((function(t,r){e.event.once(String(n),(function(e){t(e)}))}))]}))}))},i.prototype.init=function(){return e(this,void 0,Promise,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return null!==this.worker?[3,2]:(e=this,[4,this.initWorker()]);case 1:e.worker=t.sent(),t.label=2;case 2:return[2,this]}}))}))},i.prototype.start=function(){return e(this,void 0,Promise,(function(){return t(this,(function(e){switch(e.label){case 0:if(!this.handler)throw"please init first";return[4,this.handler.start()];case 1:return e.sent(),[2,this]}}))}))},i.prototype.update=function(n){return e(this,void 0,Promise,(function(){return t(this,(function(e){switch(e.label){case 0:if(!this.handler)throw"please init first";return[4,this.handler.update(n)];case 1:return e.sent(),[2,this]}}))}))},i.prototype.end=function(){return e(this,void 0,Promise,(function(){return t(this,(function(e){switch(e.label){case 0:if(!this.handler)throw"please init first";return[4,this.handler.end()];case 1:return[2,e.sent()]}}))}))},i.prototype.destroy=function(){return e(this,void 0,Promise,(function(){return t(this,(function(e){return this.handler=null,this.worker&&(this.worker.terminate(),this.worker=null),[2,this]}))}))},i.BASIS_CHUNK_SIZE=5242880,i}()}()},14463:(e,t,n)=>{"use strict";n.d(t,{CookieBanner:()=>F,cookieConsent:()=>M});var r=n(77226),o=n(17100),i=n(4554),a=n(22169),s=n(1504),c=n(72322),l=n(18571),u=n(24451),d=n(98351),p=n(2427),f=n(27175),h=n(93062);const _={HOME:{PATH:"/",LOCALE_PATH:"/:locale/",MATCHER:"/:locale*/",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CREATIVE_SUITE:{PATH:"/creative-suite",LOCALE_PATH:"/:locale/creative-suite",MATCHER:"/:locale*/creative-suite",HAS_LOCALE_PREFIX:!0,INDEXING:!0},WORKSPACE:{CHILD:{MY_DRAFT:{NAME:"my_draft",PATH:"/my-edit",LOCALE_PATH:"/my-edit",MATCHER:"/my-edit",HAS_LOCALE_PREFIX:!1},TEMPLATE:{NAME:"templates",PATH:"/templates",LOCALE_PATH:"/templates",MATCHER:"/templates",HAS_LOCALE_PREFIX:!1},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/templates/:id",MATCHER:"/templates/:id",HAS_LOCALE_PREFIX:!1},MAGIC_TOOLS:{NAME:"magic_tools",PATH:"/magic-tools",LOCALE_PATH:"/magic-tools",MATCHER:"/magic-tools",HAS_LOCALE_PREFIX:!1},RECENT_LISTS:{NAME:"recent",PATH:"/recent-list",LOCALE_PATH:"/recent-list",MATCHER:"/recent-list",HAS_LOCALE_PREFIX:!1},MY_FILM:{NAME:"my_file",PATH:"/my-film",LOCALE_PATH:"/my-film",MATCHER:"/my-film",HAS_LOCALE_PREFIX:!1},MY_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud",LOCALE_PATH:"/my-cloud",MATCHER:"/my-cloud",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud/:id",LOCALE_PATH:"/my-cloud/:id",MATCHER:"/my-cloud/:id",HAS_LOCALE_PREFIX:!1},MY_SHARE:{NAME:"share_records",PATH:"/my-share",LOCALE_PATH:"/my-share",MATCHER:"/my-share",HAS_LOCALE_PREFIX:!1},PROFILE:{NAME:"profile",PATH:"/profile",LOCALE_PATH:"/profile",MATCHER:"/profile",HAS_LOCALE_PREFIX:!1},SEARCH:{NAME:"search",PATH:"/search",LOCALE_PATH:"/search",MATCHER:"/search",HAS_LOCALE_PREFIX:!1}}},LOGIN:{PATH:"/login",LOCALE_PATH:"/:locale/login",MATCHER:"/:locale*/login",HAS_LOCALE_PREFIX:!0,INDEXING:!0},SIGN_UP:{PATH:"/signup",LOCALE_PATH:"/:locale/signup",MATCHER:"/:locale*/signup",HAS_LOCALE_PREFIX:!0,INDEXING:!0},DOWNLOAD_GUIDANCE:{PATH:"/download-guidance",LOCALE_PATH:"/download-guidance",MATCHER:"/download-guidance",HAS_LOCALE_PREFIX:!1},INVITE:{PATH:"/invite",LOCALE_PATH:"/:locale/invite",MATCHER:"/:locale*/invite",HAS_LOCALE_PREFIX:!0},FORGET_PWD:{PATH:"/forget-password",LOCALE_PATH:"/:locale/forget-password",MATCHER:"/:locale*/forget-password",HAS_LOCALE_PREFIX:!0},TEAM_INVITE:{PATH:"/team-invite/:id",LOCALE_PATH:"/:locale/team-invite/:id",MATCHER:"/:locale*/team-invite/:id",HAS_LOCALE_PREFIX:!0},LOGIN_STATUS:{PATH:"/loginStatus",LOCALE_PATH:"/loginStatus",MATCHER:"/loginStatus",HAS_LOCALE_PREFIX:!1},LOGIN_STATUS_SERVER:{PATH:"/lv/v1/user/web/login/third_callback"},COOPERATION:{DETAIL:{PID:"/view/:id",PATH:"/view/:id",LOCALE_PATH:"/view/:id",MATCHER:"/:locale*/view/:id",HAS_LOCALE_PREFIX:!1},EXPERIENCE:{PATH:"/view",LOCALE_PATH:"/view",MATCHER:"/view",HAS_LOCALE_PREFIX:!1},SHARE:{PID:"/share/:id",PATH:"/share/:id",LOCALE_PATH:"/share/:id",MATCHER:"/share/:id",HAS_LOCALE_PREFIX:!1},EMBED:{PID:"/embed/:id",PATH:"/embed/:id",LOCALE_PATH:"/embed/:id",MATCHER:"/embed/:id",HAS_LOCALE_PREFIX:!1},RENDER:{PID:"/render/:id",PATH:"/render/:id",LOCALE_PATH:"/render/:id",MATCHER:"/render/:id",HAS_LOCALE_PREFIX:!1},REPORT:{PID:"/report",PATH:"/report",LOCALE_PATH:"/report",MATCHER:"/report",HAS_LOCALE_PREFIX:!1}},TOKEN_AUTH:{PATH:"/tokenAuth",LOCALE_PATH:"/tokenAuth",MATCHER:"/tokenAuth",HAS_LOCALE_PREFIX:!1},EDITOR:{PATH:"/editor",LOCALE_PATH:"/editor",MATCHER:"/editor",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TIKTOK_AUTH:{PATH:"/tiktokAuth",LOCALE_PATH:"/tiktokAuth",MATCHER:"/tiktokAuth",HAS_LOCALE_PREFIX:!1},THIRD_PARTY_ENTRANCE:{PATH:"/third-party-entrance",LOCALE_PATH:"/third-party-entrance",MATCHER:"/third-party-entrance",HAS_LOCALE_PREFIX:!1},PASSPORT_LOGIN:{PATH:"/passport/web/web_login"},COOKIE_SETTINGS:{PATH:"/cookie-settings",LOCALE_PATH:"/:locale/cookie-settings",MATCHER:"/:locale*/cookie-settings",HAS_LOCALE_PREFIX:!0,INDEXING:!0},THIRDPARTY_CLOUD_STORAGE_AUTH:{PATH:"/thirdpartyCloudStorageAuth",LOCALE_PATH:"/thirdpartyCloudStorageAuth",MATCHER:"/thirdpartyCloudStorageAuth",HAS_LOCALE_PREFIX:!1},CAPCUT_APP:{PATH:"/tools/video-editing-app",LOCALE_PATH:"/:locale/tools/video-editing-app",MATCHER:"/:locale*/tools/video-editing-app",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CMS_TOOLS:{PATH:"/tools/:title",LOCALE_PATH:"/:locale/tools/:title",MATCHER:"/:locale*/tools/:title",HAS_LOCALE_PREFIX:!0},CMS_CREATE:{PATH:"/create/:title",LOCALE_PATH:"/:locale/create/:title",MATCHER:"/:locale*/create/:title",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE:{PATH:"/resource/:title",LOCALE_PATH:"/:locale/resource/:title",MATCHER:"/:locale*/resource/:title",HAS_LOCALE_PREFIX:!0},CMS_TOOLS_AGGREGATION:{PATH:"/tools",LOCALE_PATH:"/:locale/tools",MATCHER:"/:locale*/tools",HAS_LOCALE_PREFIX:!0},CMS_CREATE_AGGREGATION:{PATH:"/create",LOCALE_PATH:"/:locale/create",MATCHER:"/:locale*/create",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE_AGGREGATION:{PATH:"/resource",LOCALE_PATH:"/:locale/resource",MATCHER:"/:locale*/resource",HAS_LOCALE_PREFIX:!0},COLLECT_RESOURCE:{NAME:"collect-resource",PATH:"/collect-resource/:token",LOCALE_PATH:"/collect-resource/:token",MATCHER:"/collect-resource/:token",HAS_LOCALE_PREFIX:!1},EDITOR_TOOLS:{NAME:"editor-tools",PATH:"/editor-tools",LOCALE_PATH:"/editor-tools/:name",MATCHER:"/editor-tools/:name",HAS_LOCALE_PREFIX:!1,TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_AVATAR:{PATH:"/magic-tools/generate-portrait",LOCALE_PATH:"/magic-tools/generate-portrait",MATCHER:"/magic-tools/generate-portrait",HAS_LOCALE_PREFIX:!1},IMAGE_NIGHT_ENHANCE:{PATH:"/magic-tools/enhance-low-light-image",LOCALE_PATH:"/magic-tools/enhance-low-light-image",MATCHER:"/magic-tools/enhance-low-light-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-photo",LOCALE_PATH:"/magic-tools/stylize-photo",MATCHER:"/magic-tools/stylize-photo",HAS_LOCALE_PREFIX:!1},IMAGE_UPSCALER:{PATH:"/magic-tools/upscale-image",LOCALE_PATH:"/magic-tools/upscale-image",MATCHER:"/magic-tools/upscale-image",HAS_LOCALE_PREFIX:!1},IMAGE_AI_TONING:{PATH:"/magic-tools/correct-color",LOCALE_PATH:"/magic-tools/correct-color",MATCHER:"/magic-tools/correct-color",HAS_LOCALE_PREFIX:!1},IMAGE_COLORING:{PATH:"/magic-tools/ai-colorize",LOCALE_PATH:"/magic-tools/ai-colorize",MATCHER:"/magic-tools/ai-colorize",HAS_LOCALE_PREFIX:!1},IMAGE_RESTORATION:{PATH:"/magic-tools/ai-restore",LOCALE_PATH:"/magic-tools/ai-restore",MATCHER:"/magic-tools/ai-restore",HAS_LOCALE_PREFIX:!1},VIDEO_VIDEO_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-video",LOCALE_PATH:"/magic-tools/stylize-video",MATCHER:"/magic-tools/stylize-video",HAS_LOCALE_PREFIX:!1},VIDEO_UPSCALER:{PATH:"/magic-tools/upscale-video",LOCALE_PATH:"/magic-tools/upscale-video",MATCHER:"/magic-tools/upscale-video",HAS_LOCALE_PREFIX:!1},VIDEO_SLOW_MOTION:{PATH:"/magic-tools/make-slomo",LOCALE_PATH:"/magic-tools/make-slomo",MATCHER:"/magic-tools/make-slomo",HAS_LOCALE_PREFIX:!1},VIDEO_STABILIZATION:{PATH:"/magic-tools/stablize-video",LOCALE_PATH:"/magic-tools/stablize-video",MATCHER:"/magic-tools/stablize-video",HAS_LOCALE_PREFIX:!1},TRANSFORM:{PATH:"/editor-tools/transform",LOCALE_PATH:"/editor-tools/transform",MATCHER:"/editor-tools/transform",HAS_LOCALE_PREFIX:!1},CUTOUT:{PATH:"/editor-tools/cutout",LOCALE_PATH:"/editor-tools/cutout",MATCHER:"/editor-tools/cutout",HAS_LOCALE_PREFIX:!1},SCRIPT:{PATH:"/editor-tools/script",LOCALE_PATH:"/editor-tools/script",MATCHER:"/editor-tools/script",HAS_LOCALE_PREFIX:!1},AUTO_CUT:{PATH:"/editor-tools/autocut",LOCALE_PATH:"/editor-tools/autocut",MATCHER:"/editor-tools/autocut",HAS_LOCALE_PREFIX:!1},TEXT_TO_VIDEO:{PATH:"/editor-tools/convert-script-to-video",LOCALE_PATH:"/editor-tools/convert-script-to-video",MATCHER:"/editor-tools/convert-script-to-video",HAS_LOCALE_PREFIX:!1},U2V:{PATH:"/editor-tools/url-to-ads",LOCALE_PATH:"/editor-tools/url-to-ads",MATCHER:"/editor-tools/url-to-ads",HAS_LOCALE_PREFIX:!1},LONG_TO_SHORT:{PATH:"/editor-tools/long-video-to-shorts",LOCALE_PATH:"/editor-tools/long-video-to-shorts",MATCHER:"/editor-tools/long-video-to-shorts",HAS_LOCALE_PREFIX:!1}},TOOlS:{ONLINE:{PATH:"/tools/online-video-editor"},DESKTOP:{PATH:"/tools/desktop-video-editor"}},DISCOVER:{PATH:"/discover/keyword/:id",LOCALE_PATH:"/:locale/discover/keyword/:id",MATCHER:"/:locale*/discover/keyword/:id",HAS_LOCALE_PREFIX:!0},DISCOVER_TITLE:{PATH:"/discover/keyword/:title/:id",LOCALE_PATH:"/:locale/discover/keyword/:title/:id",MATCHER:"/:locale*/discover/keyword/:title/:id",HAS_LOCALE_PREFIX:!0},EDITOR_GRAPHIC:{PATH:"/editor-graphic",LOCALE_PATH:"/editor-graphic",MATCHER:"/editor-graphic",HAS_LOCALE_PREFIX:!1,INDEXING:!0},EDITOR_BATCH:{PATH:"/editor-batch",LOCALE_PATH:"/editor-batch",MATCHER:"/editor-batch",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/:locale/templates/:id",MATCHER:"/:locale*/templates/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_KEYWORDS:{PATH:"/template-detail/:key/:id",LOCALE_PATH:"/:locale/template-detail/:key/:id",MATCHER:"/:locale*/template-detail/:key/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_NO_KEYWORDS:{PATH:"/template-detail/:id",LOCALE_PATH:"/:locale/template-detail/:id",MATCHER:"/:locale*/template-detail/:id",HAS_LOCALE_PREFIX:!0},PROFILE:{PATH:"/profile/:id",LOCALE_PATH:"/:locale/profile/:id",MATCHER:"/:locale*/profile/:id",HAS_LOCALE_PREFIX:!0},HASHTAG:{PATH:"/discover/hashtag/:title/:id",LOCALE_PATH:"/:locale/discover/hashtag/:title/:id",MATCHER:"/:locale*/discover/hashtag/:title/:id",HAS_LOCALE_PREFIX:!0},CATEGORY:{PATH:"/discover/category/:title/:id",LOCALE_PATH:"/:locale/discover/category/:title/:id",MATCHER:"/:locale*/discover/category/:title/:id",HAS_LOCALE_PREFIX:!0},CREATOR:{PATH:"/discover/creator/:id",LOCALE_PATH:"/:locale/discover/creator/:id",MATCHER:"/:locale*/discover/creator/:id",HAS_LOCALE_PREFIX:!0},UG_ARTICLE:{PATH:"/discover/article/:title/:id",LOCALE_PATH:"/:locale/discover/article/:title/:id",MATCHER:"/:locale*/discover/article/:title/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE:{PATH:"/templates",LOCALE_PATH:"/:locale/templates",MATCHER:"/:locale*/templates",HAS_LOCALE_PREFIX:!0},EDITOR_TEMPLATE:{PATH:"/editor-template",LOCALE_PATH:"/editor-template",MATCHER:"/editor-template",HAS_LOCALE_PREFIX:!1,INDEXING:!0},MAGIC_TOOLS:{TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1}},SCAN_QR_CODE:{PATH:"/scan-qr-code",LOCALE_PATH:"/scan-qr-code",MATCHER:"/scan-qr-code",HAS_LOCALE_PREFIX:!1,INDEXING:!1},FILL_BIRTHDAY:{PATH:"/birthday-information",LOCALE_PATH:"/:locale/birthday-information",MATCHER:"/:locale*/birthday-information",HAS_LOCALE_PREFIX:!0,INDEXING:!1}},m=(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},g={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}},v=Object.values(g).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{}),w={BR:{label:"\u5df4\u897f",locale:g.Portuguese,useBrowserLang:!1},MZ:{label:"\u83ab\u6851\u6bd4\u514b",locale:g.Portuguese,useBrowserLang:!1},AO:{label:"\u5b89\u54e5\u62c9",locale:g.Portuguese,useBrowserLang:!1},PT:{label:"\u8461\u8404\u7259",locale:g.Portuguese,useBrowserLang:!1},GW:{label:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",locale:g.Portuguese,useBrowserLang:!1},TL:{label:"\u4e1c\u5e1d\u6c76",locale:g.Portuguese,useBrowserLang:!1},GQ:{label:"\u8d64\u9053\u51e0\u5185\u4e9a",locale:g.Spanish,useBrowserLang:!0},CV:{label:"\u4f5b\u5f97\u89d2",locale:g.Portuguese,useBrowserLang:!1},ST:{label:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",locale:g.Portuguese,useBrowserLang:!1},MX:{label:"\u58a8\u897f\u54e5",locale:g.Spanish,useBrowserLang:!1},CO:{label:"\u54e5\u4f26\u6bd4\u4e9a",locale:g.Spanish,useBrowserLang:!1},ES:{label:"\u897f\u73ed\u7259",locale:g.Spanish,useBrowserLang:!1},AR:{label:"\u963f\u6839\u5ef7",locale:g.Spanish,useBrowserLang:!1},PE:{label:"\u79d8\u9c81",locale:g.Spanish,useBrowserLang:!1},VE:{label:"\u59d4\u5185\u745e\u62c9",locale:g.Spanish,useBrowserLang:!1},CL:{label:"\u667a\u5229",locale:g.Spanish,useBrowserLang:!1},EC:{label:"\u5384\u74dc\u591a\u5c14",locale:g.Spanish,useBrowserLang:!1},GT:{label:"\u5371\u5730\u9a6c\u62c9",locale:g.Spanish,useBrowserLang:!1},CU:{label:"\u53e4\u5df4",locale:g.Spanish,useBrowserLang:!1},BO:{label:"\u73bb\u5229\u7ef4\u4e9a",locale:g.Spanish,useBrowserLang:!1},DO:{label:"\u591a\u7c73\u5c3c\u52a0",locale:g.Spanish,useBrowserLang:!1},HN:{label:"\u6d2a\u90fd\u62c9\u65af",locale:g.Spanish,useBrowserLang:!1},PY:{label:"\u5df4\u62c9\u572d",locale:g.Spanish,useBrowserLang:!1},SV:{label:"\u8428\u5c14\u74e6\u591a",locale:g.Spanish,useBrowserLang:!1},NI:{label:"\u5c3c\u52a0\u62c9\u74dc",locale:g.Spanish,useBrowserLang:!1},CR:{label:"\u54e5\u65af\u8fbe\u9ece\u52a0",locale:g.Spanish,useBrowserLang:!1},PA:{label:"\u5df4\u62ff\u9a6c",locale:g.Spanish,useBrowserLang:!1},UY:{label:"\u4e4c\u62c9\u572d",locale:g.Spanish,useBrowserLang:!1},DE:{label:"\u5fb7\u56fd",locale:g.German,useBrowserLang:!1},AT:{label:"\u5965\u5730\u5229",locale:g.German,useBrowserLang:!1},LI:{label:"\u5217\u652f\u6566\u58eb\u767b",locale:g.German,useBrowserLang:!1},CH:{label:"\u745e\u58eb\uff08\u5fb7\u8bed\u548c\u6cd5\u8bed\u5747\u6709\u7528\u6237\uff09",locale:g.German,useBrowserLang:!0},LT:{label:"\u5362\u68ee\u5821\uff08\u6ca1\u6709\u660e\u663e\u8bed\u8a00\u5206\u5e03\uff0c\u6cd5\u8bed\u3001\u5fb7\u8bed\u90fd\u6709\uff09",locale:g.German,useBrowserLang:!0},CD:{label:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd",locale:g.French,useBrowserLang:!1},FR:{label:"\u6cd5\u56fd",locale:g.French,useBrowserLang:!1},CA:{label:"\u52a0\u62ff\u5927",locale:g.French,useBrowserLang:!1},MG:{label:"\u9a6c\u8fbe\u52a0\u65af\u52a0",locale:g.French,useBrowserLang:!1},CM:{label:"\u5580\u9ea6\u9686",locale:g.French,useBrowserLang:!1},CI:{label:"\u79d1\u7279\u8fea\u74e6",locale:g.French,useBrowserLang:!1},BF:{label:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",locale:g.French,useBrowserLang:!1},NE:{label:"\u5c3c\u65e5\u5c14",locale:g.French,useBrowserLang:!1},SN:{label:"\u585e\u5185\u52a0\u5c14",locale:g.French,useBrowserLang:!1},ML:{label:"\u9a6c\u91cc",locale:g.French,useBrowserLang:!1},RW:{label:"\u5362\u65fa\u8fbe",locale:g.French,useBrowserLang:!1},BE:{label:"\u6bd4\u5229\u65f6",locale:g.French,useBrowserLang:!1},HT:{label:"\u6d77\u5730",locale:g.French,useBrowserLang:!1},TD:{label:"\u4e4d\u5f97",locale:g.French,useBrowserLang:!1},CN:{label:"\u51e0\u5185\u4e9a",locale:g.French,useBrowserLang:!1},BI:{label:"\u5e03\u9686\u8fea",locale:g.French,useBrowserLang:!1},BJ:{label:"\u8d1d\u5b81",locale:g.French,useBrowserLang:!1},TG:{label:"\u591a\u54e5",locale:g.French,useBrowserLang:!1},CF:{label:"\u4e2d\u975e",locale:g.French,useBrowserLang:!1},CG:{label:"\u521a\u679c\u5171\u548c\u56fd",locale:g.French,useBrowserLang:!1},GA:{label:"\u52a0\u84ec",locale:g.French,useBrowserLang:!1},KM:{label:"\u79d1\u6469\u7f57",locale:g.French,useBrowserLang:!1},DJ:{label:"\u5409\u5e03\u63d0",locale:g.French,useBrowserLang:!1},VU:{label:"\u74e6\u52aa\u963f\u56fe",locale:g.French,useBrowserLang:!1},SC:{label:"\u585e\u820c\u5c14",locale:g.French,useBrowserLang:!1},MC:{label:"\u6469\u7eb3\u54e5",locale:g.French,useBrowserLang:!1},JP:{label:"\u65e5\u672c",locale:g.Japan,useBrowserLang:!1},KR:{label:"\u97e9\u56fd",locale:g.Korea,useBrowserLang:!1},KP:{label:"\u671d\u9c9c",locale:g.Korea,useBrowserLang:!1},TR:{label:"\u571f\u8033\u5176",locale:g.Turkey,useBrowserLang:!1},TRNC:{label:"\u5317\u585e\u6d66\u8def\u65af",locale:g.Turkey,useBrowserLang:!1},CY:{label:"\u585e\u6d66\u8def\u65af",locale:g.Turkey,useBrowserLang:!1},IT:{label:"\u610f\u5927\u5229",locale:g.italian,useBrowserLang:!1},SM:{label:"\u5723\u9a6c\u529b\u8bfa",locale:g.italian,useBrowserLang:!1},VA:{label:"\u68b5\u8482\u5188",locale:g.italian,useBrowserLang:!0},TH:{label:"\u6cf0\u56fd",locale:g.Thai,useBrowserLang:!1},ID:{label:"\u5370\u5ea6\u5c3c\u897f\u4e9a",locale:g.Indonesian,useBrowserLang:!1},VN:{label:"\u8d8a\u5357",locale:g.vietnamese,useBrowserLang:!1},PH:{label:"\u83f2\u5f8b\u5bbe",locale:g.Filipino,useBrowserLang:!0},MY:{label:"\u9a6c\u6765\u897f\u4e9a",locale:g.Malay,useBrowserLang:!1},BN:{label:"\u6587\u83b1",locale:g.Malay,useBrowserLang:!1}},E={AT:{needCookieBanner:!0},BE:{needCookieBanner:!0},BG:{needCookieBanner:!0},HR:{needCookieBanner:!0},CY:{needCookieBanner:!0},CZ:{needCookieBanner:!0},DK:{needCookieBanner:!0},EE:{needCookieBanner:!0},FI:{needCookieBanner:!0},FR:{needCookieBanner:!0},DE:{needCookieBanner:!0},EL:{needCookieBanner:!0},HU:{needCookieBanner:!0},IE:{needCookieBanner:!0},IT:{needCookieBanner:!0},LV:{needCookieBanner:!0},LT:{needCookieBanner:!0},LU:{needCookieBanner:!0},MT:{needCookieBanner:!0},NL:{needCookieBanner:!0},PL:{needCookieBanner:!0},PT:{needCookieBanner:!0},RO:{needCookieBanner:!0},SK:{needCookieBanner:!0},SI:{needCookieBanner:!0},ES:{needCookieBanner:!0},SE:{needCookieBanner:!0},NO:{needCookieBanner:!0},IS:{needCookieBanner:!0},LI:{needCookieBanner:!0},UK:{needCookieBanner:!0},CH:{needCookieBanner:!0},TR:{needCookieBanner:!0}},y="es-ES";class A{constructor(e){this._sdk=e.sdk}set sdk(e){this._sdk=e}get sdk(){return this._sdk}init(e){var t;null==(t=this._sdk)||t.call(this,"init",e)}start(){var e;null==(e=this._sdk)||e.call(this,"start")}config(e){var t;null==(t=this._sdk)||t.call(this,"config",e)}error(e,t,n={}){var r;const o=null!=n&&n.level?null==n?void 0:n.level:"warn",i=(0,a.isError)(t)?t:new Error(JSON.stringify(t)),{message:s}=i;i.message=`\u3010Custom-Error\u3011:${e}-${n.toGroup?"MoreDataInExternal":null==i?void 0:i.message}`,n.toGroup&&(Object.assign(n,{message:s}),delete n.toGroup),null==(r=this._sdk)||r.call(this,"captureException",i,{...n,level:o})}dataEvent(e,t={}){var n;const r=null!=t&&t.level?null==t?void 0:t.level:"info",o=(0,a.pickBy)(t,a.isNumber);null==(n=this._sdk)||n.call(this,"sendEvent",{name:`\u3010Custom-Data\u3011: ${e}`,metrics:o,categories:{...t,level:r}})}log(e,t={}){var n;const r=null!=t&&t.level?null==t?void 0:t.level:"info";null==(n=this._sdk)||n.call(this,"sendLog",{content:`\u3010Custom-Log\u3011: ${e}`,level:r,extra:{...t}})}setCurrentBranch(e=""){var t;e&&(null==(t=this.sdk)||t.call(this,"context.set","branch",e))}}let b;const T=new Proxy({},{get:(e,t)=>{if(!b){let e;typeof window<"u"&&(e=null==window?void 0:window.ccWebSlardar),b=new A({sdk:e})}return"function"==typeof b[t]?b[t].bind(b):b[t]}});class S{static getString(e){return typeof window>"u"||!navigator.cookieEnabled?null:localStorage.getItem(e)}static setString(e,t){if(!(typeof window>"u")&&navigator.cookieEnabled)return localStorage.setItem(e,t)}static getJsonWithEmptyJson(e){let t;try{const n=typeof localStorage<"u"&&localStorage.getItem(e)||"{}";t=JSON.parse(n)}catch(n){T.error("LocalStorage-getJsonWithEmptyJson()",n)}return t}static getJson(e){if(typeof window>"u"||!navigator.cookieEnabled)return;const t=typeof localStorage<"u"&&localStorage.getItem(e);let n;if(t){try{n=JSON.parse(t)}catch(r){T.error("localStorage-parse(origin)",r)}return n}}static setJson(e,t){typeof window>"u"||!navigator.cookieEnabled||localStorage.setItem(e,JSON.stringify(t))}static getNestedJsonItem(e,t){return this.getJsonWithEmptyJson(e)[t]??{}}static setNestedJsonItem(e,t,n){const r=this.getJsonWithEmptyJson(e),o=r[t]??{},i={...r,[t]:{...o,...n}};this.setJson(e,i)}static removeItem(e){typeof window>"u"||!navigator.cookieEnabled||localStorage.removeItem(e)}}class C{static getString(e){return s.Z.get(e)}static setString(e,t,n){s.Z.set(e,t,{expires:n?new Date(n):void 0})}static getJson(e){const t=s.Z.get(e);let n=null;if(!t)return null;try{n=JSON.parse(t)}catch(r){console.error("CookiesTool JSON parse Error:",r)}return n}static removeItem(e){s.Z.remove(e)}}(0,l.createContext)({locale:void 0});const I="capcut_locale";function P(){const e={};return function t(n){if(n instanceof Array)n.forEach((e=>t(e)));else if(n instanceof Object){if(n.PATH&&void 0!==n.HAS_LOCALE_PREFIX)return void(e[n.PATH]={matcher:n.MATCHER,hasLocalePrefix:n.HAS_LOCALE_PREFIX});t(Object.values(n))}}(_),e}const L=class e{constructor(e){const t={countryCode:typeof window<"u"?window.__locationCountryCode:void 0,defaultLocale:"en",isServer:!1};this.options=Object.assign({},t,e,{cookieName:I}),this.options.locale&&this._validateLocale(this.options.locale)?this.locale=this.options.locale:this._initLocale(),this._listenCookieChange()}static getLocalPrefix(e){let t;const n=this.getSupportLocales();for(const{locale:r,pathPrefix:o}of n){const n=`/${o}/`;if(e.startsWith(n))return t=r,t}return t}static getPathPrefix(e){const t=this.getSupportLocales();for(const{pathPrefix:n}of t){const t=`/${n}/`;if(e.startsWith(t))return n}}static isValidLocalPath(e,t={forceLocal:!1}){const n=this.getPathPrefix(e),r=P(),o=Object.entries(r).map((([e,{matcher:t,hasLocalePrefix:n}])=>({hasLocalePrefix:n,route:e,matcher:(0,h.EQ)(e,{decode:decodeURIComponent}),localMatcher:(0,h.EQ)(t,{decode:decodeURIComponent})})));for(let i=0;i<o.length;i++){const r=o[i];if(r.matcher(e)&&!n)return!t.forceLocal||r.hasLocalePrefix;if(r.hasLocalePrefix&&r.localMatcher(e))return!!n}return!1}static formatRoutePath({locale:e,path:t,forceAddLocalePrefix:n=!1}){var r;let o=!1;"en"===e||null!=e&&e.includes("-")?e===y&&(e=g.Spanish.key):e=Object.values(g).map((e=>e.key)).find((t=>t.startsWith(e)))||e;const i=this.getSupportLocales();if(!v[e]&&"en"!==e)return t;for(const{pathPrefix:l}of i)if(l){const e=`/${l}/`;if(t.startsWith(e)){t=t.replace(e,"/"),o=!0;break}}if(n||o)return v[e]?`/${v[e]}${t}`:t;const a=P(),s=Object.keys(a),c=s.map((e=>(0,h.EQ)(e,{decode:decodeURIComponent})));for(let l=0;l<c.length;l++)if(c[l](null==(r=null==t?void 0:t.split("?"))?void 0:r[0]))return a[s[l]].hasLocalePrefix&&v[e]?`/${v[e]}${t}`:t;return t}static getOriginalPath(e){const t=this.getPathPrefix(e);return t?e.replace(new RegExp(`^/${t}`),""):e}static getOriginalUrl(e){const t=this.getSupportLocales();for(const{pathPrefix:n}of t)if(n&&e.includes(n))return e.replace(new RegExp(`/${n}`),"");return e}static getSupportLocales(){return Object.values(g).filter((e=>!e.disable)).map((({key:e,text:t,pathPrefix:n})=>({locale:e,pathPrefix:n,text:t})))}static getHreflangLocales(){const t=e.getSupportLocales(),n={[g.Spanish.key]:y,[g.Filipino.key]:"tl-PH",[g.TraditionalChinese.key]:"zh-TW"};return(0,a.flatten)(t.map((e=>{const t={locale:e.locale,hreflang:e.locale},r=[];return n[t.locale]&&(t.hreflang=n[e.locale]),t.hreflang.includes("-")&&r.push({locale:t.locale,hreflang:t.hreflang.substring(0,t.hreflang.indexOf("-"))}),r.push(t),r})))}getCurrentLocale({localeFix:e}={localeFix:!1}){return e||this.locale!==y?e&&this.locale===g.Spanish.key?y:this.locale:g.Spanish.key}setCurrentLocale(e,t){null!=t&&t.disableCookie||this._setCookie(e),this.locale=e}getSupportLocales(){return e.getSupportLocales()}formatLocalePath(t){const n={forceAddLocalePrefix:!1,locale:this.getCurrentLocale(),...t},{path:r}=n;if(!r.startsWith("/"))throw new Error("path invalid, please confirm its startsWith /");const{locale:o,forceAddLocalePrefix:i}=n;return e.formatRoutePath({locale:o,path:r,forceAddLocalePrefix:i})}_initLocale(){var t,n;const{cookieName:r,countryCode:o,defaultLocale:i,getBrowserLang:a,cookieGetter:s}=this.options;if(this.isBrowser()){const t=e.getLocalPrefix(window.location.pathname);if(t)return this.locale=t===y?g.Spanish.key:t,void(s(r)||this._setCookie(t))}const c=s(r);if(c&&this._validateLocale(c))return void(this.locale=c);let l=this._formatLocale(a());if(l||(l=i),!o||!w[o]||null!=(n=null==(t=w[o])?void 0:t.locale)&&n.disable)return this.locale=l,void this._setCookie(l);const{locale:u,useBrowserLang:d}=w[o];return d?(this.locale=l,void this._setCookie(l)):(this.locale=u.key,void this._setCookie(u.key))}_setCookie(e){const{cookieName:t,cookieSetter:n,isServer:r}=this.options;n(t,e,r?{maxAge:31536e7,httpOnly:!1,secure:!1,overwrite:!0}:{expires:3650})}_validateLocale(e){return!!e&&!!this.getSupportLocales().find((t=>t.locale===e))}_formatLocale(e){if(!e||this._validateLocale(e))return e;const t=Object.values(g);for(const n of t){const{key:t,matcher:r}=n;if(t===e||e.match(r))return t}}_listenCookieChange(){}isBrowser(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}};L.CookieName=I;let O=L;const{COOKIE_CONSENT_PROMPT_CONFIG:R}={RECENT_LIST_FILE_TYPE:"RECENT_LIST_FILE_TYPE",RECENT_LIST_VIEW_TYPE:"RECENT_LIST_VIEW_TYPE",LIST_VIEW_TYPE:"LIST_VIEW_TYPE",LIST_DISPLAY_TYPE:"LIST_DISPLAY_TYPE",LIST_SORT_BY:"LIST_SORT_BY",RECYCLE_LIST_SORT_BY:"RECYCLE_LIST_SORT_BY",LIST_SORT_DIRECTION:"LIST_SORT_DIRECTION",RECYCLE_LIST_SORT_DIRECTION:"RECYCLE_LIST_SORT_DIRECTION",COOKIE_CONSENT_PROMPT_CONFIG:"COOKIE_CONSENT_PROMPT_CONFIG",THIRTPARTY_FEEDBACK:"THIRTPARTY_FEEDBACK",LV_TASK_CENTER:"LV_TASK_CENTER",THIRDPARTY_CLOUD_AUTH:"THIRDPARTY_CLOUD_AUTH",SURVEY_OPEN:"SURVEY_OPEN",CLOUD_STORAGE_PAYMENT_AND_BINDING:"CLOUD_STORAGE_PAYMENT_AND_BINDING",THIRDPARTY_SHARE_AUTH:"THIRDPARTY_SHARE_AUTH",CAPCUT_THEME:"CAPCUT_THEME",CAPCUT_TEMPLATE_VIDEO_VOLUME:"CAPCUT_TEMPLATE_VIDEO_VOLUME",GUIDE_FROM_TEAM_INVITE:"GUIDE_FROM_TEAM_INVITE",GUIDE_FROM_SIGN_UP:"GUIDE_FROM_SIGN_UP",COMPREHENSIVE_SEARCH_HISTORY:"COMPREHENSIVE_SEARCH_HISTORY"},k=34128e6,N={status:0,settings:{firstPartyAnalytics:!1,GoogleAnalytics:!1},updatedTime:0};function x(){const e=e=>{const t=Date.now()-Number(e.updatedTime),n=k-t;C.setString(R,JSON.stringify(e),Date.now()+n)},t=S.getJson(R);if(t)C.getJson(R)||e(t),S.removeItem(R);else{const t=C.getJson(R);t&&!S.getString("re-expires")&&(e(t),S.setString("re-expires","1"))}}function D(){x();return C.getJson(R)||N}const H=(0,r.C)({id:"cookiesConsentPromptMachine",initial:"unknown",context:{...D()},states:{unknown:{always:[{target:"show",cond:"shouldShowPrompt"},{target:"close",cond:"didUserAccpetOrDecline"}]},show:{entry:["resetConfig"],invoke:{id:"listeningUserAction",src:"listeningUserAction"},on:{ACCPET:{target:"close",actions:["accpetAllCookies","persistConfig"]},DECLINE:{target:"close",actions:["accpetEssentialCookies","persistConfig"]},DONE:{target:"close",actions:["retrievePersistentConfig"]}}},close:{}},on:{TOGGLE_SETTING:{actions:["toggleSetting","persistConfig"]}}},{services:{listeningUserAction:()=>e=>{function t(t){t.storageArea!==localStorage||t.key!==R||e("DONE")}return typeof window<"u"&&window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}}},actions:{resetConfig:(0,o.f0)((()=>N)),accpetAllCookies:(0,o.f0)((()=>({status:1,settings:{firstPartyAnalytics:!0,GoogleAnalytics:!0},updatedTime:Date.now()}))),accpetEssentialCookies:(0,o.f0)((()=>({status:2,settings:{firstPartyAnalytics:!1,GoogleAnalytics:!1},updatedTime:Date.now()}))),toggleSetting:(0,o.f0)((({settings:e},t)=>({status:1,settings:{...e,...t.settings},updatedTime:Date.now()}))),persistConfig:e=>{C.setString(R,JSON.stringify(e),Number(e.updatedTime)+Number(k))},retrievePersistentConfig:(0,o.f0)(D)},guards:{shouldShowPrompt:({status:e,updatedTime:t})=>{const n=0===e,r=Date.now()-t>k;return n||r},didUserAccpetOrDecline:({status:e,updatedTime:t})=>{const n=[1,2].some((t=>t===e)),r=Date.now()-t<=k;return n&&r}}});const M=new class{constructor(){this.service=(0,i.kJ)(H).start(),this.onChangeSet=new Set,this.service.onChange((({settings:e})=>{for(const t of this.onChangeSet)t(e)}))}getSettings(){return this.service.getSnapshot().context.settings}onChange(e){this.onChangeSet.add(e),e(this.getSettings())}},F=({countryCode:e})=>{const t=!(e=>{if(!e)return!0;const{needCookieBanner:t}=E[e]??{needCookieBanner:!1};return!!t})(e||""),[n,r]=(0,l.useState)(!1),[o,i]=(0,l.useState)(!1),[a,s]=(0,d.L)(M.service),h=a.matches("show");return(0,l.useEffect)((()=>{r(h)}),[a]),(0,l.useEffect)((()=>{x(),i(h)}),[]),(0,l.useEffect)((()=>{t&&s("ACCPET")}),[t]),o&&!t?(0,c.jsx)("div",{children:(0,c.jsx)(p.Z,{in:n,timeout:200,className:"lv_cookie_banner-wrapper",onExited:()=>{i(!1)},children:(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"lv_cookie_banner-title",children:f.ZP.t("accept_web_cookie")}),(0,c.jsx)("p",{className:"lv_cookie_banner-paragrah",children:f.ZP.t("tech_similar_cookie_service",{},"We use cookies and similar technologies to provide and maintain our services, improve your experience on our website, ensure the security, performance and stability of the website, and analyze and measure how our services are used.")}),(0,c.jsx)("p",{className:"lv_cookie_banner-paragrah",children:f.ZP.t("web_click_once_accept_all",{"cookies-policy":e=>(0,c.jsx)("a",{className:"lv-link",href:m(f.ZP.language),target:"_blank",rel:"noreferrer",children:e},"cookies-policy"),"cookie-settings":e=>(0,c.jsx)("a",{className:"lv-link",href:`${location.origin}${O.formatRoutePath({locale:f.ZP.language,path:_.COOKIE_SETTINGS.PATH})}`,target:"_blank",rel:"noreferrer",children:e},"cookie-settings")},'By clicking "Accept all", you agree to the use of cookies for analysis and measurement purposes. By clicking "Decline all", you decline the use of cookies for analysis and measurement purposes. Learn more about how we use cookies in our <cookies-policy>Cookies Policy</cookies-policy>. You can <cookie-settings>manage your cookies</cookie-settings> at any time.')}),(0,c.jsxs)("div",{className:"lv_cookie_banner-footer",children:[(0,c.jsx)(u.Z,{type:"primary",size:"small",onClick:()=>{s("DECLINE")},children:f.ZP.t("reject_all")}),(0,c.jsx)(u.Z,{type:"primary",size:"small",onClick:()=>{s("ACCPET")},children:f.ZP.t("accept_all")})]})]})})}):null}},55610:(e,t,n)=>{"use strict";n.d(t,{m7:()=>Ft,tN:()=>fe,dV:()=>Ve,M3:()=>P,bF:()=>I,m3:()=>ie,Gt:()=>E,J5:()=>w});var r=n(95411),o=n(62347),i=n(71375),a=n(22169),s=n(62889),c=n(1504),l=n(27175),u=n(82021),d=n(98498),p=n.n(d);const f=JSON.parse('{"wasm_url":"https://lf16-web-buz.capcut.com/obj/unpkg-va/byted/ever_cloud_sdk/0.6.64/dist/28c5676fbcf77148ded1_wasm.gz"}');var h=Object.defineProperty,_=(e,t,n)=>(((e,t,n)=>{t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function m(e){let t="";t=e<102.4?`${e.toFixed(2)}B`:e<104857.6?`${(e/1024).toFixed(2)}KB`:e<1073741824?`${(e/1048576).toFixed(2)}MB`:e<1099511627776?`${(e/1073741824).toFixed(2)}GB`:`${(e/1099511627776).toFixed(2)}TB`;const n=`${t}`,r=n.indexOf(".");return"00"==n.substr(r+1,2)?n.substring(0,r)+n.substr(r+3,2):t}const g=(()=>{const e={file:{acceptType:[],acceptSuffix:[]},video:{acceptType:["video/mp4","video/mov","video/m4v","video/x-flv","video/quicktime","video/avi","video/webm","video/mp2t","video/x-ms-asf"],acceptSuffix:[".mp4",".mov",".m4v",".flv",".mkv",".avi",".webm",".wmv",".rm",".rmvb",".3gp",".m2ts",".mt2s",".m2t",".mxf",".mpg",".mpeg",".mpe",".ts",".mts",".qt",".asf"]},audio:{acceptType:["audio/mp3","audio/mpeg","audio/m4a","audio/x-m4a","audio/wav","audio/flac"],acceptSuffix:[".mp3",".flac",".m4a",".wav",".aac",".oga",".ogg",".wma",".amr",".aif",".aiff",".ac3",".mpa",".ape",".mac",".mp2",".acc"]},image:{acceptType:["image/jpeg","image/jpg","image/webp","image/bmp","image/png","image/gif","image/heif","image/heic","image/tiff","image/x-tiff","image/x-icon","image/vnd.microsoft.icon","image/svg+xml","image/vnd.adobe.photoshop","image/avif"],acceptSuffix:[".jpeg",".jpg",".png",".gif",".heif",".heic",".tiff",".tif",".ico",".svg",".svgz",".psd",".avif"]}},t=t=>[...e[t].acceptType,...e[t].acceptSuffix].join(",");return{file:{...e.file,accept:t("file")},video:{...e.video,accept:t("video")},audio:{...e.audio,accept:t("audio")},image:{...e.image,accept:t("image")},allAccept:`${t("video")},${t("audio")},${t("image")}`}})();function v({file:e,accepts:t=["audio","video","image"]}){const n=e.name.lastIndexOf(".");let r="";if(-1!==n&&(r=e.name.substr(n)),r)for(const i of t)if(g[i].acceptSuffix.includes(r.toLocaleLowerCase()))return i;const o=e.type.toLocaleLowerCase();if(o)for(const i of t)if(g[i].acceptType.includes(o))return i}function w({file:e,accepts:t=["video","audio","image"]}){return!!v({file:e,accepts:t})}function E(e){let t;if(!e)return"file";const n={video:["application/vnd.rn-realmedia-vbr","application/vnd.rn-realmedia","application/mxf"],audio:["application/x-wav","application/ogg","video/x-ms-wma"],image:[]};for(const[r,o]of Object.entries(n))if(o.includes(e.toLocaleLowerCase()))return r;return t=e.toLowerCase().startsWith("video")?"video":e.toLowerCase().startsWith("image")?"image":e.toLowerCase().startsWith("audio")?"audio":"file",t}function y(e){const{obj:t,serializeKey:n,targetKey:r}=e;let o;try{o=JSON.parse(t[n])}catch{console.warn(`${n} \u5b57\u6bb5\u975e\u6cd5,\u65e0\u6cd5\u89e3\u6790\u8be5\u5b57\u6bb5\u5185\u5bb9`,t)}return{...t,[r]:o}}const A="10001";var b=(e=>(e.USER_SPACE_SIZE_CHANGE="USER_SPACE_SIZE_CHANGE",e))(b||{}),T=(e=>(e[e.PERSONAL=1]="PERSONAL",e[e.PUBLIC=0]="PUBLIC",e))(T||{}),S=(e=>(e[e.VA=0]="VA",e[e.GCP=1]="GCP",e[e.CN=2]="CN",e))(S||{});const C={[S.VA]:"va",[S.GCP]:"gcp"},I=[200,360,480,720,1080,2400,"origin"],P={P200:200,P360:360,P480:480,P720:720,P1080:1080,P2400:2400,ORIGIN:"origin"},L=(P.P200,P.P360,P.P480,P.P720,P.P1080,P.P2400,P.ORIGIN,{0:"origin",1:200,2:360,3:480,4:720,5:1080,6:2400}),O={origin:0,200:1,360:2,480:3,720:4,1080:5,2400:6};var R=(e=>(e[e.UNTRANSCODE=-1]="UNTRANSCODE",e[e.SUCCESS=0]="SUCCESS",e[e.TRANSCODING=1]="TRANSCODING",e[e.FAILED=2]="FAILED",e[e.TIMEOUT=3]="TIMEOUT",e[e.CANCEL=-2]="CANCEL",e))(R||{});const k={360:[640,360],480:[854,480],720:[1280,720],1080:[1920,1080]},N="video",x="audio",D="image",H="live-photo",M="film",F="package",j="cluster-film",U="file",B="folder";class G{constructor(e){this._sourceData=e}}var W=(e=>(e[e.NORMAL=0]="NORMAL",e[e.SCRIPT=3]="SCRIPT",e[e.GRAPHIC=5]="GRAPHIC",e))(W||{}),V=(e=>(e[e.EDIT=0]="EDIT",e[e.TEMPLATE=1]="TEMPLATE",e[e.IMAGE_TEXT=2]="IMAGE_TEXT",e[e.SCRIPT=3]="SCRIPT",e[e.TOOL=4]="TOOL",e[e.GRAPHIC=5]="GRAPHIC",e))(V||{});class q extends G{constructor(e,t){super(y({obj:e,serializeKey:"meta",targetKey:"_meta"})),this.sdk=t}get isValid(){return!(0,a.isEmpty)(this._sourceData._meta)}get id(){return this.notOnlyId}get notOnlyId(){return this._sourceData.id}get md5(){return this._sourceData.md5}get name(){return this._sourceData.file_name}get author(){return this._sourceData.author}get sourcePath(){return this._sourceData.source_path}get mime(){return this._sourceData.mime}get subType(){return this._sourceData.sub_type}get size(){return this._sourceData.size}get sizeStr(){return m(this.size)}get filterList(){return this._sourceData.filter_list||[]}get type(){return U}get width(){return this._sourceData.width}get height(){return this._sourceData.height}get updatedAt(){var e,t;return 1e3*((null==(t=null==(e=this._sourceData)?void 0:e.entry)?void 0:t.access_at_ts)||this._sourceData.updated_at_ts)}get createdAt(){return 1e3*this._sourceData.uploaded_at}get downloadUrl(){var e;return null==(e=this._sourceData.asset_meta)?void 0:e.download_url}get meta(){var e;return null==(e=this._sourceData)?void 0:e._meta}get status(){var e;return null==(e=this._sourceData)?void 0:e.status}get permission(){return qe.isGroupSdk?this._sourceData.permission||T.PUBLIC:T.PERSONAL}get isPublic(){return this.permission===T.PUBLIC}get isPersonal(){return this.permission===T.PERSONAL}get owner(){var e,t,n;return null==(n=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.uploadSource)?void 0:n.owner}get uploadedAt(){return 1e3*this._sourceData.uploaded_at}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry}get sourceData(){return this._sourceData}get hasMaterialTag(){return this._sourceData.has_material_tag}}class $ extends q{get type(){return x}get duration(){return this._sourceData.duration}get unencryptedPreviewUrl(){var e,t,n,r;return null==(r=null==(n=null==(t=null==(e=this._sourceData)?void 0:e.unencryptedPlayInfo)?void 0:t.info)?void 0:n.audio)?void 0:r.primary_url}get transcodeStatus(){return this._sourceData.transcode_status}}class X extends q{get type(){return D}get previewUrl(){var e,t,n,r,o;return(null==(e=this.imageTranscodeInfo[360])?void 0:e.status_code)===R.SUCCESS?this.imageTranscodeInfo[360].preview_url:"image/gif"===this._sourceData.mime?null==(n=null==(t=this._sourceData)?void 0:t.asset_meta)?void 0:n.download_url:null==(o=null==(r=this._sourceData)?void 0:r.asset_meta)?void 0:o.preview360_url}get previewKey(){var e,t,n;return(null==(e=this.imageTranscodeInfo[360])?void 0:e.status_code)===R.SUCCESS?this.imageTranscodeInfo[360].key:"image/gif"!==this._sourceData.mime?null==(n=null==(t=this._sourceData)?void 0:t.asset_meta)?void 0:n.key:void 0}get preview72Url(){var e,t,n,r,o;return(null==(e=this.imageTranscodeInfo[720])?void 0:e.status_code)===R.SUCCESS?this.imageTranscodeInfo[720].preview_url:"image/gif"===this._sourceData.mime?null==(n=null==(t=this._sourceData)?void 0:t.asset_meta)?void 0:n.download_url:null==(o=null==(r=this._sourceData)?void 0:r.asset_meta)?void 0:o.preview720_url}get imageAsyncResize(){return!!this._sourceData.image_async_resize}getTranscodeStatus(e){const t={};return(null!=e&&e.length?e:I).forEach((e=>{var n,r,o;const i=`preview${e}_url`,a=null==(r=null==(n=this._sourceData)?void 0:n.asset_meta)?void 0:r[i],s=e===P.ORIGIN?e:`p_${e}`,c=null==(o=this._sourceData.image_transcode_info)?void 0:o[s];c?t[e]=c.status_code:a?t[e]=R.SUCCESS:this.imageAsyncResize?t[e]=R.TRANSCODING:t[e]=R.UNTRANSCODE})),t}get imageTranscodeInfo(){const e={};return I.forEach((t=>{var n,r,o,i,a,s,c,l;const u=`preview${t}_url`,d=null==(r=null==(n=this._sourceData)?void 0:n.asset_meta)?void 0:r[u],p=t===P.ORIGIN?t:`p_${t}`,f=null==(o=this._sourceData.image_transcode_info)?void 0:o[p];if(f)e[t]={...f,key:this._sourceData.image_transcode_info.key};else if(d&&(null==(i=e[t])||!i.preview_url)){const n="image/gif"===this._sourceData.mime,r=this.getPreviewSizeByResolution(t);e[t]={preview_url:n?null==(s=null==(a=this._sourceData)?void 0:a.asset_meta)?void 0:s.download_url:d,width:r.width,height:r.height,status_code:R.SUCCESS,key:n||null==(l=null==(c=this._sourceData)?void 0:c.asset_meta)?void 0:l.key}}})),e}async getPreviewInfo(e){return this.sdk?this.sdk.getImagePreviewInfo(this,e):this.imageTranscodeInfo}getPreviewSizeByResolution(e){const t=k[e];if(!t||!this.width||!this.height||e===P.ORIGIN)return{width:0,height:0};const n=this.width||0,r=this.height||0,[o,i]=t;if(n/r>3){if(n*r<o*i)return{width:n,height:r};const e=Math.sqrt(o*i/(n*r));return{width:Math.floor(n*e),height:Math.floor(r*e)}}if(n<=o&&r<=i)return{width:n,height:r};const a=o/n,s=i/r;let c;return c=a>s?s:a,{width:Math.floor(n*c),height:Math.floor(r*c)}}}class K extends q{get type(){return N}get duration(){return this._sourceData.duration}get width(){return this._sourceData.width}get height(){return this._sourceData.height}get previewUrl(){var e,t;return null==(t=null==(e=this._sourceData)?void 0:e.asset_meta)?void 0:t.preview360_url}get previewKey(){var e,t;return null==(t=null==(e=this._sourceData)?void 0:e.asset_meta)?void 0:t.key}get unencryptedPreviewUrl(){var e,t,n,r;return null==(r=null==(n=null==(t=null==(e=this._sourceData)?void 0:e.unencryptedPlayInfo)?void 0:t.info)?void 0:n.p360)?void 0:r.primary_url}get sprit(){return this._sourceData.sprite_info}get transcodeStatus(){return this._sourceData.transcode_status}setUnencryptedInfo(e){this._sourceData&&(this._sourceData.unencryptedPlayInfo=e)}}class Y extends X{get type(){return H}}class z extends G{constructor(e){const t=y({obj:e,serializeKey:"meta",targetKey:"_meta"});super({...e,_meta:t._meta,entry:t})}get isValid(){return!(0,a.isEmpty)(this._sourceData._meta)}get id(){return this.notOnlyId}get notOnlyId(){return this._sourceData.id}get author(){return this._sourceData.creator}get key(){return this._sourceData.key}get name(){var e,t,n;return(null==(n=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.draft)?void 0:n.name)??""}get size(){var e,t,n;return(null==(n=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.draft)?void 0:n.size)||0}get sizeStr(){return this.size?m(this.size):void 0}get type(){return F}get subType(){var e,t;return null==(t=null==(e=this._sourceData._meta)?void 0:e.draft)?void 0:t.type}get updatedAt(){var e,t,n,r,o;return null!=(e=this.entry)&&e.access_at_ts?1e3*(null==(t=this.entry)?void 0:t.access_at_ts):null==(o=null==(r=null==(n=this._sourceData)?void 0:n._meta)?void 0:r.draft)?void 0:o.updateTime}get createdAt(){var e,t,n,r;return(null==(t=null==(e=this._sourceData._meta)?void 0:e.createSource)?void 0:t.createTime)??(null==(r=null==(n=this._sourceData._meta)?void 0:n.uploadSource)?void 0:r.createTime)}get meta(){var e;return null==(e=this._sourceData)?void 0:e._meta}get coverMd5(){var e,t,n;return null==(n=null==(t=null==(e=this._sourceData)?void 0:e.assets)?void 0:t.find((e=>{var t,n;return e.path===(null==(n=null==(t=this._sourceData)?void 0:t._meta)?void 0:n.draft.cover)})))?void 0:n.md5}get allCoverMd5(){var e,t,n,r;if(null==(t=null==(e=this._sourceData)?void 0:e._meta)||!t.draft.cover)return[];const o=[...null==(n=this._sourceData)?void 0:n.assets].reverse();return null==(r=(0,a.uniqBy)(o,"path").reverse())?void 0:r.filter((e=>/^cover(_[0-9]+)?\.(jpe?g|png)$/.test(e.path))).map((e=>e.md5))}get duration(){var e,t;return null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.draft.duration}get assets(){return(this._sourceData.assets||[]).map((e=>{const t=e.meta||"";let n={};try{n=JSON.parse(t)}catch{}return{...e,entryIds:e.entry_ids,meta:n,_meta:t}}))}get creator(){return this._sourceData.creator}get status(){var e;return null==(e=this._sourceData)?void 0:e.status}get permission(){return qe.isGroupSdk?this._sourceData.permission||T.PUBLIC:T.PERSONAL}get isPublic(){return this.permission===T.PUBLIC}get isPersonal(){return this.permission===T.PERSONAL}get owner(){var e,t,n,r,o,i;return(null==(n=null==(t=null==(e=this._sourceData)?void 0:e._meta)?void 0:t.createSource)?void 0:n.owner)||(null==(i=null==(o=null==(r=this._sourceData)?void 0:r._meta)?void 0:o.uploadSource)?void 0:i.owner)||""}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry}}class J{constructor(e){this.options=e}get fileName(){return this.options.fileName}get uid(){return this.options.uid}get asset(){return this.options.assetInfo}get clusterInfo(){return this.options.clusterInfo}get duration(){return this.options.duration}get size(){return this.options.size}get type(){return this.options.type}get spritInfo(){return this.options.spritInfo}get videoInfo(){return this.options.videoInfo}get audioInfo(){return this.options.audioInfo}get extInfo(){return this.options.extInfo}merge(e){return(0,a.merge)(this.options,e.options),this}}class Z extends K{get type(){return M}}class Q extends G{constructor({cluster:e,lastAsset:t}){let n=y({obj:e,serializeKey:"meta",targetKey:"_meta"});n=y({obj:n,serializeKey:"relation",targetKey:"_relation"}),super(n),this._lastAsset=t,this.tryGetDraftName()}get type(){return j}get id(){var e;return this.entryId||(null==(e=this.entry)?void 0:e.entry_id)}get notOnlyId(){return this._sourceData.cluster_id}get name(){var e;return(null==(e=this._lastAsset)?void 0:e.name)||""}get duration(){var e;return null==(e=this._lastAsset)?void 0:e.duration}get size(){var e;return null==(e=this._lastAsset)?void 0:e.size}get sizeStr(){var e;return null==(e=this._lastAsset)?void 0:e.sizeStr}get author(){var e;return null==(e=this.entry)?void 0:e.owner_id}get updatedAt(){var e,t;return 1e3*(null==(t=null==(e=this._sourceData)?void 0:e.entry)?void 0:t.access_at_ts)}get relation(){var e;return null==(e=this._sourceData._relation)?void 0:e.map((e=>`${e}`))}get meta(){var e;return null==(e=this._sourceData)?void 0:e._meta}get assetCount(){return this._sourceData.n_asset}get asset(){return this._sourceData.assets||[]}get lastAssetId(){const e=this.asset[this.asset.length-1],t=qe.sortArrayByRelation({exists:this.asset,relation:this.relation??[]});return t[t.length-1]??e}get bindId(){return this._sourceData.bind_id}updateLastAsset(e){this._lastAsset=e}get draftName(){var e,t;return this._draftName??(null==(t=null==(e=this.meta)?void 0:e.draft)?void 0:t.name)}get lastAsset(){return this._lastAsset}async tryGetDraftName(){var e,t,n,r,o,i;if(!this.bindId)return this._draftName=null==(t=null==(e=this.meta)?void 0:e.draft)?void 0:t.name,this._draftName;try{const e=await qe.getPackageByKey(this.bindId);return this._draftName=(null==e?void 0:e.name)??(null==(r=null==(n=this.meta)?void 0:n.draft)?void 0:r.name),this._draftName}catch{return null==(i=null==(o=this.meta)?void 0:o.draft)?void 0:i.name}}get permission(){var e;return qe.isGroupSdk?(null==(e=this.entry)?void 0:e.permission)??T.PUBLIC:T.PERSONAL}get isPublic(){return this.permission===T.PUBLIC}get isPersonal(){return this.permission===T.PERSONAL}get owner(){var e,t;return(null==(t=null==(e=this._sourceData._meta)?void 0:e.uploadSource)?void 0:t.owner)||""}get entryId(){return this._sourceData.entry_id}get entry(){return this._sourceData.entry}get createdAt(){var e,t;return 1e3*(null==(t=null==(e=this._sourceData)?void 0:e.entry)?void 0:t.created_at_ts)}}class ee extends G{constructor(e){const t=y({obj:e.entry,serializeKey:"meta",targetKey:"_meta"});super({...e,entry:t})}get type(){return B}get meta(){var e;return null==(e=this._sourceData)?void 0:e.entry._meta}get id(){var e;return null==(e=this.entry)?void 0:e.entry_id}get notOnlyId(){return this._sourceData.id}get entry(){var e;return null==(e=this._sourceData)?void 0:e.entry}get name(){var e;return null==(e=this._sourceData)?void 0:e.name}get subCnt(){return this._sourceData.sub_cnt}get updatedAt(){var e;return 1e3*(null==(e=this._sourceData)?void 0:e.entry.access_at_ts)}get accessAt(){var e;return 1e3*(null==(e=this._sourceData)?void 0:e.entry.access_at_ts)}get createdAt(){var e;return 1e3*(null==(e=this._sourceData)?void 0:e.entry.created_at_ts)}get creator(){return this._sourceData.entry.creator_id}get permission(){return qe.isGroupSdk?this._sourceData.entry.permission||T.PUBLIC:T.PERSONAL}get isPublic(){return this.permission===T.PUBLIC}get isPersonal(){return this.permission===T.PERSONAL}get owner(){var e,t;return null==(t=null==(e=this.meta)?void 0:e.uploadSource)?void 0:t.owner}get author(){return this._sourceData.entry.owner_id}get size(){return 0}get sizeStr(){return"0"}}function te(e,t){switch(E(e.mime)){case"video":return(e.filter_list||[]).includes(A)?new Z(e):new K(e);case"audio":return new $(e);case"image":return"livephoto"===e.sub_type?new Y(e):new X(e,t);default:return new q(e)}}function ne(e,t){var n;null!=qe&&qe.options&&"trace"===(null==(n=null==qe?void 0:qe.options)?void 0:n.level)&&console[(null==t?void 0:t.type)??"info"](`EverCloud: ${e}`)}const re=(e,t)=>{if(e===T.PERSONAL){let e=!1;if(t.type===F){if(t.subType===V.SCRIPT)return t.owner===qe.uid;e=t.creator===qe.everUserId||t.owner===qe.uid}return t.author===qe.everUserId||e}return t.isPublic};const oe={name:"lv_ever_cloud_core",version:"1.0.0",description:"Project created by Eden",author:"\u9648\u6210\u8363",main:"dist/index.cjs.js",module:"dist/index.es.js",typings:"dist/src/index.d.ts",scripts:{preinstall:"npx only-allow pnpm",build:"eden-lib build","build:docs":"pnpm run build && eden-ts-documenter generate",start:"eden-lib start",test:"eden-test",lint:"eden-lint src",prepare:"husky install"},keywords:["eden","utils"],license:"ISC",devDependencies:{"@byted/ever_cloud_sdk":">=0.0.1 <0.7.0","@commitlint/cli":"^10.0.0","@commitlint/config-conventional":"^10.0.0","@ies/eden-lib-build":"^1.0.0","@ies/eden-lint":"^3.16.0","@ies/eden-test":"^1.2.1","@ies/eden-ts-documenter":"1.3.5","@types/jest":"^27.0.1","@types/lodash":"^4.14.186",axios:"^0.26.0",husky:"^8.0.0","lint-staged":"^10.2.7",lodash:"^4.17.21",tslib:"^2.4.0",typescript:"^4.5.2"},husky:{hooks:{"commit-msg":"commitlint .commitlintrc.js -E HUSKY_GIT_PARAMS","pre-commit":"lint-staged"}},"lint-staged":{"*":["eden-lint format"]},dependencies:{"core-js":"^3.26.0",eventemitter3:"^4.0.7","idb-keyval":"^6.2.0","regenerator-runtime":"^0.13.10"},peerDependencies:{"@byted/ever_cloud_sdk":"*",axios:"^0.26.0",lodash:"^4.17.21",tslib:"^2.4.0"}};function ie(){var e;return{uploadSource:{owner:null==(e=qe.options)?void 0:e.user_id,platform:"browser",systemVersion:window.navigator.userAgent,appVersion:oe.version}}}function ae(e){const t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t)}class se extends Error{constructor(){super("DuplicateNameError")}}let ce=class extends Error{constructor(e){super("TranscodeError"),this.status=e}};class le extends Error{constructor(){super("Request Timeout")}}class ue extends Error{constructor(){super("Init Timeout")}}class de extends Error{constructor(){super("Can not move public item to personal folder")}}class pe extends Error{constructor(e){super(`Folder depth can not more than ${e}`)}}var fe=(e=>(e[e.FETCH_ROOT_FOLDER=1e4]="FETCH_ROOT_FOLDER",e[e.FOLDER_NO_EXIST=10601]="FOLDER_NO_EXIST",e[e.ILLEGAL_PARAM=20001]="ILLEGAL_PARAM",e[e.MISSING_REQUIRED_PARAM=20011]="MISSING_REQUIRED_PARAM",e[e.ACCESS_DENY=20014]="ACCESS_DENY",e[e.API_NOT_EXIST=20018]="API_NOT_EXIST",e[e.RESOURCE_NOT_EXIST=20026]="RESOURCE_NOT_EXIST",e[e.FUNC_NOT_AVAILABLE=20031]="FUNC_NOT_AVAILABLE",e[e.SERVICE_BUSY=20032]="SERVICE_BUSY",e[e.NO_SIGN=20104]="NO_SIGN",e[e.INSUFFICIENT_SPACE=20113]="INSUFFICIENT_SPACE",e[e.SERVER_FOLDER_NO_EXIST=23001]="SERVER_FOLDER_NO_EXIST",e[e.SERVICE_ERROR=30005]="SERVICE_ERROR",e[e.PACKAGE_NOT_EXIST=40004]="PACKAGE_NOT_EXIST",e[e.ILLEGAL_STATE=40005]="ILLEGAL_STATE",e[e.PACKAGE_ASSETS_INCOMPLETE=40006]="PACKAGE_ASSETS_INCOMPLETE",e[e.OTHER_DEVICE_IN_OPERATION=40007]="OTHER_DEVICE_IN_OPERATION",e[e.PACKAGE_HAS_EXISTED=40021]="PACKAGE_HAS_EXISTED",e[e.PACKAGE_NAME_VIOLATION=40031]="PACKAGE_NAME_VIOLATION",e[e.ASSET_NAME_VIOLATION=24001]="ASSET_NAME_VIOLATION",e[e.OPERATION_DENY=41003]="OPERATION_DENY",e[e.PACKAGE_EDIT_OPERATION_DENY=41001]="PACKAGE_EDIT_OPERATION_DENY",e[e.MOVING=20230]="MOVING",e[e.COPYING=20231]="COPYING",e[e.ASSET_EXISTED=20202]="ASSET_EXISTED",e))(fe||{});class he extends r.Z{constructor(e,t){super(),this.requestId="",this.isDestroy=!1,this.requestId=e,this.sdk=t,this.sdk.eventBus.addListener(je.BusDestroy,this.destroy)}destroy(){this.requestId="",this.isDestroy=!0,this.sdk.eventBus.removeListener(je.BusDestroy,this.destroy),this.removeAllListeners()}}class _e extends he{destroy(){super.destroy()}}class me extends he{constructor(e,t){super("unknow",t),this.size=0,this.chunks=[],this.finishListenQueue=[],this._options=e,this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(je.AssetDownloadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(je.AssetDownloadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(je.AssetDownloaddFinish,this.onFinishHandler)}setRequestId(e){if("unknow"!==this.requestId)throw new Error("request-id \u5df2\u7ecf\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u8bf7\u52ff\u4fee\u6539");this.requestId=e}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}appendChunk(e){this.chunks.push(e)}async cancel(){return await this.sdk.sdk.cancel_upload(this.requestId)}destroy(){super.destroy(),this.chunks=[],this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.AssetDownloadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(je.AssetDownloadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(je.AssetDownloaddFinish,this.onFinishHandler)}thirdpartDone({buffer:e}){this.result={status:"success",buffer:e},this._finish()}_onIdleHandler(){var e;null==(e=this.onIdle)||e.call(this)}_onProgressHandler(e){var t;null==(t=this.onProgress)||t.call(this,{total:e.bytes_total,done:e.bytes_done})}_onFinishHandler(e){if(e.completed){const e=function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(e,r),r+=e.length})),n}(this.chunks);this.result={status:"success",buffer:e},this.cacheSource(e)}else e.cancelled?this.result={status:"cancel"}:this.result={status:"error",errInfo:e.error_info};this._finish()}async cacheSource(e){var t;if(this.sdk.cachePlugin&&null!=(t=this._options)&&t.url)try{await this.sdk.cachePlugin.saveSourceBlob({key:this._options.url,buffer:e}),ne(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u6210\u529f.`),console.log(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u6210\u529f.`)}catch(n){console.log(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u5931\u8d25: ${n}`),ne(`\u7f13\u5b58\u6587\u4ef6${this._options.url}\u5931\u8d25: ${n}`,{type:"warn"})}}_finish(){var e;for(const t of this.finishListenQueue)"success"===this.result.status?t[0](this.result):t[1](this.result);null==(e=this.onFinish)||e.call(this,this.result),this.destroy()}eventFilter(e){return t=>{const{request_id:n}=t;n===this.requestId&&e(t)}}}class ge extends _e{constructor({requestId:e,fileType:t,autoPromote:n,workspaceId:r},o){super(e,o),this._autoPromote=!1,this.finishListenQueue=[],this._fileType=t,this._autoPromote=n,this._workspaceId=r,this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(je.UploadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(je.UploadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(je.UploadFinish,this.onFinishHandler)}get fileType(){return this._fileType}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_upload(this.requestId)}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.UploadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(je.UploadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(je.UploadFinish,this.onFinishHandler)}_onIdleHandler(e){var t;null==(t=this.onIdle)||t.call(this,e)}_onProgressHandler(e){var t;null==(t=this.onProgress)||t.call(this,{total:e.bytes_total,done:e.bytes_done,md5:e.md5})}async _onFinishHandler(e){var t,n,r;if(e.completed){let r=e.asset_id,i=null==(t=e.entry)?void 0:t.entry_id;if(!r)if(i)try{r=(await this.sdk.getEntryAsset(i,!0)).id}catch{r=(await this.sdk.getAssetByMd5(e.md5)).id}else r=(await this.sdk.getAssetByMd5(e.md5)).id;if(this._autoPromote)if(r)try{await this.sdk.dependencies.apiFunc.promoteAsset({assetId:r,spaceId:this.sdk.spaceId,workspaceId:this._workspaceId})}catch(o){this.result={status:"error",errInfo:{code:-1,msg:`asset promote failure, cause:${null==o?void 0:o.message}`}}}else this.result={status:"error",errInfo:{code:-1,msg:"asset id is not found, could not promote"}};"error"!==(null==(n=this.result)?void 0:n.status)&&(this.result={status:"success",fileId:r,md5:e.md5,entry:e.entry,entryId:i})}else e.cancelled?this.result={status:"cancel"}:this.result={status:"error",errInfo:e.error_info};for(const i of this.finishListenQueue)"success"===this.result.status?i[0](this.result):i[1](this.result);null==(r=this.onFinish)||r.call(this,this.result),this.destroy()}eventFilter(e){return t=>{const{request_id:n}=t;n===this.requestId&&e(t)}}}class ve extends _e{constructor(e,t){super("unknow",t),this.finishListenQueue=[],this._params=e;let n,r="video";switch(e.fileType){case"video":r="video",n=0;break;case"audio":r="video",n=2;break;default:r="object",n=1}this.onStart=e.onStart,e.uploader.upload({file:e.file,type:r,onSuccess:async t=>{var r,o;this.result={status:"success"};const i=t.Vid||t.Uri;this.vid=i;try{const t=await this.sdk.dependencies.apiFunc.createVideoData({vid:i,tmp_id:this.sdk.getTempId,file_name:e.fileName,file_type:n,source_path:e.file.webkitRelativePath?e.file.webkitRelativePath:e.fileName});this.result.fileId=t}catch(a){this.result.status="error",this.result.errInfo={code:(null==(r=null==a?void 0:a.data)?void 0:r.ret)||-1,msg:(null==(o=null==a?void 0:a.data)?void 0:o.errmsg)||"create video task failure"}}this.onFinishHandler()},onError:e=>{var t;this.result={status:"error",errInfo:{code:null==(t=null==e?void 0:e.extra)?void 0:t.errorCode}},this.onFinishHandler()},onStart:(e,t)=>{var n,r;null==(n=this.onIdle)||n.call(this),null==(r=this.onStart)||r.call(this,e,t)},onProgress:e=>{var t;null==(t=this.onProgress)||t.call(this,{total:e.fileSize,done:Math.floor(e.fileSize*(e.percent/100))})}})}get fileType(){var e;return null==(e=this._params)?void 0:e.fileType}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}cancel(e){return new Promise((async(t,n)=>{var r,o,i,a;if(null!=(r=this._params)&&r.uploader)try{await(null==(i=null==(o=this._params.uploader)?void 0:o.cancel)?void 0:i.call(o,e)),this.finishListenQueue=this.finishListenQueue.filter((t=>t.fileKey===e)),null==(a=this.onCancel)||a.call(this,e),t()}catch(s){console.error(s),n(null==s?void 0:s.message)}else n("uploader does not exist")}))}destroy(){this._params=void 0,this.finishListenQueue=[]}onFinishHandler(){var e,t;for(const n of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?n[0](this.result):n[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class we extends he{destroy(){super.destroy()}}class Ee extends we{constructor(e,t){super("unknow",t),this.finishListenQueue=[],this.target=e,this.onTranscodeDoneHandler=this._onTranscodeDoneHandler.bind(this),this.sdk.eventBus.addListener(je.VideoInfoEndPullEvent,this.onTranscodeDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_asset_play_info_loop({ids:this.target.id})}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.VideoInfoEndPullEvent,this.onTranscodeDoneHandler)}_onTranscodeDoneHandler(e){for(const t of e.infos)if(t[this.target.key]===this.target.id)return this.result={status:"success",data:t},void this.onFinishHandler();for(const t of e.failed_ids)if(t[this.target.key]===this.target.id)return this.result={status:"error",errInfo:new ce(t.status)},void this.onFinishHandler()}onFinishHandler(){var e,t;for(const n of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?n[0](this.result):n[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class ye extends we{constructor(e,t){super("unknow",t),this.delayTime=Date.now(),this.Delay_Times=12e3,this.finishListenQueue=[],this.options=e,this.timer=setInterval((()=>{Date.now()-this.delayTime>this.Delay_Times?(this.result={status:"error",errInfo:{code:-1,msg:"overtime"}},this.onFinishHandler()):this.fetchVideoTaskInfo()}),3e3)}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){this.result={status:"cancel"},this.onFinishHandler()}destroy(){super.destroy(),clearInterval(this.timer),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.VideoInfoEndPullEvent,this.onTranscodeDoneHandler)}async fetchVideoTaskInfo(){try{const e=await this.sdk.dependencies.apiFunc.getVideoTaskInfo(this.options);switch(this.delayTime=Date.now(),e.status){case 0:return;case 1:return this.result={status:"success",data:e},void this.onFinishHandler();default:return this.onFinishHandler(),void(this.result={status:"error",errInfo:new TranscodeError})}}catch(e){this.result={status:"error",errInfo:{code:e.data.ret,msg:e.data.errmsg}},this.onFinishHandler()}}onFinishHandler(){var e,t;for(const n of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?n[0](this.result):n[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class Ae extends he{constructor(e,t){super("unknow",t),this.finishListenQueue=[],this.target=e,this.onSyncAssetHandler=this._onSyncAssetHandler.bind(this),this.sdk.eventBus.addListener(je.ThridPartResourceSyncStateEvent,this.onSyncAssetHandler)}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_sync_state_loop({resource:[this.target.id]})}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.ThridPartResourceSyncStateEvent,this.onSyncAssetHandler)}_onSyncAssetHandler(e){for(const t of e.sync_ids)if(t.resource_id===this.target.id)return this.result={status:"success",data:{resourceId:t.resource_id,md5:t.md5,assetId:t.asset_id,entryId:t.entry_id}},void this.onFinishHandler();for(const t of e.failed_ids)if(t===this.target.id)return this.result={status:"error"},void this.onFinishHandler();if(1===e.api_failed)return this.result={status:"error",errMsg:"Network failure"},void this.onFinishHandler()}onFinishHandler(){var e,t;for(const n of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?n[0](this.result):n[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class be{constructor(e,t){this.finishListenQueue=[],this.target=e,this.sdk=t,this.onDoneHandler=this._onDoneHandler.bind(this),this.sdk.eventBus.addListener(je.PreviewInfoEndPullEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_preivew_info_loop({ids:"id"===this.target.key?[this.target.id]:[],md5s:"md5"===this.target.key?[this.target.id]:[]})}destroy(){this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.PreviewInfoEndPullEvent,this.onDoneHandler)}_onDoneHandler(e){for(const t of e.infos)if(t[this.target.key]===this.target.id)return this.result={status:"success",data:te(t,this.sdk)},void this.onFinishHandler();e.timeout&&(this.result={status:"error",errInfo:new le})}onFinishHandler(){var e,t;for(const n of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?n[0](this.result):n[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class Te{constructor(e,t){this.finishListenQueue=[],this.target=e,this.sdk=t,this.onDoneHandler=this._onDoneHandler.bind(this),this.sdk.eventBus.addListener(je.SpriteInfoEndPullEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_get_preivew_info_loop({ids:"id"===this.target.key?[this.target.id]:[],md5s:"md5"===this.target.key?[this.target.id]:[]})}destroy(){this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.SpriteInfoEndPullEvent,this.onDoneHandler)}_onDoneHandler(e){for(const t of e.infos)if(t[this.target.key]===this.target.id)return this.result={status:"success",data:te(t)},void this.onFinishHandler();e.timeout&&(this.result={status:"error",errInfo:new le})}onFinishHandler(){var e,t;for(const n of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?n[0](this.result):n[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}class Se extends he{constructor(e,t){super(e,t),this.finishListenQueue=[],this.onDoneHandler=this._onDoneHandler.bind(this),this.onProgressHandler=this._onProgressHandler.bind(this),this.sdk.eventBus.addListener(je.SpaceMoveProgressEvent,this.onProgressHandler),this.sdk.eventBus.addListener(je.SpaceMoveFinishEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.PreviewInfoEndPullEvent,this.onDoneHandler)}_onProgressHandler(e){var t;(e.process_id=this.requestId)&&(null==(t=this.onProgress)||t.call(this,e.progress))}_onDoneHandler(e){var t,n;const{process_id:r,status:o}=e;if(r===this.requestId){if(3===o)return this.result={status:"success",data:e},this._onFinishHandler(),void(null==(t=this.onProgress)||t.call(this,100));if(4===o)return this.result={status:"error",data:e},this._onFinishHandler(),void(null==(n=this.onProgress)||n.call(this,100))}}_onFinishHandler(){var e;for(const t of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?t[0](this.result):t[1](this.result);this.destroy()}}class Ce extends he{constructor(e,t){super(e,t),this.finishListenQueue=[],this.sdk=t,this.onDoneHandler=this._onDoneHandler.bind(this),this.onProgressHandler=this._onProgressHandler.bind(this),this.sdk.eventBus.addListener(je.SpaceCopyProgressEvent,this.onProgressHandler),this.sdk.eventBus.addListener(je.SpaceCopyFinishEvent,this.onDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.PreviewInfoEndPullEvent,this.onDoneHandler)}_onProgressHandler(e){var t;(e.process_id=this.requestId)&&(null==(t=this.onProgress)||t.call(this,e.progress))}_onDoneHandler(e){var t,n;const{process_id:r,status:o}=e;if(r===this.requestId){if(3===o)return this.result={status:"success",data:e},this._onFinishHandler(),void(null==(t=this.onProgress)||t.call(this,100));if(4===o)return this.result={status:"error",data:e},null==(n=this.onProgress)||n.call(this,100),void this._onFinishHandler()}}_onFinishHandler(){var e;for(const t of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?t[0](this.result):t[1](this.result);this.destroy()}}class Ie extends we{constructor(e,t){super("unknow",t),this.result={data:new Map},this.finishedFlag=0,this.finishListenQueue=[],this._triggerTimes=3e3,this.target=e,e.forEach((e=>{var t,n;null==(t=e.ids)||t.forEach((t=>{var n,r;null==(r=null==(n=this.result)?void 0:n.data)||r.set(`${e.resolution}_${t}`,R.UNTRANSCODE)})),null==(n=e.md5s)||n.forEach((t=>{var n,r;null==(r=null==(n=this.result)?void 0:n.data)||r.set(`${e.resolution}_${t}`,R.UNTRANSCODE)}))})),this._triggerGetUpdates(),this.onTranscodeDoneHandler=this._onTranscodeDoneHandler.bind(this),this.sdk.eventBus.addListener(je.ImageTranscodeInfoEndPull,this.onTranscodeDoneHandler)}done(){return new Promise(((e,t)=>{this.result&&this.result.status&&("success"===this.result.status?e(this.result):t(this.result)),this.finishListenQueue.push([e,t])}))}async cancel(){var e,t;return this.result.status="cancel",null==(t=null==(e=this.result)?void 0:e.data)||t.forEach(((e,t)=>{var n,r;e===R.UNTRANSCODE&&(null==(r=null==(n=this.result)?void 0:n.data)||r.set(t,R.CANCEL))})),await this.sdk.sdk.cancel_image_transcode_info_loop({listeners:this.target.map((e=>({...e,transcode_type:O[e.resolution]}))),cancel_all:0})}destroy(){super.destroy(),clearTimeout(this._triggerTimer),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.ImageTranscodeInfoEndPull,this.onTranscodeDoneHandler)}_triggerGetUpdates(){this._triggerTimer=setTimeout((()=>{this.sdk.throttlingGetUpdatesTrigger({throttle:this._triggerTimes}),this._triggerTimer=void 0,this._triggerGetUpdates()}),this._triggerTimes)}_onTranscodeDoneHandler(e){var t,n,r,o;if(e.timeout)return null==(t=this.result.data)||t.forEach(((e,t)=>{var n;e===R.UNTRANSCODE&&(null==(n=this.result.data)||n.set(t,R.TIMEOUT),this.finishedFlag+=1)})),null==(n=this.onProcess)||n.call(this,this.result),this.result.status="error",void this.onFinishHandler();for(const i of e.infos){let e=!1;const{transcode_type:t,assets:n,failed_list:a}=i,s=L[t];null==n||n.forEach((t=>{var n,r,o,i,a,c,l,u;const d=`${s}_${t.id}`,p=`${s}_${t.md5}`;(null==(r=null==(n=this.result)?void 0:n.data)?void 0:r.get(d))===R.UNTRANSCODE&&(null==(i=null==(o=this.result)?void 0:o.data)||i.set(d,R.SUCCESS),this.finishedFlag+=1,e=!0),(null==(c=null==(a=this.result)?void 0:a.data)?void 0:c.get(p))===R.UNTRANSCODE&&(null==(u=null==(l=this.result)?void 0:l.data)||u.set(p,R.SUCCESS),this.finishedFlag+=1,e=!0)})),null==a||a.forEach((t=>{var n,r,o,i,a,c,l,u;const d=`${s}_${t.asset_id}`,p=`${s}_${t.md5}`;(null==(r=null==(n=this.result)?void 0:n.data)?void 0:r.get(d))===R.UNTRANSCODE&&(null==(i=null==(o=this.result)?void 0:o.data)||i.set(d,R.FAILED),this.finishedFlag+=1,e=!0),(null==(c=null==(a=this.result)?void 0:a.data)?void 0:c.get(p))===R.UNTRANSCODE&&(null==(u=null==(l=this.result)?void 0:l.data)||u.set(p,R.FAILED),this.finishedFlag+=1,e=!0)})),e&&(null==(r=this.onProcess)||r.call(this,this.result)),(null==(o=this.result.data)?void 0:o.size)===this.finishedFlag&&(this.result.status="success",this.onFinishHandler())}}onFinishHandler(){var e,t;for(const n of this.finishListenQueue)"success"===(null==(e=this.result)?void 0:e.status)?n[0](this.result):n[1](this.result);null==(t=this.onFinish)||t.call(this,this.result),this.destroy()}}let Pe=class{constructor(){this._hasBeenDone=!1,this._isIniting=!1,this._initCostTimes=void 0,this._waitingResolvers=new Set,this._waitingResolverMap=new Map}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let n,r;const o=Promise.race([new Promise(((e,t)=>{n=[()=>{clearTimeout(r),e()},t],this._waitingResolvers.add([n,t])})),new Promise(((e,o)=>{r=setTimeout((()=>{this._waitingResolvers.delete(n),o(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,o),o}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const n of this._waitingResolvers)t?n[1](this.rejectResult):n[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}};class Le{constructor(){this.event="evercloud_sdk_init_timer",this.data={},this.progressEvent="evercloud_sdk_init_process",this.process={}}addParams(e){this.data=(0,a.merge)({},this.data,e)}get reportData(){return{event:this.event,data:this.data}}addProcessParams(e){this.process=(0,a.merge)({},this.process,e)}get reportProcess(){return{event:this.progressEvent,data:this.process}}}class Oe extends he{constructor({requestId:e},t){super(e,t),this.finishListenQueue=[],this.onIdleHandler=this.eventFilter(this._onIdleHandler.bind(this)),this.onProgressHandler=this.eventFilter(this._onProgressHandler.bind(this)),this.onFinishHandler=this.eventFilter(this._onFinishHandler.bind(this)),this.sdk.eventBus.addListener(je.UploadIdle,this.onIdleHandler),this.sdk.eventBus.addListener(je.UploadProgress,this.onProgressHandler),this.sdk.eventBus.addListener(je.UploadFinish,this.onFinishHandler)}uploadDone(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}done(){return new Promise(((e,t)=>{this.result?"success"===this.result.status?e(this.result):t(this.result):this.finishListenQueue.push([e,t])}))}async cancel(){return await this.sdk.sdk.cancel_upload(this.requestId)}async append(e){return this.sdk.appendClipToUpload(this.requestId,e.seqNo,e.file,e.isLast)}destroy(){super.destroy(),this.finishListenQueue=[],this.sdk.eventBus.removeListener(je.UploadIdle,this.onIdleHandler),this.sdk.eventBus.removeListener(je.UploadProgress,this.onProgressHandler),this.sdk.eventBus.removeListener(je.UploadFinish,this.onFinishHandler)}_onIdleHandler(e){var t;null==(t=this.onIdle)||t.call(this,e)}_onProgressHandler(e){var t;null==(t=this.onProgress)||t.call(this,{done:e.bytes_done})}async _onFinishHandler(e){var t,n,r,o;e.completed?e.stream_clip_transcode?this.result={status:"success",uploadId:e.stream_clip_transcode.upload_id,bucketKey:e.stream_clip_transcode.bucket_key,streamId:e.stream_clip_transcode.stream_id,streamM3u8:e.stream_clip_transcode.stream_m3u8,streamMp4:e.stream_clip_transcode.stream_mp4,streamMd5:e.stream_clip_transcode.stream_md5,coverUrl:e.stream_clip_transcode.cover_url,spriteUrl:e.stream_clip_transcode.sprite_url,streamDuration:e.stream_clip_transcode.stream_duration}:this.result={status:"error",errInfo:{code:"NO_TRANSCODE_INFO",msg:"NO_TRANSCODE_INFO"}}:e.cancelled?(this.result={status:"cancel"},null==(t=this.onError)||t.call(this,this.result)):(this.result={status:"error",errInfo:e.error_info,failedPartList:null!=(n=e.stream_clip_err_ext)&&n.part_num?[e.stream_clip_err_ext.part_num]:[]},null==(r=this.onError)||r.call(this,this.result));for(const i of this.finishListenQueue)"success"===this.result.status?i[0](this.result):i[1](this.result);null==(o=this.onFinish)||o.call(this,this.result),this.destroy()}eventFilter(e){return t=>{const{request_id:n}=t;n===this.requestId&&e(t)}}}var Re=Object.defineProperty,ke=Object.getOwnPropertyDescriptor,Ne=(e,t,n,r)=>{for(var o,i=r>1?void 0:r?ke(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Re(t,n,i),i};const xe=String.fromCharCode(98),De=String.fromCharCode(116),He=String.fromCharCode(121),Me=String.fromCharCode(117),Fe=String.fromCharCode(99),je={BusDestroy:"destroy",UploadIdle:"asset_upload_idle",UploadProgress:"asset_upload_progress",UploadFinish:"asset_upload_finish",AssetDownloadIdle:"asset_download_idle",AssetDownloadProgress:"asset_download_progress",AssetDownloaddFinish:"asset_download_finish",VideoInfoEndPullEvent:"video_info_end_pull",ThridPartResourceSyncStateEvent:"thirdpart_resource_sync_state",TrackSendEvent:"track_send_event",SpriteInfoEndPullEvent:"sprite_info_end_pull",PreviewInfoEndPullEvent:"preview_info_end_pull",SpaceMoveProgressEvent:"space_move_progress",SpaceMoveFinishEvent:"space_move_finish",SpaceCopyProgressEvent:"space_copy_progress",SpaceCopyFinishEvent:"space_copy_finish",ImageTranscodeInfoEndPull:"image_transcode_info_end_pull",EverCloudCancelImageTranscode:"ever_cloud_cancel_image_transcode"};class Ue{constructor(){this.eventBus=new r.Z,this.noSignOptions=null,this.options=null,this.initLocker=new Pe,this.syncLocker=new Pe,this.loadLocker=new Pe,this.syncNoSignInitDone=!1,this.syncNoSignIniting=!1,this.syncNoSignInitError=!1,this.initNoSignQueue=[],this.cacheFoldersNum=10,this.initEverCloudSdkReporter=new Le}get getTempId(){var e;return null==(e=this.noSignOptions)?void 0:e.uniqueId}get everUserId(){return this.webUserId}get cachePlugin(){return this.idbPlugin}get isGroupSdk(){return!!qe.space&&undefined!==qe.space}get spaceId(){var e;return null==(e=this.options)?void 0:e.space}get netconf(){var e;return null==(e=this.options)?void 0:e.netconf}setCachePlugin(e){this.idbPlugin=e}setTeaReporter(e){this.TeaReporter=e}setDependencies(e){this.dependencies=e}get hasSetOptions(){return!!this.options}get hasSetNoSignOptions(){return!!this.noSignOptions}async setOptions(e){if(!this.hasSetOptions){let t;if(!e.netconf)if(this.isOversea(e)&&e.is_boe)t={base:`everphoto-${xe}oei18n.${xe}ytein${De}l.ne${De}`,media:`everphoto-${xe}oei18n.${xe}ytein${De}l.ne${De}`,is_https:!0},Object.assign(e,{netconf:t}),ne("\u5e94\u7528\u6d77\u5916\u7248\u672c sdk");else if(!this.isOversea(e)){const t={base:`everphoto-lv-${xe}oe.${xe}${He}${De}edance.ne${De}`,media:`everphoto-lv-${xe}oe.${xe}${He}${De}edance.ne${De}`,is_https:!0};Object.assign(e,{netconf:e.is_boe?t:{base:`lv-everphoto-bcdn.${Me}like${Fe}am.com`,media:`lv-everphoto-bcdn.${Me}like${Fe}am.com`,is_https:!0}})}const n=this.dependencies.overwriteSDKInitOptions&&await this.dependencies.overwriteSDKInitOptions(e)||e;n.netconf=Object.assign({is_https:!0},n.netconf),this.options=n,this.idc=C[e.dc_name]??e.dc_name}ne("\u521d\u59cb\u5316\u53c2\u6570\u5df2\u8bbe\u7f6e"),console.log(this.options,"===setOptions===")}setPermission(e){this.permission=e}setNoSignOptions(e){this.noSignOptions?ne("\u53c2\u6570\u91cd\u590d\u8bbe\u7f6e\uff0c\u8bf7\u786e\u8ba4\u3002 init \u540e\u5c06\u4e0d\u4f1a\u88ab\u8986\u76d6"):(this.noSignOptions=e,ne(`\u521d\u59cb\u5316\u53c2\u6570\u5df2\u8bbe\u7f6e\uff08\u672a\u767b\u5f55\uff09: ${JSON.stringify(e)}`))}getUploader(e,t){return this.dependencies.getUploader(e,t)}emitUserSpaceSizeChange(){this.eventBus.emit(b.USER_SPACE_SIZE_CHANGE)}onUserSpaceSizeChange(e){return this.eventBus.on(b.USER_SPACE_SIZE_CHANGE,e)}get uid(){var e;return null==(e=this.options)?void 0:e.user_id}init(){if(this.destroyed)return Promise.reject(new Error("SDK destroyed"));if(this.initLocker.hasBeenDone)return this.initLocker.awaitForInit();const e=this.options&&this.options.user_id;if(e||ne("\u672a\u8bbe\u7f6e\u5fc5\u8981\u53c2\u6570, \u7b49\u5f85\u53c2\u6570\u8bbe\u7f6e\u4e2d"),!this.initLocker.isIniting&&e){this.initLocker.startToInit(),this.loadLocker.startToInit();const{timeout:e}=this.options||{},{init:t=3e5}=e||{};setTimeout((()=>{this.initLocker.hasBeenDone||this.initLocker.initDone({reject:new ue})}),t),this.initEverCloudSdk({initDoneCb:()=>{this.initLocker.initDone()},loadDoneCb:()=>{this.loadLocker.initDone()},syncDoneCb:e=>{e&&(!this.initLocker.hasBeenDone&&this.initLocker.initDone(),this.syncLocker.initDone())}})}return this.initLocker.awaitForInit()}async startSyncLoop(){!this.syncLocker.isIniting&&!this.syncLocker.hasBeenDone&&(this.syncLocker.startToInit(),await this.sdk.start_sync_loop())}async syncDone(){return await this.startSyncLoop(),await this.syncLocker.awaitForInit()}loadDone(){return this.loadLocker.awaitForInit()}async noSignInit(){const e=this.noSignOptions;return e||ne("\u672a\u8bbe\u7f6e\u5fc5\u8981\u53c2\u6570, \u7b49\u5f85\u53c2\u6570\u8bbe\u7f6e\u4e2d(noSing)"),new Promise((async(t,n)=>{if(this.syncNoSignInitDone&&t(),this.syncNoSignInitError&&n(new Error("Cloud Sdk \u53d1\u751f\u975e\u9884\u671f\u9519\u8bef\uff0c\u8bf7\u5237\u65b0\u9875\u9762")),this.initNoSignQueue.push([t,n]),!this.syncNoSignIniting&&e){this.syncNoSignIniting=!0,this.syncNoSignInitDone=!0;const e=this.noSignOptions;if(!e)throw new Error("impossible way");this.offlineVideoUploader=this.getUploader(e,"video"),this.offlineFileUploader=this.getUploader(e,"file"),this.initNoSignQueue.forEach((e=>{e[0]()})),this.initNoSignQueue=[]}}))}async destroy(){return this.destroyed?(this.sdk=null,this.options=null,this.eventBus.emit(je.BusDestroy),this.eventBus.removeAllListeners(),Promise.resolve()):(this.sdk=null,this.destroyed=!0,this.options=null,this.eventBus.emit(je.BusDestroy),this.eventBus.removeAllListeners(),await this.tearDown())}async getFilesListByFloder(e){const t=(await this.getAsset(Object.assign({},{material:!0},e))).filter((e=>{var t;return!(null!=(t=null==e?void 0:e.cluster_list)&&t.length)})).map((e=>te(e,this))),n=await this.getPackages();let r=[];return this.isOversea()||(r=await this.getClusters()),[...t,...n,...r].sort(((e,t)=>(e.updatedAt??0)-(t.updatedAt??0)))}async getAsset(e){var t,n;const r=Object.assign({},e);return null!=(t=null==r?void 0:r.ids)&&t.length||null!=(n=null==r?void 0:r.md5s)&&n.length?await this.initLocker.awaitForInit():await this.syncDone(),await this.sdk.get_asset(r)}async getAssets(e){return(await this.getAsset(Object.assign({},{material:!0},e))).filter((e=>{var t;return!(null!=(t=null==e?void 0:e.cluster_list)&&t.length)})).map((e=>te(e,this)))}async asset_preview(e){return new Promise((t=>{this.sdk.download_asset({md5:e,preview:"360p"},(e=>{if(e.length<98304){const n=btoa(String.fromCharCode(...new Uint8Array(e)));t(n)}}))}))}async uploadAsset(e){const{file:t,fileName:n,permission:r=this.permission??T.PUBLIC}=e,o=n||t.name;if((null==e||!e.skipDuplicate)&&await this.isAssetNameDumplicate({fileName:o}))throw new se;const i=(0,a.merge)(ie(),null==e?void 0:e.meta);let{fileType:s}=e;s||(s=v({file:t})??"file");const c=await this.sdk.upload_asset(t,s,o,JSON.stringify(i),r===T.PERSONAL?"personal":"",null==e?void 0:e.flags);return new ge({requestId:c.request_id,fileType:s,autoPromote:!!e.autoPromote,workspaceId:e.workspaceId},this)}async streamClipUploadAsset(e){const{format:t,fileName:n,meta:r,permission:o,extra:i}=e,a=JSON.stringify(r),s=i||{};s.ve&&(s.ve=JSON.stringify(s.ve));const{request_id:c}=await this.sdk.stream_clip_upload_asset(t,n,a,o,s);return new Oe({requestId:c},this)}async appendClipToUpload(e,t,n,r){return await this.sdk.append_clip_to_upload(e,t,n,r)}async uploadVid(e){return await this.sdk.upload_vid(e.vid,e.material,e.folder)}async syncVideoToEverCloud(e,{resouceType:t=1,fileSize:n,meta:r,imageAsyncResize:o=!0,folderId:i=qe.rootFolderId}){var s;const c=new Ae({id:e},this),l=(0,a.merge)(ie(),r);return await this.sdk.sync_asset({resource:[{resource_id:e,resource_type:t||1,size:n,meta:JSON.stringify(l),region:this.isOversea()?null==(s=null==this?void 0:this.noSignOptions)?void 0:s.userRegion:null,image_async_resize:o,folder_id:i}]}),c}async getAssetsByMd5(e){return e.length?(await this.getAsset({md5s:e})).map((e=>te(e,this)))??[]:[]}async getAssetByMd5(e){const t=(await this.getAsset({md5s:[e]})||[])[0];if(!t)throw new Error(`asset not found: md5=${e}`);return te(t,this)}async getAssetByFileId(e,t=!1){const n=(await this.getAsset({ids:[e]}))[0];if(!n)throw new Error(`asset not found: assetId=${e}`);if(t){const e=await this.getUnencryptedPlayInfo({id:n.id});n.unencryptedPlayInfo=e}return te(n,this)}async getAssetsByFileId(e){return e.length?(await this.getAsset({ids:e})).map((e=>te(e,this)))??[]:[]}async getFileDetailWithTranscode(e,t=!1){var n,r,o,i;const a=await(await this.getVideoAssetTranscodeStatus(e)).done();if("success"!==a.status)throw new Error(`transcode failure: ${JSON.stringify(a.errInfo)}`);let s;s=this.isOversea()?e.md5?await this.getAssetByMd5(e.md5):await this.getAssetByFileId(e.id):e.entryId?await this.getEntryAsset(e.entryId,!0,t):e.md5?await this.getAssetByMd5(e.md5):await this.getEntryAsset(e.id,!0,t);const c=[],l=a.data;if(l){const e=(e,t)=>{if(l[e]){const{primary_url:n,url_key:r}=l[e];n&&r&&c.push({type:t,url:n,key:r})}};l.origin&&e("origin","origin"),e("p360","360p"),e("p480","480p"),e("p720","720p")}return new J({uid:s.author,type:s.type,duration:s.duration,fileName:s.name,size:s.size,assetInfo:s,spritInfo:s.sprit,videoInfo:c,audioInfo:{url:null==(r=null==(n=null==a?void 0:a.data)?void 0:n.audio)?void 0:r.primary_url,key:null==(i=null==(o=a.data)?void 0:o.audio)?void 0:i.url_key}})}async getFileDetailWithTranscodeNoSign(e,t){var n,r,o,i,a,s,c,l,u;const d=await(await this.getVideoAssetTranscodeStatusNoSign(e,t)).done();if("success"!==d.status)throw new Error(JSON.stringify(d.errInfo));return new J({fileName:null==(r=null==(n=d.data)?void 0:n.video)?void 0:r.file_name,type:N,size:null==(i=null==(o=d.data)?void 0:o.video)?void 0:i.size,spritInfo:null==(a=d.data)?void 0:a.video.thumb,duration:1e3*((null==(s=d.data)?void 0:s.video.duration)??0),videoInfo:null==(l=null==(c=d.data)?void 0:c.video.video_infos)?void 0:l.map((e=>({type:e.definition??e.defination,url:e.url,key:e.key}))).sort(((e,t)=>{const n=["360p","480p","720p"];return n.indexOf(null==e?void 0:e.type)-n.indexOf(null==t?void 0:t.type)})),extInfo:{vid:null==(u=d.data)?void 0:u.video.source}})}async getVideoAssetTranscodeStatus(e){let t,n;e.md5?(t={id:e.md5,key:"md5"},n={md5s:[e.md5]}):(t={id:e.id,key:"asset_id"},n={ids:[e.id]});const r=new Ee(t,this);return await this.sdk.get_asset_play_info(n),r}async getAssetsPlayInfo(e){return await this.sdk.get_asset_play_info(e)}async getVideoAssetTranscodeStatusNoSign(e,t){var n;return await this.noSignInit(),new ye({tmp_id:null==(n=this.noSignOptions)?void 0:n.uniqueId,task_id:e,is_support_webp:!0===t?1:0},this)}async getAssetSpirtInfo(e){let t,n;e.md5?(t={id:e.md5,key:"md5"},n={md5s:[e.md5]}):(t={id:e.id,key:"id"},n={ids:[e.id]});const r=new Te(t,this);return await this.sdk.get_asset_sprite_info(n),r}async getAssetPreviewInfo(e){let t,n;e.md5?(t={id:e.md5,key:"md5"},n={md5s:[e.md5]}):(t={id:e.id,key:"id"},n={ids:[e.id]});const r=new be(t,this);return await this.sdk.get_asset_preview_info(n),r}async uploadAssetNoLogin(e){await this.noSignInit(),await this.offlineVideoUploader.init(),await this.offlineFileUploader.init();const{file:t,fileName:n,onStart:r}=e,o=n||t.name,i=v({file:t});return new ve({file:t,fileName:o,fileType:i,uploader:"video"===i||"audio"===i?this.offlineVideoUploader:this.offlineFileUploader,onStart:r},this)}async cancelAllUploadAsset(){return await this.sdk.cancel_upload_all()}async cancelUploadAsset(e){return await this.sdk.cancel_upload(e)}async deleteAsset({ids:e=[],md5s:t=[]}){const n=[];for(let r=0;20*r<e.length;r++)n.push(this.sdk.delete_asset({ids:e.slice(20*r,20*(r+1))}));for(let r=0;20*r<t.length;r++)n.push(this.sdk.delete_asset({md5s:t.slice(20*r,20*(r+1))}));await Promise.all(n)}async renameAsset(e){if(await this.isAssetNameDumplicate({fileName:e.fileName,filterMd5:e.md5}))throw new se;return await this.sdk.rename_asset({md5:e.md5,file_name:e.fileName})}async downloadByUrlKey(e){if(null==e||!e.url)throw new Error("[EverSdk] downloadByUrlKey: url can not be empty");const t={...e,url:e.url||""},n=t.skipCache?void 0:await this.getFromCache(t.url),r=new me({url:t.url},this);if(n&&n instanceof Uint8Array)r.thirdpartDone({buffer:n});else{const e=await this.sdk.download_url(t,(e=>{r.appendChunk(e)}));r.setRequestId(e.request_id),r.size=e.size}return r}async downloadAssetStream(e){const t=e.skipCache?void 0:await this.getFromCache(e.md5),n=new me({},this);if(t&&t instanceof Uint8Array)n.thirdpartDone({buffer:t});else{const t=await this.sdk.download_asset(e,(e=>{n.appendChunk(e)}));n.setRequestId(t.request_id),n.size=t.size}return n}async downloadAssetUrl(e,t,n){var r;const{token:i}=await this.dependencies.apiFunc.getEverPhotoToken(null==(r=this.options)?void 0:r.space),a=await o.default.get(e,{headers:{"x-everphoto-token":i},responseType:"blob"}),{data:s,headers:c}=a,l=new Blob([s],{type:n||c["content-type"]}),u=(c["content-disposition"]||"").split("filename=")[1];let d=document.createElement("a");const p=window.URL.createObjectURL(l);d.download=u||t||"",d.href=p,d.style.display="none",d.click(),d=null}async downloadAssetUrlV2(e){var t,n;const r=(null==(t=await this.sdk.get_asset_dynamic_download_url({ids:e.ids,max_time:e.maxTime,ttl:e.ttl}))?void 0:t.data)??{},o=[];for(let i=0;i<e.ids.length;i++){const t=e.ids[i],a=(null==(n=null==e?void 0:e.names)?void 0:n[i])??"";r[t]?ae(r[t].url+(a?`&target_name=${a}`:"")):o.push(t)}return o}async getPackages(){const e=(await this.sdk.get_package(null)).map((e=>new z(e))),t=[V.EDIT,V.SCRIPT,V.TEMPLATE,V.GRAPHIC];return e.filter((e=>e.isValid)).filter((e=>t.includes(e.subType))).sort(((e,t)=>(t.updatedAt??0)-(e.updatedAt??0)))}async getPackageById(e){return this.getPackageByKey(e)}async getPackageByKey(e){const t=await this.sdk.get_package([e]);if(t.length)return new z(t[0]);throw new Error(`\u8349\u7a3fkey(${e})\u4e0d\u5b58\u5728`)}async savePackage(e){const{draftId:t,draftMeta:n,assets:r,isForceReplace:o=!1,permission:i=this.permission??T.PUBLIC,folderId:a,name:s,draftType:c=W.NORMAL}=e;let l=e.prePkgId||null;return o&&(l=(await this.getPackageByKey(t)).id),await this.sdk.save_package({key:t,meta:JSON.stringify(n),package_assets:r.map((e=>({md5:e.md5,size:e.size,path:e.path,entry_ids:e.entryIds,meta:JSON.stringify(e.meta)}))),base_package_id:l,permission:i,folder_id:a,draft_type:c,name:s})}async sharePackage(e){const{entryId:t,spaceId:n,draftMeta:r,packageId:o,folderId:i,name:a,packageKey:s,overwrite:c,permission:l}=e;await this.sdk.share_package({overwrite:c,permission:l,name:a,package_id:o,entry_id:t,meta:JSON.stringify(r),folder_id:i,package_key:s,to_space_id:n})}async deletePackageById(e){await this.sdk.delete_package(e)}async renamePackages({key:e,name:t}){if(await this.isPackageNameDumplicate({fileName:t,filterKey:e}))throw new se;const n=await this.getPackageByKey(e),r=(0,a.merge)({},n.meta,{draft:{name:t,updateTime:(new Date).valueOf()}}),o=await this.sdk.rename_package({package_id:n.id,meta:JSON.stringify(r)});return new z(o.package)}async updatePackageMeta({id:e,key:t,meta:n,autoMergeMeta:r=!1}){let o=e,i=n;if(t)try{const e=await this.getPackageByKey(t);o=o||e.id,r&&(i=(0,a.merge)({},e.meta,i))}catch{if(r)throw new Error("Not found local meta info, could not merge")}if(!o)throw new Error("params id or key is required at least one.");const s=await this.sdk.rename_package({package_id:o,meta:JSON.stringify(i)});return new z(s.package)}async validateWebEditorSupportPkg(e){var t;const n=Object.assign({},{platform:["browser"]},e),r=await this.getPackageByKey(n.draftId);return!!r&&n.platform.includes((null==(t=r.meta)?void 0:t.uploadSource.platform)??"")}async forceSyncPullUpdates(){await this.sdk.sync_pull_updates({})}async getClusters(){const e=(await this.sdk.get_clusters({})).filter((e=>e.n_asset)).map((e=>new Q({cluster:e}))),t=e.map((e=>e.lastAssetId)),n=(await this.getAssetsByFileId(t)).reduce(((e,t)=>(e[t.id]=t,e)),{});return e.forEach((e=>e.updateLastAsset(n[e.lastAssetId]))),e}async getClusterLastAsset(e){const t=await this.getAssetsFromCluster({clusterId:e.id,sortByRelation:!0})||[];return t[t.length-1]}async getClusterById(e){const t=(await this.sdk.get_clusters({cluster_ids:[e.clusterId]}))[0];if(!t||!t.n_asset)throw new Error("cluster invalid");const n=new Q({cluster:t});if(e.needLastAsset){const e=await this.getClusterLastAsset(n);n.updateLastAsset(e)}return n}async createCluster(e){return await this.sdk.create_cluster({...e,relation:JSON.stringify(e.relation??[]),meta:JSON.stringify(e.meta)})}async delCluster(e){return await this.sdk.delete_cluster({cluster_id:e.id,delete_resource:e.deleteAsset})}async addAssetToCluster({clusterId:e,assetIds:t,relation:n}){if(!n){const r=await this.getClusterById({clusterId:e});if(!r)throw new Error(`cluster id is not found: ${e}`);null==(n=r.relation)||n.push(...t)}return await this.sdk.add_cluster_resource({cluster_id:e,ids:t,relation:JSON.stringify(n)})}async delAssetFromCluster({clusterId:e,assetIds:t=[],relation:n,delAsset:r}){if(!n){const r=await this.getClusterById({clusterId:e});if(!r)throw new Error(`cluster id is not found: ${e}`);n=null==(n=r.relation)?void 0:n.filter((e=>!t.includes(e)))}await this.sdk.remove_cluster_resource({cluster_id:e,ids:t,relation:JSON.stringify(n)}),r&&await this.deleteByEntry(t)}async updateCluster({clusterId:e,meta:t,relation:n}){await this.sdk.update_cluster({cluster_id:e,meta:t?JSON.stringify(t):void 0,relation:n?JSON.stringify(n):void 0})}async getAssetsFromCluster(e){const t=await this.sdk.get_asset_from_cluster({cluster_id:e.clusterId});let n=(null==t?void 0:t.map((e=>te(e,this))))??[];if(e.sortByRelation){const t=await this.getClusterById({clusterId:e.clusterId});null!=t&&t.relation&&(n=this.sortArrayByRelation({exists:n,relation:t.relation||[],getter:e=>e.notOnlyId}))}return n}async createFolder(e){const t=await this.sdk.create_folder({name:e.name,parent_id:e.parentId,permission:e.permission,meta:JSON.stringify((0,a.merge)(ie(),e.meta||{}))});return new ee(t.folder)}async deleteFolder(e){if(e&&e.length)return await this.sdk.delete_folder({ids:e})}async moveTo(e){const{ids:t,target:n}=e,r={ids:e.ids,parent_id:e.target};try{this.cacheCurrentFolders(e.target)}catch{}const o=!this.isGroupSdk;if(qe.isRootFolderId(n))return await this.sdk.move_to_folder(r);const i=await this.getFolderPaths({folderId:n}),a=i.length,s=i.pop();if(!s)throw new Error("[EverSDK] moveTo: target folder not exist");const c=await this.getFolders(t);if((await Promise.all(c.map((e=>this.getFolderMaxDepth(e.id))))).some((e=>e.depth>qe.maxFolderDepth-a)))throw new pe(qe.maxFolderDepth);if(o||s.permission===T.PUBLIC)return await this.sdk.move_to_folder(r);if([...await this.getEntryAssets(t),...c].some((e=>e.isPublic)))throw new de;return await this.sdk.move_to_folder(r)}async updateFolder(e){return await this.sdk.update_folder({...e,folderId:e.folderId,access_time:e.access?1:0})}async getFolders(e){if(!e||null==e||!e.length)return[];if(e.some((e=>qe.isRootFolderId(e))))throw new Error("[EverSDK] getFolders: can not get root folder info ");const t=await this.sdk.get_folders({ids:e});return((null==t?void 0:t.folders)||[]).map((e=>new ee(e)))}async getFolder(e,t){if(qe.isRootFolderId(e))return;const n=(await this.getFolders([e]))[0];if(!n||void 0===t||!this.isGroupSdk)return n;const[r]=await this.getFolderPaths({folderId:e},t);return t===T.PERSONAL&&(null==r?void 0:r.author)===qe.everUserId||t===T.PUBLIC&&r.isPublic?n:null}async getFolderPaths(e,t){if(!e||!e.folderId)throw new Error("[EverSDK] getFolderPaths: folder_id can not be empty");if(qe.isRootFolderId(e.folderId))throw new Error("[EverSDK] getFolders: can not get root folder info ");const n=await this.sdk.get_folder_path({folder_id:e.folderId}),r=((null==n?void 0:n.path)||[]).map((e=>new ee(e)));return!r.length||!this.isGroupSdk||void 0===t||t===T.PUBLIC&&r[0].isPublic||t===T.PERSONAL&&r[0].author===this.everUserId?r:[]}async getAssetsByFolder(e,t){const{folderId:n,filter:r}=e,o=await this.sdk.get_folder_items({folder_id:n,filter:r||0}),i=(o.assets||[]).filter((e=>{var t;return!(null!=(t=null==e?void 0:e.cluster_list)&&t.length)})).map((e=>te(e,this))),a=(o.packages||[]).map((e=>new z(e))).filter((e=>e.isValid)),s=a.filter((e=>e.subType===V.EDIT)).sort(((e,t)=>(t.updatedAt??0)-(e.updatedAt??0))),c=a.filter((e=>e.subType===V.SCRIPT)).sort(((e,t)=>(t.updatedAt??0)-(e.updatedAt??0)));let l=[];this.isOversea()||(l=(o.clusters||[]).filter((e=>e.n_asset)).map((e=>new Q({cluster:e}))),await Promise.all(l.map((async e=>{const t=await this.getClusterLastAsset(e);e.updateLastAsset(t)}))));const u=(o.folders||[]).map((e=>new ee(e)));if(!this.isGroupSdk||void 0===t)return{assets:i,packages:s,clusters:l,folders:u,scripts:c};if(qe.isRootFolderId(n))return{assets:i.filter((e=>re(t,e))),packages:s.filter((e=>re(t,e))),clusters:l.filter((e=>re(t,e))),folders:u.filter((e=>re(t,e))),scripts:c.filter((e=>re(t,e)))};const d=await this.getFolderPaths({folderId:n},t);if(!d.length)return{};const p=d[0];return t===T.PERSONAL&&p.author===qe.everUserId||t===T.PUBLIC&&p.isPublic?{assets:i,packages:s,clusters:l,folders:u,scripts:c}:{}}async copyAsset(e){if(!e||!e.entryId)throw new Error("[EverSDK] copyAsset: entry_id can not be empty");try{this.cacheCurrentFolders(e.parentId)}catch{}return te((await this.sdk.copy_asset({entry_id:e.entryId,name:e.name,parent_id:e.parentId})).asset,this)}async copyPackage(e){if(!e||!e.src_package_id)throw new Error("[EverSDK] copyPackage: src_package_id can not be empty");const{owner:t,platform:n,appVersion:r,systemVersion:o}=ie().uploadSource,i={owner:t,platform:n,appVersion:r,systemVersion:o,createTime:Date.now()},s=await this.sdk.copy_package({src_package_id:e.src_package_id,target_name:e.target_name,target_package_key:e.target_package_key,target_meta:JSON.stringify((0,a.merge)(ie(),e.target_meta,{createSource:i,uploadSource:i}))});return new z(s.package)}async copyAndRename(e){const{file:t,parent:n}=e,r=await qe.getAssetsByFolder({folderId:n,filter:0}),o=[...r.assets||[],...r.clusters||[],...r.folders||[],...r.packages||[],...r.scripts||[]].map((e=>e.name)),i=this.dependencies.getFileCopyName(t.name,o);if(t.type===F){const{meta:e}=t,n={...e,uploadSource:{...null==e?void 0:e.uploadSource,...ie().uploadSource,platform:"browser"},createSource:{...null==e?void 0:e.createSource,...ie().uploadSource,platform:"browser"},draft:{...null==e?void 0:e.draft,name:i}};return qe.copyPackage({src_package_id:t.id,target_name:i,target_package_key:crypto.randomUUID().toUpperCase(),target_meta:n})}return qe.copyAsset({entryId:t.id,parentId:n,name:i})}cacheCurrentFolders(e){if(qe.isRootFolderId(e))return;const t=this.getCacheCurrentFolderIds(),n=[e,...t.filter((t=>t!==e))].slice(0,this.cacheFoldersNum);window.localStorage.setItem(this.getCacheFolderKey(),JSON.stringify(n))}getCacheCurrentFolderIds(){let e=[];try{const t=JSON.parse(window.localStorage.getItem(this.getCacheFolderKey())||"");Array.isArray(t)&&(e=t)}catch{}return e}async getCurrentFolders(e=5){const t=this.getCacheCurrentFolderIds(),n=await this.getFolders(t.filter((e=>!qe.isRootFolderId(e)))),r=this.sortArrayByRelation({exists:n,relation:t,getter:e=>e.id}),o=r.map((e=>e.id));return window.localStorage.setItem(this.getCacheFolderKey(),JSON.stringify(o)),r.slice(0,e)}async updateEntry(e){if(!e||!e.id)throw new Error("[EverSDK] updateEntry: entry_id can not be empty");const t={id:e.id};if(e.name&&(t.name=e.name),e.access&&(t.access_time=e.access),null!==e.permission&&void 0!==e.permission&&(t.permission=e.permission===T.PERSONAL?1:0),e.meta)try{t.meta=JSON.stringify(e.meta)}catch{}return await this.sdk.update_entry(t)}async getEntryAssets(e,t=!1){return(await this.sdk.get_entry_asset({ids:e,allow_cluster:!!t})||[]).map((e=>te(e,this)))}async getEntryAsset(e,t=!1,n=!1){const r=(await this.sdk.get_entry_asset({ids:[e],allow_cluster:!!t}))[0];if(!r)throw new Error(`asset not found: entryId=${e}`);const o=te(r,this);if(n){const e=await this.getUnencryptedPlayInfo({id:o.notOnlyId});o._sourceData.unencryptedPlayInfo=e}return o}async deleteByEntry(e=[]){const t=[];for(let n=0;20*n<e.length;n++)t.push(this.sdk.delete_entry({ids:e.slice(20*n,20*(n+1))}));return await Promise.all(t)}async getFolderMaxDepth(e){return await this.sdk.get_folder_max_depth({folder_id:e})}async resetSpaceStorage(e){const{quota:t,usage:n}=await this.dependencies.apiFunc.getEverPhotoUserSpace(e);return t-n}sortArrayByRelation(e){const t=(null==e?void 0:e.getter)||(e=>e),n=e.exists.slice(),r=[];for(const o of e.relation??[]){const e=n.findIndex((e=>t(e)===o));r.push(...n.splice(e,e<0?0:1))}return r.push(...n),r}async tearDown(){return this.sdk?this.sdk.tear_down():Promise.resolve()}async updatePermission(e){const{permission:t=this.permission??T.PUBLIC,assetIds:n=[],assetMd5s:r=[],packageIds:o=[]}=e;return await this.sdk.update_permission({permission:t,asset_ids:n,asset_md5s:r,package_ids:o})}async getUnencryptedPlayInfo(e){return await this.sdk.get_asset_unencrypted_play_info(e)}async moveFromSpace(e){var t,n;const r={from_space:e.fromSpace||"0",resource_id:e.resourceId,resource_type:e.resourceType,to_space:e.toSpace||(null==(t=this.options)?void 0:t.space)||"0",meta:JSON.stringify(e.meta)};null!=(n=this.options)&&n.is_boe||(r.from_idc=e.fromIdc,r.to_idc=e.toIdc??this.idc);const o=await this.sdk.move_from_space(r);return new Se(o.process_id,this)}async copyFromSpace(e){var t,n;const r={from_space:e.fromSpace||"0",resource_id:e.resourceId,resource_type:e.resourceType,to_space:e.toSpace||(null==(t=this.options)?void 0:t.space)||"0",meta:JSON.stringify(e.meta),package_key:e.packageKey};null!=(n=this.options)&&n.is_boe||(r.from_idc=e.fromIdc,r.to_idc=e.toIdc??this.idc);const o=await this.sdk.copy_from_space(r);return new Ce(o.process_id,this)}async getImagesTranscodeStatus(e){const t=new Ie(e,this);return await this.sdk.get_image_transcode_info({listeners:e.map((e=>({...e,transcode_type:O[e.resolution]})))}),t}async triggerImageResize(e){const{ids:t=[],md5s:n=[]}=e,r=[],o=50;for(let i=0;i*o<t.length;i++)r.push(this.sdk.trigger_image_resize({ids:t.slice(i*o,(i+1)*o)}));for(let i=0;i*o<n.length;i++)r.push(this.sdk.trigger_image_resize({md5s:n.slice(i*o,(i+1)*o)}));return await Promise.all(r)}async cancelImagesTranscodeStatus(e,t){await this.sdk.cancel_image_transcode_info_loop({listeners:e.map((e=>({...e,transcode_type:O[e.resolution]}))),cancel_all:t}),this.eventBus.emit(je.EverCloudCancelImageTranscode,{options:e,cancelAll:t})}async getImagePreviewInfo(e,t){const n=e.imageTranscodeInfo,r={},o=[];if((t||I).forEach((e=>{n[e]?r[e]=n[e]:o.push(e)})),!o.length)return r;const i=await this.getImagesTranscodeStatus(o.map((t=>({ids:[e.id],resolution:t}))));if(!e.imageAsyncResize){const t=await this.triggerImageResize({ids:[e.id]});ne(`EverCloud triggerImageResize ${e.id} ${JSON.stringify(t)}`)}try{return await i.done(),(await this.getAssetByFileId(e.id)).imageTranscodeInfo}catch{return r}}async getImagesPreviewInfo(e){const{resolutions:t,ids:n,md5s:r}=e,o=null==t?void 0:t.map((e=>({ids:n,md5s:r,resolution:e}))),i=await this.getImagesTranscodeStatus(o),a=await this.triggerImageResize({ids:n,md5s:r});ne(`EverCloud triggerImageResize: \n ids-[${n}] \n md5s-[${r}]: \n${JSON.stringify(a)}`),await i.done();const s=(await this.getAsset({ids:n,md5s:r})).map((e=>te(e,this)))??[],c={};s.forEach((e=>{c[e.id]=e,c[e.md5]=e}));const l={};return null==n||n.forEach((e=>{c[e]&&(l[e]=c[e].imageTranscodeInfo)})),null==r||r.forEach((e=>{c[e]&&(l[e]=c[e].imageTranscodeInfo)})),l}async throttlingGetUpdatesTrigger(e={throttle:2e3}){if(!this._getUpdatesTriggerLastTime)return this._getUpdatesTriggerLastTime=Date.now(),void this.sdk.trigger_pull_updates();Date.now()-this._getUpdatesTriggerLastTime>e.throttle&&(this._getUpdatesTriggerLastTime=Date.now(),this.sdk.trigger_pull_updates())}async initEverCloudSdk(e){var t,r,o,i;if(this.sdk)return void ne("this has been init",{type:"warn"});const a=Date.now();let s,c;const l=function(){try{const e=typeof __userInfoStringify<"u"?JSON.parse(__userInfoStringify):void 0;return e&&"0"===e.ret?e.data:void 0}catch{return}}();if(null!=l&&l.ever_photo.token&&null!=l&&l.ever_photo.web_user_id)s=l.ever_photo.token,c=l.ever_photo.web_user_id;else{const e=await this.dependencies.apiFunc.getEverPhotoToken(null==(t=this.options)?void 0:t.space);s=e.token,c=e.ever_photo_user.web_user_id}this.initEverCloudSdkReporter.addParams({getToken:Date.now()-a}),this.webUserId=c;const{EverCloudSdk:u}=await Promise.all([n.e(592),n.e(444),n.e(425),n.e(29),n.e(542),n.e(430),n.e(294),n.e(922),n.e(377),n.e(52),n.e(435),n.e(774),n.e(54),n.e(880),n.e(375),n.e(933),n.e(188),n.e(408),n.e(611),n.e(429),n.e(634),n.e(458),n.e(550),n.e(873)]).then(n.bind(n,49106)),{timeout:d}=this.options||{},{init:p=3e5,...f}=d||{},h=new u({token:s,source_from:this.dependencies.constant.sourceFrom,level:"error",...this.options,event_conf:{enable_asset_status_event:!1,enable_package_status_event:!1},common_params:{aid:this.dependencies.constant.aid},headers:{...null==(r=this.options)?void 0:r.headers},backup_conf:{max_count_of_concurrent_upload:5,chunk_size:5,...null==(o=this.options)?void 0:o.backup_conf},timeout:{general:30,upload:120,download:120,...f}},(async()=>{var e;return(await this.dependencies.apiFunc.getEverPhotoToken(null==(e=this.options)?void 0:e.space)).token}));this.sdk=h;try{await h.init()}catch(_){this.initLocker.initDone({reject:_})}null!=(i=this.options)&&i.disable_start_sync_loop||await this.startSyncLoop(),e.initDoneCb(),h.set_event_callback((t=>{var n;const r=JSON.parse(t),o=r.type;if(ne(`this receive event: ${o} data: ${t}`),"sync_load_done"===o&&e.loadDoneCb(),"sync_init_done"===o){e.syncDoneCb(0===r.code,t),this.initEverCloudSdkReporter.addParams({sdkInit:this.initLocker.costTimes,sdkSync:this.syncLocker.costTimes,total:Date.now()-a});const{reportData:o}=this.initEverCloudSdkReporter;null==(n=this.TeaReporter)||n.event(o.event,o.data)}o===je.TrackSendEvent&&this.reportSdkEvent(r),this.eventBus.emit(o,r)}))}async isAssetNameDumplicate({fileName:e,filterMd5:t}){const n=(await this.getFilesListByFloder({})).reduce(((e,n)=>{if(n.type!==F){if(t&&n.md5===t)return e;e[n.name??""]=!0}return e}),{});return Object.keys(n).includes(e)}async isPackageNameDumplicate({fileName:e,filterKey:t}){const n=(await this.getFilesListByFloder({})).reduce(((e,n)=>{if(n.type===F){if(t&&n.key===t)return e;e[n.name??""]=!0}return e}),{});return Object.keys(n).includes(e)}reportSdkEvent(e){var t;if(this.TeaReporter){const{event_name:n,str_params:r,int_params:o,float_params:i}=e;null==(t=this.TeaReporter)||t.event(n,Object.assign({},r,o,i))}}async getFromCache(e){if(e&&this.idbPlugin)return await this.idbPlugin.tryGetSource(e)}isOversea(e){return 13===((null==e?void 0:e.source_from)||this.dependencies.constant.sourceFrom)}getCacheFolderKey(){var e;return`current_folder_${this.webUserId}_${(null==(e=this.options)?void 0:e.space)||""}`}}Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getFilesListByFloder",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssets",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"asset_preview",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"uploadAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"streamClipUploadAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"appendClipToUpload",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"uploadVid",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"syncVideoToEverCloud",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetsByMd5",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetByMd5",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetByFileId",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetsByFileId",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getFileDetailWithTranscode",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getVideoAssetTranscodeStatus",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetsPlayInfo",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetSpirtInfo",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetPreviewInfo",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"cancelAllUploadAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"cancelUploadAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n},function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;const n=await r.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),n}),n}],Ue.prototype,"deleteAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"renameAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"downloadByUrlKey",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"downloadAssetStream",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"downloadAssetUrl",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"downloadAssetUrlV2",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getPackages",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getPackageByKey",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"savePackage",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"sharePackage",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n},function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;const n=await r.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),n}),n}],Ue.prototype,"deletePackageById",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"renamePackages",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"updatePackageMeta",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"forceSyncPullUpdates",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getClusters",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getClusterLastAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getClusterById",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"createCluster",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"delCluster",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"addAssetToCluster",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"delAssetFromCluster",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"updateCluster",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetsFromCluster",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"createFolder",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n},function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;const n=await r.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),n}),n}],Ue.prototype,"deleteFolder",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"moveTo",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"updateFolder",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getFolders",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getFolderPaths",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getAssetsByFolder",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"copyAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"copyPackage",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"updateEntry",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getEntryAssets",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getEntryAsset",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n},function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;const n=await r.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),n}),n}],Ue.prototype,"deleteByEntry",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getFolderMaxDepth",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"updatePermission",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getUnencryptedPlayInfo",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n},function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;const n=await r.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),n}),n}],Ue.prototype,"moveFromSpace",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n},function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;const n=await r.apply(this,e);return null==(t=null==this?void 0:this.emitUserSpaceSizeChange)||t.call(this),n}),n}],Ue.prototype,"copyFromSpace",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getImagesTranscodeStatus",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"triggerImageResize",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"cancelImagesTranscodeStatus",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getImagePreviewInfo",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"getImagesPreviewInfo",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.init)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"throttlingGetUpdatesTrigger",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"isAssetNameDumplicate",1),Ne([function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=async function(...e){var t;return await(null==(t=null==this?void 0:this.syncDone)?void 0:t.call(this)),await r.apply(this,e)}),n}],Ue.prototype,"isPackageNameDumplicate",1);const Be="0",Ge=class e{static get sdk(){const t=e._getSdkKey(e.options),n=e.sdkList.get(t);if(n)return n.sdk;e.initNoSignSdk();const r=e.sdkList.get(e._getSdkKey());return null==r?void 0:r.sdk}static get supportImageResolutions(){return I}static async prefetchWasmCode(){const{evpt_sdk_init_wasm_module:e}=await Promise.all([n.e(592),n.e(444),n.e(425),n.e(29),n.e(542),n.e(430),n.e(294),n.e(922),n.e(377),n.e(52),n.e(435),n.e(774),n.e(54),n.e(880),n.e(375),n.e(933),n.e(188),n.e(408),n.e(611),n.e(429),n.e(634),n.e(458),n.e(550),n.e(873)]).then(n.bind(n,49106));await e()}static async getSdkInstance(t){var n,r,o,i;console.log(t,"===getSdkInstance===");const{autoDestroy:a=!1,dcName:s,netconf:c}=t;let{spaceId:l}=t;l||(l=Be);const u=`${(null==(n=e.options)?void 0:n.user_id)||""}-${l}`,d=new Le;d.addProcessParams({method:"getSdkInstance",process:"wait-set-options",key:u}),ne(`EverCloud: getSdkInstance ${u} start wait setOptions`),null==(r=this.TeaReporter)||r.event(d.progressEvent,d.process),await e._initLocker.awaitForInit(),ne(`EverCloud: getSdkInstance ${u} end wait setOptions`),await e.init({spaceId:l,dcName:s,netconf:c,autoDestroy:a,initProcessReporter:d});const p=e.sdkList.get(u);if(p)return p.referenceCount+=1,ne(`EverCloud: Reference instance [${u}], reference-${p.referenceCount}`),d.addProcessParams({process:"init-success"}),null==(o=this.TeaReporter)||o.event(d.progressEvent,d.process),p.autoDestroy=a,p.sdk;throw d.addProcessParams({process:"init-error",error:`EverCloud sdk init edn bug sdk=${u} not found in cache`}),null==(i=this.TeaReporter)||i.event(d.progressEvent,d.process),new Error("EverCloud: sdk init failed")}static setNoSignOptions(t){e.noSignOptions=t,e.sdkList.forEach((e=>{e.sdk.setNoSignOptions(t)}))}static async noSignInit(){await e.initNoSignSdk()}static async initNoSignSdk(){if(!e.sdkList.get(e._getSdkKey())){const t=new Ue;if(!e.dependencies)throw new Error("please call setDependencies before init.");t.setDependencies(e.dependencies),t.setNoSignOptions(e.noSignOptions),e.sdkList.set(e._getSdkKey(),{referenceCount:0,sdk:t,updateTime:Date.now(),createTime:Date.now(),autoDestroy:!0}),await t.noSignInit()}}static async changeSpace(t){console.log(t,"===changeSpace==="),e.space=t.spaceId||Be;const n=await e.init(t);return e._emitSpaceChange(),n}static setTeaReporter(t){e.TeaReporter=t,e.sdkList.forEach((({sdk:e})=>{e.setTeaReporter(t)}))}static setOptions(t){e.options||(e.options=t,e._initLocker.startToInit(),e._initLocker.initDone())}static async init(t){var n,r,o,i,a;console.log(t,"===init space===",e.options);const{spaceId:s,autoDestroy:c=!0,dcName:l,netconf:u,initProcessReporter:d}=t||{},{idbPlugin:p,options:f,sdkList:h,space:_}=e,m=s||_||f.space||Be,g=e._getSdkKey(f,m),v=d||new Le;v.addProcessParams({method:v.reportProcess.data.method||"init",key:v.reportProcess.data.key||g,process:"wait-init"}),null==(n=this.TeaReporter)||n.event(v.progressEvent,v.process);const w=h.get(g);if(w){v.addProcessParams({process:"sdk-init-existed"}),null==(r=this.TeaReporter)||r.event(v.progressEvent,v.process);const{sdk:t}=w;return p&&t.setCachePlugin(p),w.updateTime=Date.now(),null==(o=e.awaitInitQueue.get(g))||o.forEach((({resolve:e})=>e(w.sdk))),e.awaitInitQueue.delete(g),e._destroySdk(),t.init()}const E=e.awaitInitQueue.get(g);if(E&&E.length)return v.addProcessParams({process:"sdk-init-doing"}),null==(i=this.TeaReporter)||i.event(v.progressEvent,v.process),new Promise(((e,t)=>{E.push({resolve:e,reject:t})}));v.addProcessParams({process:"sdk-init-new"}),null==(a=this.TeaReporter)||a.event(v.progressEvent,v.process);const y=new Ue;if(p&&y.setCachePlugin(p),!e.dependencies)throw new Error("please call setDependencies before init.");return y.setDependencies(e.dependencies),y.setNoSignOptions(e.noSignOptions),y.setTeaReporter(e.TeaReporter),new Promise((async(t,n)=>{var r,o,i,a,s,d;e.awaitInitQueue.set(g,[{resolve:t,reject:n}]);try{await y.setOptions({...f,space:m,netconf:u??(null==f?void 0:f.netconf),dc_name:l??f.dc_name});const t=e._getSdkKey(f,m),n=await y.init();return v.addProcessParams({process:"sdk-init-done"}),null==(r=this.TeaReporter)||r.event(v.progressEvent,v.process),h.set(t,{referenceCount:0,sdk:y,updateTime:Date.now(),createTime:Date.now(),autoDestroy:c}),null==(o=e.awaitInitQueue.get(g))||o.forEach((({resolve:e})=>e(n))),e.awaitInitQueue.delete(g),e._destroySdk(),n}catch(p){v.addProcessParams({process:"init-error",error:null==(i=null==p?void 0:p.toString)?void 0:i.call(p)}),null==(a=this.TeaReporter)||a.event(v.progressEvent,v.process),ne(`EverCloud: getSdkInstance ${g} \u521d\u59cb\u5316\u5931\u8d25: ${null==(s=null==p?void 0:p.toString)?void 0:s.call(p)}`),null==(d=e.awaitInitQueue.get(g))||d.forEach((({reject:e})=>e(p))),e.awaitInitQueue.delete(g)}}))}static setCachePlugin(t){e.idbPlugin=t}static onSpaceChange(t){return e.eventBus.on(e.EVENTS.SPACE_CHANGE,t)}static setDependencies(t){e.dependencies=t,e.sdkList.forEach((({sdk:e})=>{e.setDependencies(t)}))}static get rootFolderId(){return""}static isRootFolderId(e){return!e||-1===Number(e)}static async destroySdk(t=""){const n=e._getSdkKey(e.options,t),r=e.sdkList.get(n);if(null!=r&&r.sdk&&"-"!==n){if(r.referenceCount-=1,r.sdk===e.sdk)return void ne(`Can not destroy instance [${n}], because it is being used as default sdk. reference-${r.referenceCount}`);r.referenceCount<=0?(e.sdkList.delete(n),await r.sdk.destroy(),ne(`Destroy instance [${n}]`)):ne(`Can not destroy instance [${n}], because it is being used. reference-${r.referenceCount}`)}}static _emitSpaceChange(){e.eventBus.emit(e.EVENTS.SPACE_CHANGE)}static _getSdkKey(t,n=e.space){return`${(null==t?void 0:t.user_id)||""}-${n||(null==t?void 0:t.space)||Be}`}static _destroySdk(){e.timer&&clearTimeout(e.timer);const t=e.sdkList;let n=null,r="";if(t.forEach(((o,i)=>{const{sdk:a,updateTime:s,autoDestroy:c,referenceCount:l}=o;a===e.sdk||"-"===i||!c||(s<Date.now()-e.duration&&l<=0&&(t.delete(i),a.destroy(),ne(`AutoDestroy overdue instance [${i}]`)),l>0&&ne(`Can not auto destroy overdue instance [${i}], because it is being used. reference-${l}`),(!n||n.updateTime>s)&&(n=o,r=i))})),n&&t.size>e.maxSize){const{sdk:e,autoDestroy:o,referenceCount:i}=n;o&&i<=0&&(t.delete(r),e.destroy(),ne(`AutoDestroy excess instance [${r}]`))}e.timer=setTimeout((()=>{e._destroySdk()}),e.duration)}};Ge.eventBus=new r.Z,Ge.EVENTS={SPACE_CHANGE:"space_change"},Ge.sdkList=new Map,Ge.maxFolderDepth=10,Ge.space="",Ge.TeaReporter=null,Ge.duration=6e4,Ge.maxSize=3,Ge.timer=setTimeout((()=>{Ge._destroySdk()}),Ge.duration),Ge.dependencies=void 0,Ge._initLocker=new Pe,Ge.awaitInitQueue=new Map;let We=Ge;class Ve{constructor(){this._store=(0,s.MT)("lv-ever-cloud","lv-ever-cloud-url")}async tryGetSource(e){return await(0,s.U2)(e,this._store)}async saveSourceBlob({key:e,buffer:t}){return await(0,s.t8)(e,t,this._store)}async delSource(e){return await(0,s.IV)(e,this._store)}}const qe=new Proxy({},{get:(e,t)=>{switch(t){case"setOptions":case"options":case"space":case"init":case"setCachePlugin":case"onSpaceChange":case"changeSpace":case"setTeaReporter":case"isRootFolderId":case"rootFolderId":case"maxFolderDepth":case"setDependencies":case"destroySdk":case"getSdkInstance":case"setNoSignOptions":case"noSignInit":case"initNoSignSdk":case"prefetchWasmCode":case"TeaReporter":case"sdkList":case"supportImageResolutions":case"$$typeof":return We[t];default:const e=We.sdk;return e?"function"==typeof e[t]?e[t].bind(e):e[t]:void console.warn(`EverCloud:EverCloudBaseCore.${String(t)} ever-sdk \u672a\u521d\u59cb\u5316`)}}}),$e={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/privacy-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/privacy-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/privacy-policy";case"es-LA":return"https://www.capcut.com/es-es/privacy-policy";case"pt-BR":return"https://www.capcut.com/pt-br/privacy-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/privacy-policy";case"de-DE":return"https://www.capcut.com/de-de/privacy-policy";case"it-IT":return"https://www.capcut.com/it-it/privacy-policy";case"th-TH":return"https://www.capcut.com/th-th/privacy-policy";case"id-ID":return"https://www.capcut.com/id-id/privacy-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/privacy-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/privacy-policy";case"ms-MY":return"https://www.capcut.com/ms-my/privacy-policy";default:return"https://www.capcut.com/privacy-policy"}},GOOGLE_PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/terms-of-service";case"ja-JP":return"https://www.capcut.com/ja-jp/terms-of-service";case"ko-KR":return"https://www.capcut.com/ko-kr/terms-of-service";case"es-LA":return"https://www.capcut.com/es-es/terms-of-service";case"pt-BR":return"https://www.capcut.com/pt-br/terms-of-service";case"fr-FR":return"https://www.capcut.com/fr-fr/terms-of-service";case"de-DE":return"https://www.capcut.com/de-de/terms-of-service";case"it-IT":return"https://www.capcut.com/it-it/terms-of-service";case"th-TH":return"https://www.capcut.com/th-th/terms-of-service";case"id-ID":return"https://www.capcut.com/id-id/terms-of-service";case"vi-VN":return"https://www.capcut.com/vi-vn/terms-of-service";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/terms-of-service";case"ms-MY":return"https://www.capcut.com/ms-my/terms-of-service";default:return"https://www.capcut.com/terms-of-service"}},COOKIE_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},MATERIALS_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/material-license-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/material-license-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/material-license-agreement";case"es-LA":return"https://www.capcut.com/es-es/material-license-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/material-license-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/material-license-agreement";case"de-DE":return"https://www.capcut.com/de-de/material-license-agreement";case"it-IT":return"https://www.capcut.com/it-it/material-license-agreement";case"th-TH":return"https://www.capcut.com/th-th/material-license-agreement";case"id-ID":return"https://www.capcut.com/id-id/material-license-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/material-license-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/material-license-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/material-license-agreement";default:return"https://www.capcut.com/material-license-agreement"}},CREATOR_AGREEMENT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/creator-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/creator-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/creator-agreement";case"es-LA":return"https://www.capcut.com/es-es/creator-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/creator-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/creator-agreement";case"de-DE":return"https://www.capcut.com/de-de/creator-agreement";case"it-IT":return"https://www.capcut.com/it-it/creator-agreement";case"th-TH":return"https://www.capcut.com/th-th/creator-agreement";case"id-ID":return"https://www.capcut.com/id-id/creator-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/creator-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/creator-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/creator-agreement";default:return"https://www.capcut.com/creator-agreement"}},COMMUNITY_GUIDELINE:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/community-guideline";case"ja-JP":return"https://www.capcut.com/ja-jp/community-guideline";case"ko-KR":return"https://www.capcut.com/ko-kr/community-guideline";case"es-LA":return"https://www.capcut.com/es-es/community-guideline";case"pt-BR":return"https://www.capcut.com/pt-br/community-guideline";case"fr-FR":return"https://www.capcut.com/fr-fr/community-guideline";case"de-DE":return"https://www.capcut.com/de-de/community-guideline";case"it-IT":return"https://www.capcut.com/it-it/community-guideline";case"th-TH":return"https://www.capcut.com/th-th/community-guideline";case"id-ID":return"https://www.capcut.com/id-id/community-guideline";case"vi-VN":return"https://www.capcut.com/vi-vn/community-guideline";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/community-guideline";case"ms-MY":return"https://www.capcut.com/ms-my/community-guideline";default:return"https://www.capcut.com/community-guideline"}}};const Xe={BELOW_VERSION:40008,INSUFFICIENT_SPACE:20113,INVALID_IDC:1037},Ke="COOKIE_CONSENT_PROMPT_CONFIG";var Ye=(e=>(e.DEFAULT="DEFAULT",e.COMMERCE="COMMERCE",e.FRONTIER="FRONTIER",e.TTS="TTS",e))(Ye||{});const ze="object"==typeof navigator&&/(capcut.*lv\/([\d+.]+)|lv\/([\d+.]+).*capcut)/i.test(navigator.userAgent),Je=String.fromCharCode(98),Ze=String.fromCharCode(115),Qe=String.fromCharCode(116),et=String.fromCharCode(121),tt=`${Je}${et}${Qe}evcloudapi`,nt=`${Je}${et}${Qe}ed`;function rt({region:e}){const t={imageHost:"",videoHost:"",videoFallbackHost:null,imageFallbackHost:null};switch(e){case"us":t.videoHost=`https://vod-us-east-1.${tt}.com`,t.imageHost=`https://imagex-us-east-1.${tt}.com`,t.videoFallbackHost=`https://open-us-east-1.${tt}.com`,t.imageFallbackHost=`https://open-us-east-1.${tt}.com`;break;case"gcp":t.videoHost=`https://vod-us-east-2.${tt}.com`,t.imageHost=`https://imagex-us-east-2.${tt}.com`,t.videoFallbackHost=`https://open-us-east-2.${tt}.com`,t.imageFallbackHost=`https://open-us-east-2.${tt}.com`;break;case"sg":t.videoHost=`https://vod-ap-singapore-1.${tt}.com`,t.imageHost=`https://imagex-ap-singapore-1.${tt}.com`,t.videoFallbackHost=`https://open-ap-singapore-1.${tt}.com`,t.imageFallbackHost=`https://open-ap-singapore-1.${tt}.com`;break;case"US-TTP":t.videoHost="https://api16-normal-useast5.us.tiktokv.com/top/v1",t.imageHost="https://api16-normal-useast5.us.tiktokv.com/top/v1",t.videoFallbackHost="https://api19-normal-useast5.us.tiktokv.com/top/v1";break;case"boe":t.videoHost=`https://staging-openapi-${Je}oe.${nt}.org`,t.imageHost=`https://staging-openapi-${Je}oe.${nt}.org`;break;case"boei18n":t.videoHost=`https://vas-${Je}oei18n.${nt}ance.net`,t.imageHost=`https://vas-${Je}oei18n.${nt}ance.net`;break;default:t.videoHost=`https://vod.${nt}anceapi.com`,t.imageHost=`https://imagex.${nt}anceapi.com`,t.videoFallbackHost=`https://vas-lf-x.${Ze}ns${Ze}dk.com`,t.imageFallbackHost=`https://open.${nt}anceapi.com`}return t}class ot{constructor(e){this.uploader=null,this.auth=e}async init(){if(!this.uploader){await this.auth.init();const e=Object.assign({getSliceFunc:e=>e>209715200?10485760:2097152,uploadSliceCount:3},this.auth.getConfig());e.videoHost||delete e.videoHost,e.imageHost||delete e.imageHost;const{default:t}=await Promise.all([n.e(592),n.e(444),n.e(425),n.e(29),n.e(542),n.e(430),n.e(294),n.e(922),n.e(377),n.e(52),n.e(435),n.e(774),n.e(54),n.e(880),n.e(375),n.e(933),n.e(188),n.e(408),n.e(611),n.e(429),n.e(634),n.e(458),n.e(550),n.e(873)]).then(n.t.bind(n,49220,23));this.uploader=new t({...rt({region:e.region}),...e})}return this.uploader}async upload(e){const{file:t,type:n="image",onSuccess:r,onProgress:o,onError:i,onStart:a}=e,s=await this.init(),c=s.addFile({file:t,stsToken:this.auth.getStsToken(),type:n});s.start(c),null==a||a(c,t),s.on("progress",(async e=>{e.key===c&&(null==o||o({key:c,...e}))})),s.on("complete",(async e=>{e.key===c&&(null==r||r({key:c,...e.uploadResult}))}));let l=0;return s.on("error",(async e=>{var t,n;e.key===c&&([100026,100028].includes(Number(null==(t=null==e?void 0:e.extra)?void 0:t.errorCode))&&l<1&&(l++,await this.auth.init(),s.refreshSTSToken(this.auth.getStsToken()),s.resart)?null==(n=null==s?void 0:s.restart)||n.call(s):null==i||i(e))})),s}async cancel(e){var t;return null==(t=this.uploader)?void 0:t.cancel(e)}}function it(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function at(e){var t;const n={url:e.baseURL&&e.url?it(e.baseURL,e.url):"",method:null==(t=null==e?void 0:e.method)?void 0:t.toUpperCase(),params:"string"==typeof e.params?JSON.parse(e.params):e.params,data:"string"==typeof e.data?JSON.parse(e.data):e.data,needCommonParams:!0,responseType:e.responseType??"json"};return u.ZP.app.fetch(n)}async function st(e){const t=await at(e);return new Promise(((n,r)=>{if(1!==t.code)r(t);else try{!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new i.d7("Request failed with status code "+n.status,[i.d7.ERR_BAD_REQUEST,i.d7.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}(n,r,{data:JSON.parse(t.data.response),status:t.data.status,config:e,request:at})}catch(o){r(o)}}))}class ct{constructor(){this._hasBeenDone=!1,this._isIniting=!1,this._initCostTimes=void 0,this._waitingResolvers=new Set,this._waitingResolverMap=new Map}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let n,r;const o=Promise.race([new Promise(((e,t)=>{n=[()=>{clearTimeout(r),e()},t],this._waitingResolvers.add([n,t])})),new Promise(((e,o)=>{r=setTimeout((()=>{this._waitingResolvers.delete(n),o(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,o),o}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const n of this._waitingResolvers)t?n[1](this.rejectResult):n[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}}const lt="custom-request-domain";const ut=new class{constructor(){this._locker=new ct}getWebDomain(){return this._userRequestDomain.domain.web_domain}updateRequestDomain(e){e.domain&&(this._locker.hasBeenDone||this._locker.initDone(),this._userRequestDomain=e)}async baseRequestInterceptors(e){var t,n,r,o,i,a,s;const c=null==(t=e.baseURL)?void 0:t.startsWith("https");(null==(n=null==e?void 0:e[lt])||!n.skipAwaitLocker)&&!c&&await this._locker.awaitForInit();const l=null==(r=null==e?void 0:e[lt])?void 0:r.domain,u=(null!=e&&e.useCommerceApi?Ye.COMMERCE:Ye.DEFAULT)===Ye.COMMERCE?null==(i=null==(o=this._userRequestDomain)?void 0:o.domain)?void 0:i.commerce_domain:ze?"https://mweb-api.capcutapi.com":null==(s=null==(a=this._userRequestDomain)?void 0:a.domain)?void 0:s.web_domain,d=l||u;return!c&&d&&(e.baseURL=`${l||d}${e.baseURL}`),{...e,withCredentials:!0}}createAxios(e){const t=ze?o.default.create({...e,adapter:st}):o.default.create(e);return t.interceptors.request.use(this.baseRequestInterceptors.bind(this)),t}},dt=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);const pt="custom-axios-retry",ft=["get","head","options"].concat(["put","delete"]);function ht(e){const t=(null==e?void 0:e[pt])||{canRetry:!0};return t.retryCount=t.retryCount||0,t}const _t=()=>0;function mt(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&function(e){return!dt.has(e&&e.code)}(e)}function gt(e){return mt(e)||function(e){return!!e.config&&function(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}(e)&&-1!==ft.indexOf(e.config.method)}(e)}function vt(e,t){return e.interceptors.request.use((e=>{const t=ht(e);return t.lastRequestTime=Date.now(),e[pt]=t,e})),e.interceptors.response.use(void 0,(n=>{const{config:r}=n;if(!r)return Promise.reject(n);const{retries:o=5,isRetry:i=gt,retryDelay:a=_t,resetTimeout:s=!1}=Object.assign({},t,null==r?void 0:r[pt]),c=ht(r);if(i(n)&&c.canRetry&&(-1===o||c.retryCount<o)){c.retryCount+=1;const t="number"==typeof a?a:a(c.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!s&&r.timeout&&c.lastRequestTime){const e=Date.now()-c.lastRequestTime;r.timeout=Math.max(r.timeout-e-t,1)}return r.transformRequest=[e=>e],new Promise((n=>setTimeout((()=>n(e(r))),t)))}return Promise.reject(n)})),e}function wt({url:e,pf:t,appvr:n,tdid:r}){const o=Math.floor(Date.now()/1e3);return{sign:p()(`9e2c|${e.slice(-7)}|${t}|${n}|${o}|${r}|11ac`).toLowerCase(),"device-time":o}}const Et={baseURL:"",method:"POST",headers:{loc:$e.CHANNEL,lan:l.ZP.language||$e.LAN,pf:$e.APP_PF,appvr:$e.VERSION,tdid:"","sign-ver":1,"app-sdk-version":$e.APP_SDK_VERSION}},yt=ut.createAxios(Et);yt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),vt(yt,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:e=>{var t;return Number(null==(t=null==e?void 0:e.data)?void 0:t.ret)!==Xe.INVALID_IDC}});const At={async getEverPhotoToken(){const e="/lv/v1/ever_photo/get_token",{pf:t,appvr:n,tdid:r}=Et.headers;return await yt({url:e,data:{},headers:{...wt({url:e,...Et.headers,pf:t,appvr:n,tdid:r})}})},async getWorkspaceEverPhotoToken(){const e="/cc/v1/workspace/get_ever_photo_token",{pf:t,appvr:n,tdid:r}=Et.headers;return await yt({url:e,data:{},headers:{...wt({url:e,...Et.headers,pf:t,appvr:n,tdid:r})}})},async getEverPhotoUserSpace(e){const t="/lv/v1/ever_photo/get_user_space",{pf:n,appvr:r,tdid:o}=Et.headers;return await yt({url:t,data:{workspace_id:e},headers:{...wt({url:t,...Et.headers,pf:n,appvr:r,tdid:o})}})},async promoteAsset(e){const t="/lv/v1/ever_photo/promote_asset",{pf:n,appvr:r,tdid:o}=Et.headers;return await yt({url:t,data:{asset_id:e.assetId,space_id:e.spaceId,workspace_id:e.workspaceId},headers:{...wt({url:t,...Et.headers,pf:n,appvr:r,tdid:o})}})}};var bt=(e=>(e.video="video",e.image="image",e))(bt||{});const Tt={baseURL:"/lv/v1",method:"POST",headers:{loc:$e.CHANNEL,lan:l.ZP.language||$e.LAN,pf:$e.APP_PF,appvr:$e.VERSION,tdid:"","sign-ver":1,"app-sdk-version":$e.APP_SDK_VERSION},params:{}},St=ut.createAxios(Tt);let Ct;St.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),vt(St,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:e=>{var t;return"200206"!==(null==(t=null==e?void 0:e.data)?void 0:t.ret)}});const It=()=>Ct?{[lt]:{domain:Ct}}:{},Pt={fixRequestDomain(){Ct=ut.getWebDomain()},async getUploadToken(e="video"){const t="/upload_sign";return await St({url:t,headers:{...wt({url:`${Tt.baseURL}${t}`,...Tt.headers})},data:{key_version:"v5",biz:{video:"web_video",image:"replicate"}[e]},...It()})},async createVideoData(e){const t="/upload/create_upload_task";return(await St({url:t,headers:{...wt({url:`${Tt.baseURL}${t}`,...Tt.headers})},data:e,...It()})).task_id},async getVideoTaskInfo(e){const t="/upload/get_upload_task";return await St({url:t,[pt]:{canRetry:!1},headers:{...wt({url:`${Tt.baseURL}${t}`,...Tt.headers})},data:e,...It()})}};class Lt{static getString(e){return c.Z.get(e)}static setString(e,t,n){c.Z.set(e,t,{expires:n?new Date(n):void 0})}static getJson(e){const t=c.Z.get(e);let n=null;if(!t)return null;try{n=JSON.parse(t)}catch(r){console.error("CookiesTool JSON parse Error:",r)}return n}static removeItem(e){c.Z.remove(e)}}class Ot{}class Rt extends Ot{constructor(e){super(),this.props=e}async init(){const e=await Pt.getUploadToken();this.stsToken={AccessKeyId:e.access_key_id,SecretAccessKey:e.secret_access_key,SessionToken:e.session_token,ExpiredTime:e.expired_time,CurrentTime:e.current_time},this.config={userId:"unknow",appId:Number($e.APP_ID),...this.props,videoConfig:{spaceName:e.space_name}}}getStsToken(){return this.stsToken}getConfig(){return this.config}}class kt extends Ot{constructor(e){super(),this.props=e}async init(){const e=await Pt.getUploadToken(bt.image);this.stsToken={AccessKeyId:e.access_key_id,SecretAccessKey:e.secret_access_key,SessionToken:e.session_token,ExpiredTime:e.expired_time,CurrentTime:e.current_time},this.config={userId:"unknow",appId:Number($e.APP_ID),...this.props,videoConfig:{spaceName:e.space_name}}}getStsToken(){return this.stsToken}getConfig(){return this.config}}class Nt{constructor(){_(this,"event","evercloud_sdk_get_token"),_(this,"data",{})}addParams(e){this.data=(0,a.merge)({},this.data,e)}}const{wasm_url:xt}=f,Dt=String.fromCharCode(98),Ht=String.fromCharCode(116),Mt=new Map;qe.setDependencies({apiFunc:{getEverPhotoToken:async e=>{var t,n,r,o,i,a,s;const c=Date.now(),l=new Nt;try{const r=await At.getWorkspaceEverPhotoToken();return l.addParams({code:"0",msg:"success",costTime:Date.now()-c,lastReqTime:Mt.has(e)?Date.now()-Mt.get(e):void 0,spaceId:e}),Mt.set(e,Date.now()),null==(n=null==(t=null==qe?void 0:qe.TeaReporter)?void 0:t.event)||n.call(t,l.event,l.data),r}catch(u){throw l.addParams({code:null==(r=null==u?void 0:u.data)?void 0:r.ret,msg:null==(o=null==u?void 0:u.data)?void 0:o.errmsg,costTime:Date.now()-c,lastReqTime:Mt.has(e)?Date.now()-Mt.get(e):void 0,spaceId:e,logId:null==(i=null==u?void 0:u.data)?void 0:i.log_id}),Mt.set(e,Date.now()),null==(s=null==(a=null==qe?void 0:qe.TeaReporter)?void 0:a.event)||s.call(a,l.event,l.data),u}},getVideoTaskInfo:Pt.getVideoTaskInfo,createVideoData:Pt.createVideoData,getEverPhotoUserSpace:At.getEverPhotoUserSpace,promoteAsset:At.promoteAsset},getUploader:(e,t)=>{const n="video"===t?Rt:kt;let r,o;if(e.isBoe)r=`https://vas-${Dt}oei18n.${Dt}y${Ht}edance.ne${Ht}`,o="boei18n";else switch(e.newIdc){case"useast2a":o="gcp";break;case"sg1":o="sg";break;default:o="us"}return new ot(new n({userId:e.uniqueId,region:o,videoHost:e.videoHost?e.videoHost:r,imageHost:e.videoHost?e.videoHost:r,_getToken:Pt.getUploadToken,...e.videoUploader,...e.imgUploader}))},getFileCopyName:function(e="",t=[]){const[n,r]=function(e=""){const t=e.split(".");return t.length<=1?[e,""]:[t.slice(0,-1).join("."),t[t.length-1]]}(e);let o=0,i=`${n}-${r?".":""}${r}`;for(;t.includes(i);)o++,i=`${n}-${o}${r?".":""}${r}`;return i},overwriteSDKInitOptions:async e=>{var t,n;const r=!(e.is_boe||null!=(t=e.netconf)&&t.base);if(r){const t={gcp:{base:"everphoto-gcp.capcut.com",media:"everphoto-media-gcp.capcut.com",is_https:!0},va:{base:"everphoto-va.capcut.com",media:"everphoto-media-va.capcut.com",is_https:!0}};let n;switch(e.dc_name){case S.GCP:n=t.gcp;break;case S.VA:n=t.va;break;default:throw new Error("not found dc_name, please check")}e.netconf=n}const o=Lt.getJson(Ke);if(!e.is_boe&&null!=(n=null==o?void 0:o.settings)&&n.firstPartyAnalytics){const t=(e,t)=>{const n=qe.TeaReporter;return new Promise((r=>{n.getVar(e,t,(e=>{r(e)}))}))},n=await t("evpt_conf_params_v3",{is_xml:!1,chunk_size:5}),o=await t("evpt_conf_params_v5",{is_part_upload:!1,chunk_size:20,timeout:300,max_count_of_concurrent_upload:5});if(null!=n&&n.is_xml?(e.backup_conf={chunk_size:n.chunk_size,is_xhr:!0},e.timeout={...e.timeout,upload:180}):e.backup_conf={is_xhr:!1},r){const n=await t("evpt_conf_params_v4",{is_new_domain:!1});if(null!=n&&n.is_new_domian){const t={gcp:{base:(null==n?void 0:n.gcp)||"everphoto-gcp.capcut.com",media:"everphoto-media-gcp.capcut.com",is_https:!0},va:{base:(null==n?void 0:n.va)||"everphoto-va.capcut.com",media:"everphoto-media-va.capcut.com",is_https:!0}};let r;switch(e.dc_name){case S.GCP:r=t.gcp;break;case S.VA:r=t.va;break;default:throw new Error("not found dc_name, please check")}e.netconf=r}}null!=o&&o.is_part_upload&&(e.backup_conf={max_count_of_concurrent_upload:o.max_count_of_concurrent_upload,chunk_size:o.chunk_size,is_part_upload:!0},e.timeout={...e.timeout,upload:o.timeout})}return e.timeout={...e.timeout,upload:300},e.backup_conf={...e.backup_conf,is_part_upload:!0},e},constant:{sourceFrom:13,aid:"324442"}});const Ft=new Proxy(qe,{get:(e,t,n)=>{switch(t){case"setOptions":return new Proxy(Reflect.get(e,t,n),{apply:async(e,t,n)=>(Ft.hasSetOptions||ut.updateRequestDomain({domain:n[0].reqDomain}),Reflect.apply(e,t,n))});case"setNoSignOptions":return new Proxy(Reflect.get(e,t,n),{apply:(e,t,n)=>(Ft.hasSetNoSignOptions||(ut.updateRequestDomain({domain:n[0].reqDomain}),Pt.fixRequestDomain()),Reflect.apply(e,t,n))});default:return Reflect.get(e,t,n)}}})},78933:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>C});var r=n(72322),o=n(18571),i=n(95291),a=n(44265);const s="byted-image-guide__custom-anchor",c=e=>{if("[object Window]"!==e.toString()){const{ownerDocument:t}=e;return t&&t.defaultView||window}return e};const l=e=>(function(e){return e instanceof c(e).Element||e instanceof Element}(e)?e.ownerDocument:e.document)||window.document,u=e=>l(e).documentElement,d=e=>c(e).getComputedStyle(e),p=e=>e?(e.nodeName||"").toLowerCase():"",f=e=>e&&"html"!==p(e)?e.assignedSlot||e.parentNode||e.host||u(e):e,h=e=>e instanceof c(e).HTMLElement||e instanceof HTMLElement,_=e=>["table","td","th"].indexOf(p(e))>=0;const m=e=>h(e)&&"fixed"!==d(e).position?e.offsetParent:null,g=(e,t)=>{const n=c(e);null==t||t(e);let r=m(e);for(;r&&_(r)&&"static"===d(r).position;)null==t||t(r),r=m(r);return r||((e,t)=>{null==t||t(e);let n=f(e);for(;h(n)&&["html","body"].indexOf(p(n))<0;){null==t||t(n);const e=d(n);if("none"!==e.transform||"none"!==e.perspective||e.willChange&&"auto"!==e.willChange)return n;n=f(n)}return n})(e,t)||n},v=12,w=(e,t,n,r,o="bottom",i={x:0,y:0},a,s)=>{const c=e.getBoundingClientRect(),l=t.getBoundingClientRect(),u=n.getBoundingClientRect(),{scrollTop:f}=r,h="body"===p(n),_="fixed"===d(t).position,m=(e=>{let t=0;return g(e,(e=>{t+=e.offsetTop})),t})(t),w=a?0:f,E=_?l.top:h?l.top+w:m,y=E,A=l.height+E,b=l.left-u.left,{width:T,height:S}=l,C={top:{top:y-c.height-v,left:b+T/2-c.width/2},bottom:{top:A+v,left:b+T/2-c.width/2},left:{top:y+S/2-c.height/2,left:b-c.width-v},right:{top:y+S/2-c.height/2,left:b+T+v},"top-right":{top:y-c.height-v,left:b+T-c.width},"top-left":{top:y-c.height-v,left:b},"bottom-right":{top:A+v,left:b+T-c.width},"bottom-left":{top:A+v,left:b},"right-top":{top:y,left:b+T+v},"left-top":{top:y,left:b-c.width-v},"right-bottom":{top:A-c.height,left:b+T+v},"left-bottom":{top:A-c.height,left:b-c.width-v}},I=i.x||0,P=i.y||0,L=C[o],O={x:0,y:0};return s&&(L.left<0?O.x=0-L.left:L.left+c.width>innerWidth&&(O.x=innerWidth-(L.left+c.width)),L.top<0?O.y=0-L.top:L.top+c.height>innerHeight&&(O.y=innerHeight-(L.top+c.height))),{position:_?"fixed":"absolute",top:L.top+P+O.y,left:L.left+I+O.x,fixedOffset:O}},E=e=>({bottom:"top",top:"bottom",left:"right",right:"left"}[e]),y={NEXT_STEP:{zh:"\u4e0b\u4e00\u6b65",en:"Next step",ja:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7"},I_KNOW:{zh:"\u6211\u77e5\u9053\u4e86",en:"I know",ja:"\u77e5\u3063\u3066\u308b"},STEP_NUMBER:{zh:(e,t)=>`\u7b2c${e}\u6b65\uff0c \u5171${t}\u6b65`,en:(e,t)=>`Step ${e} of ${t}`,ja:(e,t)=>`Step ${e} of ${t}`},PREV_STEP:{zh:"\u4e0a\u4e00\u6b65",en:"Previous step",ja:"\u524d\u3078"}};const A=(0,o.forwardRef)((({className:e,anchorEl:t,realWindow:n,updateOnScroll:a,stopPropagation:s},c)=>{const[d,p]=(0,o.useState)({}),f=(0,o.useRef)(0),h=()=>{const e=((e,t)=>{const n=u(e),{scrollWidth:r,scrollTop:o}=n;let{scrollHeight:i}=n;i=Math.min(i,n.getBoundingClientRect().height),n.style.overflow="hidden";const a=e.getBoundingClientRect(),{height:s,width:c,left:l}=a,d=t?0:o,p=a.top+d;return{width:r,height:i,borderTopWidth:Math.max(p,0),borderBottomWidth:Math.max(i-s-p,0),borderRightWidth:Math.max(r-c-l,0),borderLeftWidth:Math.max(l,0)}})(t,a);p(e)},_=()=>{f.current&&n.cancelAnimationFrame(f.current),f.current=n.requestAnimationFrame((()=>{h()}))};(0,o.useEffect)((()=>{h()}),[t]),(0,o.useEffect)((()=>(n.addEventListener("resize",_),()=>{n.removeEventListener("resize",_)})),[n,t]),(0,o.useImperativeHandle)(c,(()=>({update:()=>h()})));const m=e=>{s&&e.stopPropagation()};return t?i.createPortal((0,r.jsx)("div",{className:`guide-mask ${e}`,style:d,onClick:m,onMouseUp:m,onMouseDown:m}),l(t).body):null}));A.displayName="Mask";const b=({size:e="16",fill:t="#666",onClick:n=(()=>{}),className:o=""})=>(0,r.jsx)("div",{onClick:n,className:o,children:(0,r.jsx)("svg",{width:e,height:e,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("g",{children:(0,r.jsxs)("g",{children:[(0,r.jsx)("rect",{fillOpacity:"0.01",fill:"#FFFFFF",x:"0",y:"0",width:"48",height:"48",strokeWidth:"4",stroke:"none",fillRule:"evenodd"}),(0,r.jsx)("path",{d:"M14,14 L34,34",stroke:t,strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"}),(0,r.jsx)("path",{d:"M14,34 L34,14",stroke:t,strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd"})]})})})}),T="guide-modal",S=(0,o.forwardRef)((({anchorEl:e,parentEl:t,realWindow:n,steps:s,stepIndex:c,mask:l,arrow:_,hotspot:m,closable:g,onClose:y,onChange:A,onClickClose:S,onClickOk:C,stepText:I,nextText:P,skipText:L,okText:O,className:R,TEXT:k,prevText:N,showPreviousBtn:x,showSkipBtn:D,closeEle:H,blurToNext:M,showFooter:F,onScroll:j,updateOnScroll:U,autoFixPosition:B,stopPropagation:G},W)=>{const V=s[c],q=!Object.prototype.hasOwnProperty.call(V,"visible")||V.visible,$=(0,o.useRef)(null),X=(0,o.useRef)(0),K=(0,o.useRef)(0),[Y,z]=(0,o.useState)({}),[J,Z]=(0,o.useState)({}),[Q,ee]=(0,o.useState)({}),te=(0,o.useMemo)((()=>((e,t)=>{let n=f(e);for(;h(n)&&["html","body"].indexOf(p(n))<0;){const e=d(n),{overflowY:r}=e,o="visible"!==r&&"hidden"!==r;if(null==t||t(n),o&&n.scrollHeight>n.clientHeight)return n;n=n.parentNode}return u(e)})(e)),[e]),ne=c!==s.length-1?P||k("NEXT_STEP"):O||k("I_KNOW"),re=N||k("PREV_STEP"),oe=L||k("SKIP_STEP"),ie=I||k("STEP_NUMBER"),ae=()=>{const{placement:n,offset:r}=V,o=$.current;if(!o)return;const i=w(o,e,t,te,n,r,U,B),a=((e,t="bottom",n=!1,r=14,o={x:0,y:0})=>{const i=e.getBoundingClientRect(),[a,s]=t.split("-"),c={boxShadow:n?"none":{top:"1px 1px 1px 0px #ccc",right:"-1px 1px 1px 0px #ccc",bottom:"-1px -1px 1px 0px #ccc",left:"1px -1px 1px 0px #ccc"}[a],[E(a)]:-6,transform:{top:"rotate(45deg)",right:"rotate(135deg)",bottom:"rotate(225deg)",left:"rotate(315deg)"}[a]},l=(e,t)=>{const n=["top","bottom"].includes(t)?i.height:i.width;return Math.min(Math.max(e,2*r),n-2*r-12)};if(s){const e={top:-o.y,bottom:o.y,left:-o.x,right:o.x};return{[s]:l(2*r+e[s],s),...c}}{const e={};return["bottom","top"].includes(a)&&(e.right=l((i.width-12)/2+o.x,"right")),["left","right"].includes(a)&&(e.top=l((i.height-12)/2-o.y,"top")),{...e,...c}}})(o,n,l,void 0,i.fixedOffset),s=((e="bottom",t)=>{const[n,r]=e.split("-"),o=E(n);return["top","bottom"].includes(n)?r&&"right"!==r?{[o]:t[o]-24,left:t.left-3}:{[o]:t[o]-24,right:t.right-3}:["right","left"].includes(n)?r&&"top"!==r?{bottom:t.bottom-3,[o]:t[o]-24}:{top:t.top-3,[o]:t[o]-24}:t})(n,a);z(i),Z(a),ee(s)},se=()=>{var e;null==(e=V.beforeStepChange)||e.call(V,V,c,s),A(1)},ce=()=>{null==S||S(),null==y||y()},le=e=>{G&&e.stopPropagation()};(0,a.Z)((()=>$.current),(()=>{M&&se()}));const ue=()=>{X.current&&n.cancelAnimationFrame(X.current),X.current=n.requestAnimationFrame((()=>{ae()}))};(0,o.useEffect)((()=>{if(V.skip)A(1);else if(q)return K.current=0,(()=>{const t=$.current,n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=te.getBoundingClientRect(),i="html"===p(te),a=te.clientHeight,s=i?0:o.top;if((n.top-s+n.height+r.height+v>=a||n.top<=r.height+v)&&te.scrollTo({left:0,top:te.scrollTop+n.top-s+n.height/2-a/2+v,behavior:"smooth"}),"html"===p(te))return;const c=u(e);(o.top+o.height>=window.innerHeight||o.bottom>o.height)&&c.scrollTo({left:0,top:c.scrollTop+o.top+o.height/2-window.innerHeight/2+v,behavior:"smooth"})})(),ae(),n.addEventListener("resize",ue),()=>{n.removeEventListener("resize",ue)}}),[q,V,e]);const de=(0,o.useRef)(j);return de.current=j,(0,o.useEffect)((()=>{if(!te)return;const e=()=>{var e;return null==(e=de.current)?void 0:e.call(de)};return te.addEventListener("scroll",e),()=>{te.removeEventListener("scroll",e)}}),[te]),(0,o.useImperativeHandle)(W,(()=>({update:()=>ae()}))),q?i.createPortal((0,r.jsxs)("div",{ref:$,className:`${T} ${R}`,style:Y,onClick:le,onMouseUp:le,onMouseDown:le,children:[_&&(0,r.jsx)("span",{className:`${T}-arrow`,style:J}),m&&(0,r.jsx)("div",{className:`${T}-hotspot`,style:Q}),H?(0,r.jsx)("div",{className:`${T}-close-icon`,onClick:ce,children:H}):g?(0,r.jsx)(b,{className:`${T}-close-icon`,onClick:ce}):null,V.title&&(0,r.jsx)("div",{className:`${T}-title`,children:V.title}),(0,r.jsx)("div",{className:`${T}-content`,children:"function"==typeof V.content?V.content():V.content}),F&&(0,r.jsxs)("div",{className:`${T}-footer`,children:[(0,r.jsx)("span",{className:`${T}-footer-text`,children:ie(c+1,s.length)}),(0,r.jsxs)("div",{className:`${T}-footer-btn-group`,children:[D&&(0,r.jsx)("button",{className:`${T}-footer-btn ${T}-footer-skip-btn`,onClick:y,type:"button",children:oe}),x&&0!==c&&(0,r.jsx)("button",{className:`${T}-footer-btn ${T}-footer-prev-btn`,onClick:()=>{var e;null==(e=V.beforeStepChange)||e.call(V,V,c,s),A(-1)},type:"button",children:re}),(0,r.jsx)("button",{className:`${T}-footer-btn ${T}-footer-next-btn`,onClick:()=>{se(),null==C||C()},type:"button",children:ne})]})]})]}),t):null}));S.displayName="Modal";const C=e=>{const{steps:t,localKey:n,mask:i=!0,arrow:a=!0,hotspot:d=!1,closable:p=!0,modalClassName:f="",maskClassName:h="",expireDate:_="",step:m=0,beforeStepChange:v,afterStepChange:w,onClose:E,onClickOk:b,onClickClose:T,stepText:C,prevText:I,nextText:P,skipText:L,okText:O,lang:R="zh",showPreviousBtn:k=!1,showSkipBtn:N=!1,closeEle:x,blurToNext:D=!1,showFooter:H=!0,updateOnScroll:M=!1,stopPropagation:F=!1,autoFixPosition:j=!1}=e,[U,B]=(0,o.useState)(-1),[G,W]=(0,o.useState)(""),[V,q]=(0,o.useState)(0),$=(0,o.useRef)(null),X=(0,o.useRef)(null),K=(0,o.useMemo)((()=>function(e="zh"){return t=>{var n;return null==(n=y[t])?void 0:n[e]}}(R)),[R]),Y=!Object.prototype.hasOwnProperty.call(e,"visible")||e.visible,z=(0,o.useMemo)((()=>{if(U>=0&&U<t.length){const{targetPos:e,selector:n}=t[U];if(n)return(e=>{const t=typeof e;return"string"===t?document.querySelector(e):"function"===t?e():e})(n);if(e)return(e=>{const t=document.querySelector(s);t&&document.body.removeChild(t);const n=document.createElement("div");return n.className=s,Object.entries(e).forEach((([e,t])=>{n.style[e]=`${t}px`})),document.body.appendChild(n),n})(e)}return null}),[U,t[U],V]),J=(0,o.useRef)(!1),Z=()=>{J.current||(J.current=!0,requestAnimationFrame((()=>{J.current=!1,q((e=>e+1))})))},Q=(0,o.useRef)(3),ee=(0,o.useRef)(),te=(0,o.useMemo)((()=>{const e=null==z?void 0:z.getBoundingClientRect();return function(e,t){return e&&t?["x","y","width","height","top","right","bottom","left"].every((n=>e[n]===t[n])):e===t}(ee.current,e)?Q.current>0&&(Q.current--,Z()):(Q.current=3,Z()),ee.current=e,e}),[V,z]);(0,o.useEffect)((()=>{var e,t;null==(e=$.current)||e.update(),null==(t=X.current)||t.update()}),[null==te?void 0:te.x,null==te?void 0:te.y,null==te?void 0:te.width,null==te?void 0:te.height]);const ne=(0,o.useMemo)((()=>z?"body"===t[U].parent||i?l(z).body:g(z):null),[z]),re=(0,o.useMemo)((()=>z?c(z):null),[z]),oe=(0,o.useMemo)((()=>z?u(z):null),[z]),ie=()=>{i&&(oe.style.overflow=G);const e=document.querySelector(s);e&&document.body.removeChild(e),B(-1),null==E||E(),n&&localStorage.setItem(n,"true")},ae=e=>{(32===e.keyCode||13===e.keyCode)&&e.preventDefault()};(0,o.useEffect)((()=>{if(re&&oe)return re.addEventListener("keydown",ae),()=>{re.removeEventListener("keydown",ae)}}),[re,oe]),(0,o.useEffect)((()=>{if(Y){const e=!!n&&localStorage.getItem(n),t=new Date(Date.parse(_.replace(/-/g,"/")));!e&&(!_||new Date<=t)&&B(m)}else B(-1)}),[Y,m]),(0,o.useEffect)((()=>{U>=0&&(null==w||w(U,t[U]))}),[U]),(0,o.useEffect)((()=>{if(i&&oe){const e=oe.style.overflow;W(e||"auto")}}),[i,oe]),(0,o.useEffect)((()=>{if(U>=0){const e={childList:!0,subtree:!0},t=new MutationObserver((()=>{q((e=>e+1))}));return t.observe(document,e),()=>{t.disconnect()}}}),[U]);const se=(0,o.useCallback)((()=>{var e,t;M&&(null==(e=X.current)||e.update(),null==(t=$.current)||t.update())}),[M]);return(!i||G)&&ne&&z?(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(A,{ref:$,className:h,anchorEl:z,realWindow:re,updateOnScroll:M,stopPropagation:F}),(0,r.jsx)(S,{ref:X,anchorEl:z,parentEl:ne,realWindow:re,steps:t,stepIndex:U,mask:i,arrow:a,hotspot:d,closable:p,closeEle:x,onClose:ie,onChange:e=>{const n=Math.min(Math.max(U+e,0),t.length);n!==U&&(n===t.length?ie():U>=0&&(null==v||v(U,t[U])),B(n))},onClickClose:T,onClickOk:b,stepText:C,prevText:I,nextText:P,okText:O,skipText:L,className:f,TEXT:K,showPreviousBtn:k,showSkipBtn:N,blurToNext:D,showFooter:H,onScroll:se,updateOnScroll:M,autoFixPosition:j,stopPropagation:F})]}):null}},98410:(e,t,n)=>{"use strict";n.d(t,{u:()=>h});var r=n(93062),o=n(22169),i=(n(72322),n(18571));const a={HOME:{PATH:"/",LOCALE_PATH:"/:locale/",MATCHER:"/:locale*/",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CREATIVE_SUITE:{PATH:"/creative-suite",LOCALE_PATH:"/:locale/creative-suite",MATCHER:"/:locale*/creative-suite",HAS_LOCALE_PREFIX:!0,INDEXING:!0},WORKSPACE:{CHILD:{MY_DRAFT:{NAME:"my_draft",PATH:"/my-edit",LOCALE_PATH:"/my-edit",MATCHER:"/my-edit",HAS_LOCALE_PREFIX:!1},TEMPLATE:{NAME:"templates",PATH:"/templates",LOCALE_PATH:"/templates",MATCHER:"/templates",HAS_LOCALE_PREFIX:!1},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/templates/:id",MATCHER:"/templates/:id",HAS_LOCALE_PREFIX:!1},MAGIC_TOOLS:{NAME:"magic_tools",PATH:"/magic-tools",LOCALE_PATH:"/magic-tools",MATCHER:"/magic-tools",HAS_LOCALE_PREFIX:!1},RECENT_LISTS:{NAME:"recent",PATH:"/recent-list",LOCALE_PATH:"/recent-list",MATCHER:"/recent-list",HAS_LOCALE_PREFIX:!1},MY_FILM:{NAME:"my_file",PATH:"/my-film",LOCALE_PATH:"/my-film",MATCHER:"/my-film",HAS_LOCALE_PREFIX:!1},MY_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud",LOCALE_PATH:"/my-cloud",MATCHER:"/my-cloud",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud/:id",LOCALE_PATH:"/my-cloud/:id",MATCHER:"/my-cloud/:id",HAS_LOCALE_PREFIX:!1},MY_SHARE:{NAME:"share_records",PATH:"/my-share",LOCALE_PATH:"/my-share",MATCHER:"/my-share",HAS_LOCALE_PREFIX:!1},PROFILE:{NAME:"profile",PATH:"/profile",LOCALE_PATH:"/profile",MATCHER:"/profile",HAS_LOCALE_PREFIX:!1},SEARCH:{NAME:"search",PATH:"/search",LOCALE_PATH:"/search",MATCHER:"/search",HAS_LOCALE_PREFIX:!1}}},LOGIN:{PATH:"/login",LOCALE_PATH:"/:locale/login",MATCHER:"/:locale*/login",HAS_LOCALE_PREFIX:!0,INDEXING:!0},SIGN_UP:{PATH:"/signup",LOCALE_PATH:"/:locale/signup",MATCHER:"/:locale*/signup",HAS_LOCALE_PREFIX:!0,INDEXING:!0},DOWNLOAD_GUIDANCE:{PATH:"/download-guidance",LOCALE_PATH:"/download-guidance",MATCHER:"/download-guidance",HAS_LOCALE_PREFIX:!1},INVITE:{PATH:"/invite",LOCALE_PATH:"/:locale/invite",MATCHER:"/:locale*/invite",HAS_LOCALE_PREFIX:!0},FORGET_PWD:{PATH:"/forget-password",LOCALE_PATH:"/:locale/forget-password",MATCHER:"/:locale*/forget-password",HAS_LOCALE_PREFIX:!0},TEAM_INVITE:{PATH:"/team-invite/:id",LOCALE_PATH:"/:locale/team-invite/:id",MATCHER:"/:locale*/team-invite/:id",HAS_LOCALE_PREFIX:!0},LOGIN_STATUS:{PATH:"/loginStatus",LOCALE_PATH:"/loginStatus",MATCHER:"/loginStatus",HAS_LOCALE_PREFIX:!1},LOGIN_STATUS_SERVER:{PATH:"/lv/v1/user/web/login/third_callback"},COOPERATION:{DETAIL:{PID:"/view/:id",PATH:"/view/:id",LOCALE_PATH:"/view/:id",MATCHER:"/:locale*/view/:id",HAS_LOCALE_PREFIX:!1},EXPERIENCE:{PATH:"/view",LOCALE_PATH:"/view",MATCHER:"/view",HAS_LOCALE_PREFIX:!1},SHARE:{PID:"/share/:id",PATH:"/share/:id",LOCALE_PATH:"/share/:id",MATCHER:"/share/:id",HAS_LOCALE_PREFIX:!1},EMBED:{PID:"/embed/:id",PATH:"/embed/:id",LOCALE_PATH:"/embed/:id",MATCHER:"/embed/:id",HAS_LOCALE_PREFIX:!1},RENDER:{PID:"/render/:id",PATH:"/render/:id",LOCALE_PATH:"/render/:id",MATCHER:"/render/:id",HAS_LOCALE_PREFIX:!1},REPORT:{PID:"/report",PATH:"/report",LOCALE_PATH:"/report",MATCHER:"/report",HAS_LOCALE_PREFIX:!1}},TOKEN_AUTH:{PATH:"/tokenAuth",LOCALE_PATH:"/tokenAuth",MATCHER:"/tokenAuth",HAS_LOCALE_PREFIX:!1},EDITOR:{PATH:"/editor",LOCALE_PATH:"/editor",MATCHER:"/editor",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TIKTOK_AUTH:{PATH:"/tiktokAuth",LOCALE_PATH:"/tiktokAuth",MATCHER:"/tiktokAuth",HAS_LOCALE_PREFIX:!1},THIRD_PARTY_ENTRANCE:{PATH:"/third-party-entrance",LOCALE_PATH:"/third-party-entrance",MATCHER:"/third-party-entrance",HAS_LOCALE_PREFIX:!1},PASSPORT_LOGIN:{PATH:"/passport/web/web_login"},COOKIE_SETTINGS:{PATH:"/cookie-settings",LOCALE_PATH:"/:locale/cookie-settings",MATCHER:"/:locale*/cookie-settings",HAS_LOCALE_PREFIX:!0,INDEXING:!0},THIRDPARTY_CLOUD_STORAGE_AUTH:{PATH:"/thirdpartyCloudStorageAuth",LOCALE_PATH:"/thirdpartyCloudStorageAuth",MATCHER:"/thirdpartyCloudStorageAuth",HAS_LOCALE_PREFIX:!1},CAPCUT_APP:{PATH:"/tools/video-editing-app",LOCALE_PATH:"/:locale/tools/video-editing-app",MATCHER:"/:locale*/tools/video-editing-app",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CMS_TOOLS:{PATH:"/tools/:title",LOCALE_PATH:"/:locale/tools/:title",MATCHER:"/:locale*/tools/:title",HAS_LOCALE_PREFIX:!0},CMS_CREATE:{PATH:"/create/:title",LOCALE_PATH:"/:locale/create/:title",MATCHER:"/:locale*/create/:title",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE:{PATH:"/resource/:title",LOCALE_PATH:"/:locale/resource/:title",MATCHER:"/:locale*/resource/:title",HAS_LOCALE_PREFIX:!0},CMS_TOOLS_AGGREGATION:{PATH:"/tools",LOCALE_PATH:"/:locale/tools",MATCHER:"/:locale*/tools",HAS_LOCALE_PREFIX:!0},CMS_CREATE_AGGREGATION:{PATH:"/create",LOCALE_PATH:"/:locale/create",MATCHER:"/:locale*/create",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE_AGGREGATION:{PATH:"/resource",LOCALE_PATH:"/:locale/resource",MATCHER:"/:locale*/resource",HAS_LOCALE_PREFIX:!0},COLLECT_RESOURCE:{NAME:"collect-resource",PATH:"/collect-resource/:token",LOCALE_PATH:"/collect-resource/:token",MATCHER:"/collect-resource/:token",HAS_LOCALE_PREFIX:!1},EDITOR_TOOLS:{NAME:"editor-tools",PATH:"/editor-tools",LOCALE_PATH:"/editor-tools/:name",MATCHER:"/editor-tools/:name",HAS_LOCALE_PREFIX:!1,TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_AVATAR:{PATH:"/magic-tools/generate-portrait",LOCALE_PATH:"/magic-tools/generate-portrait",MATCHER:"/magic-tools/generate-portrait",HAS_LOCALE_PREFIX:!1},IMAGE_NIGHT_ENHANCE:{PATH:"/magic-tools/enhance-low-light-image",LOCALE_PATH:"/magic-tools/enhance-low-light-image",MATCHER:"/magic-tools/enhance-low-light-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-photo",LOCALE_PATH:"/magic-tools/stylize-photo",MATCHER:"/magic-tools/stylize-photo",HAS_LOCALE_PREFIX:!1},IMAGE_UPSCALER:{PATH:"/magic-tools/upscale-image",LOCALE_PATH:"/magic-tools/upscale-image",MATCHER:"/magic-tools/upscale-image",HAS_LOCALE_PREFIX:!1},IMAGE_AI_TONING:{PATH:"/magic-tools/correct-color",LOCALE_PATH:"/magic-tools/correct-color",MATCHER:"/magic-tools/correct-color",HAS_LOCALE_PREFIX:!1},IMAGE_COLORING:{PATH:"/magic-tools/ai-colorize",LOCALE_PATH:"/magic-tools/ai-colorize",MATCHER:"/magic-tools/ai-colorize",HAS_LOCALE_PREFIX:!1},IMAGE_RESTORATION:{PATH:"/magic-tools/ai-restore",LOCALE_PATH:"/magic-tools/ai-restore",MATCHER:"/magic-tools/ai-restore",HAS_LOCALE_PREFIX:!1},VIDEO_VIDEO_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-video",LOCALE_PATH:"/magic-tools/stylize-video",MATCHER:"/magic-tools/stylize-video",HAS_LOCALE_PREFIX:!1},VIDEO_UPSCALER:{PATH:"/magic-tools/upscale-video",LOCALE_PATH:"/magic-tools/upscale-video",MATCHER:"/magic-tools/upscale-video",HAS_LOCALE_PREFIX:!1},VIDEO_SLOW_MOTION:{PATH:"/magic-tools/make-slomo",LOCALE_PATH:"/magic-tools/make-slomo",MATCHER:"/magic-tools/make-slomo",HAS_LOCALE_PREFIX:!1},VIDEO_STABILIZATION:{PATH:"/magic-tools/stablize-video",LOCALE_PATH:"/magic-tools/stablize-video",MATCHER:"/magic-tools/stablize-video",HAS_LOCALE_PREFIX:!1},TRANSFORM:{PATH:"/editor-tools/transform",LOCALE_PATH:"/editor-tools/transform",MATCHER:"/editor-tools/transform",HAS_LOCALE_PREFIX:!1},CUTOUT:{PATH:"/editor-tools/cutout",LOCALE_PATH:"/editor-tools/cutout",MATCHER:"/editor-tools/cutout",HAS_LOCALE_PREFIX:!1},SCRIPT:{PATH:"/editor-tools/script",LOCALE_PATH:"/editor-tools/script",MATCHER:"/editor-tools/script",HAS_LOCALE_PREFIX:!1},AUTO_CUT:{PATH:"/editor-tools/autocut",LOCALE_PATH:"/editor-tools/autocut",MATCHER:"/editor-tools/autocut",HAS_LOCALE_PREFIX:!1},TEXT_TO_VIDEO:{PATH:"/editor-tools/convert-script-to-video",LOCALE_PATH:"/editor-tools/convert-script-to-video",MATCHER:"/editor-tools/convert-script-to-video",HAS_LOCALE_PREFIX:!1},U2V:{PATH:"/editor-tools/url-to-ads",LOCALE_PATH:"/editor-tools/url-to-ads",MATCHER:"/editor-tools/url-to-ads",HAS_LOCALE_PREFIX:!1},LONG_TO_SHORT:{PATH:"/editor-tools/long-video-to-shorts",LOCALE_PATH:"/editor-tools/long-video-to-shorts",MATCHER:"/editor-tools/long-video-to-shorts",HAS_LOCALE_PREFIX:!1}},TOOlS:{ONLINE:{PATH:"/tools/online-video-editor"},DESKTOP:{PATH:"/tools/desktop-video-editor"}},DISCOVER:{PATH:"/discover/keyword/:id",LOCALE_PATH:"/:locale/discover/keyword/:id",MATCHER:"/:locale*/discover/keyword/:id",HAS_LOCALE_PREFIX:!0},DISCOVER_TITLE:{PATH:"/discover/keyword/:title/:id",LOCALE_PATH:"/:locale/discover/keyword/:title/:id",MATCHER:"/:locale*/discover/keyword/:title/:id",HAS_LOCALE_PREFIX:!0},EDITOR_GRAPHIC:{PATH:"/editor-graphic",LOCALE_PATH:"/editor-graphic",MATCHER:"/editor-graphic",HAS_LOCALE_PREFIX:!1,INDEXING:!0},EDITOR_BATCH:{PATH:"/editor-batch",LOCALE_PATH:"/editor-batch",MATCHER:"/editor-batch",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/:locale/templates/:id",MATCHER:"/:locale*/templates/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_KEYWORDS:{PATH:"/template-detail/:key/:id",LOCALE_PATH:"/:locale/template-detail/:key/:id",MATCHER:"/:locale*/template-detail/:key/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_NO_KEYWORDS:{PATH:"/template-detail/:id",LOCALE_PATH:"/:locale/template-detail/:id",MATCHER:"/:locale*/template-detail/:id",HAS_LOCALE_PREFIX:!0},PROFILE:{PATH:"/profile/:id",LOCALE_PATH:"/:locale/profile/:id",MATCHER:"/:locale*/profile/:id",HAS_LOCALE_PREFIX:!0},HASHTAG:{PATH:"/discover/hashtag/:title/:id",LOCALE_PATH:"/:locale/discover/hashtag/:title/:id",MATCHER:"/:locale*/discover/hashtag/:title/:id",HAS_LOCALE_PREFIX:!0},CATEGORY:{PATH:"/discover/category/:title/:id",LOCALE_PATH:"/:locale/discover/category/:title/:id",MATCHER:"/:locale*/discover/category/:title/:id",HAS_LOCALE_PREFIX:!0},CREATOR:{PATH:"/discover/creator/:id",LOCALE_PATH:"/:locale/discover/creator/:id",MATCHER:"/:locale*/discover/creator/:id",HAS_LOCALE_PREFIX:!0},UG_ARTICLE:{PATH:"/discover/article/:title/:id",LOCALE_PATH:"/:locale/discover/article/:title/:id",MATCHER:"/:locale*/discover/article/:title/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE:{PATH:"/templates",LOCALE_PATH:"/:locale/templates",MATCHER:"/:locale*/templates",HAS_LOCALE_PREFIX:!0},EDITOR_TEMPLATE:{PATH:"/editor-template",LOCALE_PATH:"/editor-template",MATCHER:"/editor-template",HAS_LOCALE_PREFIX:!1,INDEXING:!0},MAGIC_TOOLS:{TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1}},SCAN_QR_CODE:{PATH:"/scan-qr-code",LOCALE_PATH:"/scan-qr-code",MATCHER:"/scan-qr-code",HAS_LOCALE_PREFIX:!1,INDEXING:!1},FILL_BIRTHDAY:{PATH:"/birthday-information",LOCALE_PATH:"/:locale/birthday-information",MATCHER:"/:locale*/birthday-information",HAS_LOCALE_PREFIX:!0,INDEXING:!1}},s={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}},c=Object.values(s).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{}),l={BR:{label:"\u5df4\u897f",locale:s.Portuguese,useBrowserLang:!1},MZ:{label:"\u83ab\u6851\u6bd4\u514b",locale:s.Portuguese,useBrowserLang:!1},AO:{label:"\u5b89\u54e5\u62c9",locale:s.Portuguese,useBrowserLang:!1},PT:{label:"\u8461\u8404\u7259",locale:s.Portuguese,useBrowserLang:!1},GW:{label:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",locale:s.Portuguese,useBrowserLang:!1},TL:{label:"\u4e1c\u5e1d\u6c76",locale:s.Portuguese,useBrowserLang:!1},GQ:{label:"\u8d64\u9053\u51e0\u5185\u4e9a",locale:s.Spanish,useBrowserLang:!0},CV:{label:"\u4f5b\u5f97\u89d2",locale:s.Portuguese,useBrowserLang:!1},ST:{label:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",locale:s.Portuguese,useBrowserLang:!1},MX:{label:"\u58a8\u897f\u54e5",locale:s.Spanish,useBrowserLang:!1},CO:{label:"\u54e5\u4f26\u6bd4\u4e9a",locale:s.Spanish,useBrowserLang:!1},ES:{label:"\u897f\u73ed\u7259",locale:s.Spanish,useBrowserLang:!1},AR:{label:"\u963f\u6839\u5ef7",locale:s.Spanish,useBrowserLang:!1},PE:{label:"\u79d8\u9c81",locale:s.Spanish,useBrowserLang:!1},VE:{label:"\u59d4\u5185\u745e\u62c9",locale:s.Spanish,useBrowserLang:!1},CL:{label:"\u667a\u5229",locale:s.Spanish,useBrowserLang:!1},EC:{label:"\u5384\u74dc\u591a\u5c14",locale:s.Spanish,useBrowserLang:!1},GT:{label:"\u5371\u5730\u9a6c\u62c9",locale:s.Spanish,useBrowserLang:!1},CU:{label:"\u53e4\u5df4",locale:s.Spanish,useBrowserLang:!1},BO:{label:"\u73bb\u5229\u7ef4\u4e9a",locale:s.Spanish,useBrowserLang:!1},DO:{label:"\u591a\u7c73\u5c3c\u52a0",locale:s.Spanish,useBrowserLang:!1},HN:{label:"\u6d2a\u90fd\u62c9\u65af",locale:s.Spanish,useBrowserLang:!1},PY:{label:"\u5df4\u62c9\u572d",locale:s.Spanish,useBrowserLang:!1},SV:{label:"\u8428\u5c14\u74e6\u591a",locale:s.Spanish,useBrowserLang:!1},NI:{label:"\u5c3c\u52a0\u62c9\u74dc",locale:s.Spanish,useBrowserLang:!1},CR:{label:"\u54e5\u65af\u8fbe\u9ece\u52a0",locale:s.Spanish,useBrowserLang:!1},PA:{label:"\u5df4\u62ff\u9a6c",locale:s.Spanish,useBrowserLang:!1},UY:{label:"\u4e4c\u62c9\u572d",locale:s.Spanish,useBrowserLang:!1},DE:{label:"\u5fb7\u56fd",locale:s.German,useBrowserLang:!1},AT:{label:"\u5965\u5730\u5229",locale:s.German,useBrowserLang:!1},LI:{label:"\u5217\u652f\u6566\u58eb\u767b",locale:s.German,useBrowserLang:!1},CH:{label:"\u745e\u58eb\uff08\u5fb7\u8bed\u548c\u6cd5\u8bed\u5747\u6709\u7528\u6237\uff09",locale:s.German,useBrowserLang:!0},LT:{label:"\u5362\u68ee\u5821\uff08\u6ca1\u6709\u660e\u663e\u8bed\u8a00\u5206\u5e03\uff0c\u6cd5\u8bed\u3001\u5fb7\u8bed\u90fd\u6709\uff09",locale:s.German,useBrowserLang:!0},CD:{label:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd",locale:s.French,useBrowserLang:!1},FR:{label:"\u6cd5\u56fd",locale:s.French,useBrowserLang:!1},CA:{label:"\u52a0\u62ff\u5927",locale:s.French,useBrowserLang:!1},MG:{label:"\u9a6c\u8fbe\u52a0\u65af\u52a0",locale:s.French,useBrowserLang:!1},CM:{label:"\u5580\u9ea6\u9686",locale:s.French,useBrowserLang:!1},CI:{label:"\u79d1\u7279\u8fea\u74e6",locale:s.French,useBrowserLang:!1},BF:{label:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",locale:s.French,useBrowserLang:!1},NE:{label:"\u5c3c\u65e5\u5c14",locale:s.French,useBrowserLang:!1},SN:{label:"\u585e\u5185\u52a0\u5c14",locale:s.French,useBrowserLang:!1},ML:{label:"\u9a6c\u91cc",locale:s.French,useBrowserLang:!1},RW:{label:"\u5362\u65fa\u8fbe",locale:s.French,useBrowserLang:!1},BE:{label:"\u6bd4\u5229\u65f6",locale:s.French,useBrowserLang:!1},HT:{label:"\u6d77\u5730",locale:s.French,useBrowserLang:!1},TD:{label:"\u4e4d\u5f97",locale:s.French,useBrowserLang:!1},CN:{label:"\u51e0\u5185\u4e9a",locale:s.French,useBrowserLang:!1},BI:{label:"\u5e03\u9686\u8fea",locale:s.French,useBrowserLang:!1},BJ:{label:"\u8d1d\u5b81",locale:s.French,useBrowserLang:!1},TG:{label:"\u591a\u54e5",locale:s.French,useBrowserLang:!1},CF:{label:"\u4e2d\u975e",locale:s.French,useBrowserLang:!1},CG:{label:"\u521a\u679c\u5171\u548c\u56fd",locale:s.French,useBrowserLang:!1},GA:{label:"\u52a0\u84ec",locale:s.French,useBrowserLang:!1},KM:{label:"\u79d1\u6469\u7f57",locale:s.French,useBrowserLang:!1},DJ:{label:"\u5409\u5e03\u63d0",locale:s.French,useBrowserLang:!1},VU:{label:"\u74e6\u52aa\u963f\u56fe",locale:s.French,useBrowserLang:!1},SC:{label:"\u585e\u820c\u5c14",locale:s.French,useBrowserLang:!1},MC:{label:"\u6469\u7eb3\u54e5",locale:s.French,useBrowserLang:!1},JP:{label:"\u65e5\u672c",locale:s.Japan,useBrowserLang:!1},KR:{label:"\u97e9\u56fd",locale:s.Korea,useBrowserLang:!1},KP:{label:"\u671d\u9c9c",locale:s.Korea,useBrowserLang:!1},TR:{label:"\u571f\u8033\u5176",locale:s.Turkey,useBrowserLang:!1},TRNC:{label:"\u5317\u585e\u6d66\u8def\u65af",locale:s.Turkey,useBrowserLang:!1},CY:{label:"\u585e\u6d66\u8def\u65af",locale:s.Turkey,useBrowserLang:!1},IT:{label:"\u610f\u5927\u5229",locale:s.italian,useBrowserLang:!1},SM:{label:"\u5723\u9a6c\u529b\u8bfa",locale:s.italian,useBrowserLang:!1},VA:{label:"\u68b5\u8482\u5188",locale:s.italian,useBrowserLang:!0},TH:{label:"\u6cf0\u56fd",locale:s.Thai,useBrowserLang:!1},ID:{label:"\u5370\u5ea6\u5c3c\u897f\u4e9a",locale:s.Indonesian,useBrowserLang:!1},VN:{label:"\u8d8a\u5357",locale:s.vietnamese,useBrowserLang:!1},PH:{label:"\u83f2\u5f8b\u5bbe",locale:s.Filipino,useBrowserLang:!0},MY:{label:"\u9a6c\u6765\u897f\u4e9a",locale:s.Malay,useBrowserLang:!1},BN:{label:"\u6587\u83b1",locale:s.Malay,useBrowserLang:!1}},u="es-ES";(0,i.createContext)({locale:void 0});const d="capcut_locale";function p(){const e={};return function t(n){if(n instanceof Array)n.forEach((e=>t(e)));else if(n instanceof Object){if(n.PATH&&void 0!==n.HAS_LOCALE_PREFIX)return void(e[n.PATH]={matcher:n.MATCHER,hasLocalePrefix:n.HAS_LOCALE_PREFIX});t(Object.values(n))}}(a),e}const f=class e{constructor(e){const t={countryCode:typeof window<"u"?window.__locationCountryCode:void 0,defaultLocale:"en",isServer:!1};this.options=Object.assign({},t,e,{cookieName:d}),this.options.locale&&this._validateLocale(this.options.locale)?this.locale=this.options.locale:this._initLocale(),this._listenCookieChange()}static getLocalPrefix(e){let t;const n=this.getSupportLocales();for(const{locale:r,pathPrefix:o}of n){const n=`/${o}/`;if(e.startsWith(n))return t=r,t}return t}static getPathPrefix(e){const t=this.getSupportLocales();for(const{pathPrefix:n}of t){const t=`/${n}/`;if(e.startsWith(t))return n}}static isValidLocalPath(e,t={forceLocal:!1}){const n=this.getPathPrefix(e),o=p(),i=Object.entries(o).map((([e,{matcher:t,hasLocalePrefix:n}])=>({hasLocalePrefix:n,route:e,matcher:(0,r.EQ)(e,{decode:decodeURIComponent}),localMatcher:(0,r.EQ)(t,{decode:decodeURIComponent})})));for(let r=0;r<i.length;r++){const o=i[r];if(o.matcher(e)&&!n)return!t.forceLocal||o.hasLocalePrefix;if(o.hasLocalePrefix&&o.localMatcher(e))return!!n}return!1}static formatRoutePath({locale:e,path:t,forceAddLocalePrefix:n=!1}){var o;let i=!1;"en"===e||null!=e&&e.includes("-")?e===u&&(e=s.Spanish.key):e=Object.values(s).map((e=>e.key)).find((t=>t.startsWith(e)))||e;const a=this.getSupportLocales();if(!c[e]&&"en"!==e)return t;for(const{pathPrefix:r}of a)if(r){const e=`/${r}/`;if(t.startsWith(e)){t=t.replace(e,"/"),i=!0;break}}if(n||i)return c[e]?`/${c[e]}${t}`:t;const l=p(),d=Object.keys(l),f=d.map((e=>(0,r.EQ)(e,{decode:decodeURIComponent})));for(let r=0;r<f.length;r++)if(f[r](null==(o=null==t?void 0:t.split("?"))?void 0:o[0]))return l[d[r]].hasLocalePrefix&&c[e]?`/${c[e]}${t}`:t;return t}static getOriginalPath(e){const t=this.getPathPrefix(e);return t?e.replace(new RegExp(`^/${t}`),""):e}static getOriginalUrl(e){const t=this.getSupportLocales();for(const{pathPrefix:n}of t)if(n&&e.includes(n))return e.replace(new RegExp(`/${n}`),"");return e}static getSupportLocales(){return Object.values(s).filter((e=>!e.disable)).map((({key:e,text:t,pathPrefix:n})=>({locale:e,pathPrefix:n,text:t})))}static getHreflangLocales(){const t=e.getSupportLocales(),n={[s.Spanish.key]:u,[s.Filipino.key]:"tl-PH",[s.TraditionalChinese.key]:"zh-TW"};return(0,o.flatten)(t.map((e=>{const t={locale:e.locale,hreflang:e.locale},r=[];return n[t.locale]&&(t.hreflang=n[e.locale]),t.hreflang.includes("-")&&r.push({locale:t.locale,hreflang:t.hreflang.substring(0,t.hreflang.indexOf("-"))}),r.push(t),r})))}getCurrentLocale({localeFix:e}={localeFix:!1}){return e||this.locale!==u?e&&this.locale===s.Spanish.key?u:this.locale:s.Spanish.key}setCurrentLocale(e,t){null!=t&&t.disableCookie||this._setCookie(e),this.locale=e}getSupportLocales(){return e.getSupportLocales()}formatLocalePath(t){const n={forceAddLocalePrefix:!1,locale:this.getCurrentLocale(),...t},{path:r}=n;if(!r.startsWith("/"))throw new Error("path invalid, please confirm its startsWith /");const{locale:o,forceAddLocalePrefix:i}=n;return e.formatRoutePath({locale:o,path:r,forceAddLocalePrefix:i})}_initLocale(){var t,n;const{cookieName:r,countryCode:o,defaultLocale:i,getBrowserLang:a,cookieGetter:c}=this.options;if(this.isBrowser()){const t=e.getLocalPrefix(window.location.pathname);if(t)return this.locale=t===u?s.Spanish.key:t,void(c(r)||this._setCookie(t))}const d=c(r);if(d&&this._validateLocale(d))return void(this.locale=d);let p=this._formatLocale(a());if(p||(p=i),!o||!l[o]||null!=(n=null==(t=l[o])?void 0:t.locale)&&n.disable)return this.locale=p,void this._setCookie(p);const{locale:f,useBrowserLang:h}=l[o];return h?(this.locale=p,void this._setCookie(p)):(this.locale=f.key,void this._setCookie(f.key))}_setCookie(e){const{cookieName:t,cookieSetter:n,isServer:r}=this.options;n(t,e,r?{maxAge:31536e7,httpOnly:!1,secure:!1,overwrite:!0}:{expires:3650})}_validateLocale(e){return!!e&&!!this.getSupportLocales().find((t=>t.locale===e))}_formatLocale(e){if(!e||this._validateLocale(e))return e;const t=Object.values(s);for(const n of t){const{key:t,matcher:r}=n;if(t===e||e.match(r))return t}}_listenCookieChange(){}isBrowser(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}};f.CookieName=d;let h=f},18250:(e,t,n)=>{"use strict";n.d(t,{tc:()=>q,XX:()=>$,MY:()=>X});n(72322),n(18571);var r=n(27175),o=n(95930),i=n(22169),a=(n(5908),n(71375)),s=n(62347),c=n(82021),l=n(98498),u=n.n(l);n(37237);const d={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/privacy-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/privacy-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/privacy-policy";case"es-LA":return"https://www.capcut.com/es-es/privacy-policy";case"pt-BR":return"https://www.capcut.com/pt-br/privacy-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/privacy-policy";case"de-DE":return"https://www.capcut.com/de-de/privacy-policy";case"it-IT":return"https://www.capcut.com/it-it/privacy-policy";case"th-TH":return"https://www.capcut.com/th-th/privacy-policy";case"id-ID":return"https://www.capcut.com/id-id/privacy-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/privacy-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/privacy-policy";case"ms-MY":return"https://www.capcut.com/ms-my/privacy-policy";default:return"https://www.capcut.com/privacy-policy"}},GOOGLE_PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/terms-of-service";case"ja-JP":return"https://www.capcut.com/ja-jp/terms-of-service";case"ko-KR":return"https://www.capcut.com/ko-kr/terms-of-service";case"es-LA":return"https://www.capcut.com/es-es/terms-of-service";case"pt-BR":return"https://www.capcut.com/pt-br/terms-of-service";case"fr-FR":return"https://www.capcut.com/fr-fr/terms-of-service";case"de-DE":return"https://www.capcut.com/de-de/terms-of-service";case"it-IT":return"https://www.capcut.com/it-it/terms-of-service";case"th-TH":return"https://www.capcut.com/th-th/terms-of-service";case"id-ID":return"https://www.capcut.com/id-id/terms-of-service";case"vi-VN":return"https://www.capcut.com/vi-vn/terms-of-service";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/terms-of-service";case"ms-MY":return"https://www.capcut.com/ms-my/terms-of-service";default:return"https://www.capcut.com/terms-of-service"}},COOKIE_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},MATERIALS_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/material-license-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/material-license-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/material-license-agreement";case"es-LA":return"https://www.capcut.com/es-es/material-license-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/material-license-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/material-license-agreement";case"de-DE":return"https://www.capcut.com/de-de/material-license-agreement";case"it-IT":return"https://www.capcut.com/it-it/material-license-agreement";case"th-TH":return"https://www.capcut.com/th-th/material-license-agreement";case"id-ID":return"https://www.capcut.com/id-id/material-license-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/material-license-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/material-license-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/material-license-agreement";default:return"https://www.capcut.com/material-license-agreement"}},CREATOR_AGREEMENT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/creator-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/creator-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/creator-agreement";case"es-LA":return"https://www.capcut.com/es-es/creator-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/creator-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/creator-agreement";case"de-DE":return"https://www.capcut.com/de-de/creator-agreement";case"it-IT":return"https://www.capcut.com/it-it/creator-agreement";case"th-TH":return"https://www.capcut.com/th-th/creator-agreement";case"id-ID":return"https://www.capcut.com/id-id/creator-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/creator-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/creator-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/creator-agreement";default:return"https://www.capcut.com/creator-agreement"}},COMMUNITY_GUIDELINE:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/community-guideline";case"ja-JP":return"https://www.capcut.com/ja-jp/community-guideline";case"ko-KR":return"https://www.capcut.com/ko-kr/community-guideline";case"es-LA":return"https://www.capcut.com/es-es/community-guideline";case"pt-BR":return"https://www.capcut.com/pt-br/community-guideline";case"fr-FR":return"https://www.capcut.com/fr-fr/community-guideline";case"de-DE":return"https://www.capcut.com/de-de/community-guideline";case"it-IT":return"https://www.capcut.com/it-it/community-guideline";case"th-TH":return"https://www.capcut.com/th-th/community-guideline";case"id-ID":return"https://www.capcut.com/id-id/community-guideline";case"vi-VN":return"https://www.capcut.com/vi-vn/community-guideline";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/community-guideline";case"ms-MY":return"https://www.capcut.com/ms-my/community-guideline";default:return"https://www.capcut.com/community-guideline"}}};var p=(e=>(e.DEFAULT="DEFAULT",e.COMMERCE="COMMERCE",e.FRONTIER="FRONTIER",e.TTS="TTS",e))(p||{});var f=(e=>(e[e.PAGE=0]="PAGE",e[e.GROUP=1]="GROUP",e[e.INSTAGRAM=2]="INSTAGRAM",e))(f||{}),h=(e=>(e[e.YouTube=0]="YouTube",e[e.YouTubeShorts=1]="YouTubeShorts",e))(h||{});const _={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}};Object.values(_).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{});const m="object"==typeof navigator&&/(capcut.*lv\/([\d+.]+)|lv\/([\d+.]+).*capcut)/i.test(navigator.userAgent);class g{constructor(e){this._sdk=e.sdk}set sdk(e){this._sdk=e}get sdk(){return this._sdk}init(e){var t;null==(t=this._sdk)||t.call(this,"init",e)}start(){var e;null==(e=this._sdk)||e.call(this,"start")}config(e){var t;null==(t=this._sdk)||t.call(this,"config",e)}error(e,t,n={}){var r;const o=null!=n&&n.level?null==n?void 0:n.level:"warn",a=(0,i.isError)(t)?t:new Error(JSON.stringify(t)),{message:s}=a;a.message=`\u3010Custom-Error\u3011:${e}-${n.toGroup?"MoreDataInExternal":null==a?void 0:a.message}`,n.toGroup&&(Object.assign(n,{message:s}),delete n.toGroup),null==(r=this._sdk)||r.call(this,"captureException",a,{...n,level:o})}dataEvent(e,t={}){var n;const r=null!=t&&t.level?null==t?void 0:t.level:"info",o=(0,i.pickBy)(t,i.isNumber);null==(n=this._sdk)||n.call(this,"sendEvent",{name:`\u3010Custom-Data\u3011: ${e}`,metrics:o,categories:{...t,level:r}})}log(e,t={}){var n;const r=null!=t&&t.level?null==t?void 0:t.level:"info";null==(n=this._sdk)||n.call(this,"sendLog",{content:`\u3010Custom-Log\u3011: ${e}`,level:r,extra:{...t}})}setCurrentBranch(e=""){var t;e&&(null==(t=this.sdk)||t.call(this,"context.set","branch",e))}}let v;const w=new Proxy({},{get:(e,t)=>{if(!v){let e;typeof window<"u"&&(e=null==window?void 0:window.ccWebSlardar),v=new g({sdk:e})}return"function"==typeof v[t]?v[t].bind(v):v[t]}}),E=["click"],y="report";f.GROUP,f.PAGE,f.INSTAGRAM,h.YouTube,h.YouTubeShorts;const A={user_id:"",user_is_login:!1,user_is_subscribed:!1,user_is_new:!1},b={isProd:!0,log:!1,userInfo:A,isABDependenciesReady:!0},T="TEA_STORE_TOKEN_RET",S="TEA_STORE_WEB_INFO";class C{constructor(){this.isInited=!1,this.isStarted=!1,this.isABDependenciesReady=!0,this._tea=o.Z,this._startCallbacks=new Set,this.cachedEvents=new Set,this.cachedBeaconEvents=new Set,this.cachedPredefinePageView=void 0,this.isSetWebId=!1,this.currentPageHidden=!1,this.awaitInitQueue=[],this.ABDependenciesReadyQueue=[],typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"&&document.addEventListener("visibilitychange",(()=>{this.currentPageHidden=document.hidden}))}get tea(){return this._tea}awaitForInit(){return this.isInited?void 0:new Promise((e=>{this.awaitInitQueue.push(e)}))}awaitForStart(){return this.isStarted?void 0:new Promise((e=>{this.addStartCallBack(e)}))}awaitABDependenciesReady(){return this.isABDependenciesReady?void 0:new Promise((e=>{this.ABDependenciesReadyQueue.push(e)}))}setABDependenciesReady(){this.isABDependenciesReady=!0,this.ABDependenciesReadyQueue.forEach((e=>{e()})),this.ABDependenciesReadyQueue=[]}async init(e){var t;this.options=Object.assign({},b,e),this._web_id=this.options.web_id,this.isABDependenciesReady=this.options.isABDependenciesReady,this._tea.init({disable_auto_pv:!0,disable_sdk_monitor:!0,app_id:Number(d.APP_ID),channel:d.CHANNEL,log:this.options.log,enable_ab_test:!0,ab_channel_domain:"https://vmweb-sg.byteoversea.com",disable_webid:!!this._web_id,autotrack:null!=e&&e.useAutoTrack?{custom:"tea",svg:!0}:void 0}),this.config({app_version:null!=e&&e.appVersion?`1.0.${null==e?void 0:e.appVersion.split(".").pop()}`:"",_staging_flag:this.options.isProd?0:1,web_id:this._web_id,user_agent:(null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent)||"",...this.options.userInfo}),this.clearInitQueue(),this.register()}async start(){if(!this.isInited&&!this.isStarted){const[e,t]=(()=>{const e=window.GATEWAY_INJECTED_WEB_ID,t="string"==typeof e&&!!e;return[t,t?e:void 0]})();e&&(this._web_id=t)}this.isStarted=!0,this.setABDependenciesReady(),this._tea.start(),await this.setWebIdToCustom(),this.execStartCallBacks(),this.sendCacheEvent()}async getABTestConfig(e,t){return await this.awaitForInit(),await this.awaitABDependenciesReady(),this.isStarted?new Promise((n=>{this._tea.getVar(e,t,(e=>{n(e)}))})):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))}getABTestConfigSync(e,t,n){var r;return Promise.resolve().then((()=>this.awaitForInit())).then((()=>this.awaitABDependenciesReady())).then((()=>{this.isStarted||(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),null==n||n(t)),this._tea.getVar(e,t,(e=>{null==n||n(e)}))})),(null==(r=window._libra_abtest)?void 0:r[e])??t}async getABTestConfigSilent(e,t){return await this.awaitForInit(),await this.awaitABDependenciesReady(),this.isStarted?new Promise((n=>{this._tea.getAllVars((r=>{var o;n((null==(o=null==r?void 0:r[e])?void 0:o.val)??t)}))})):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))}report(e,t,n){var r,o;!1===(null==n?void 0:n.hiddenPageReport)&&this.currentPageHidden?null!=(r=this.options)&&r.log&&console.info("Tea Repoter Reject:",`hiddenPageReport => ${null==n?void 0:n.hiddenPageReport}; currentPageHidden => ${this.currentPageHidden}`):this.isStarted&&this.isSetWebId?(null!=(o=this.options)&&o.log&&console.info("Tea Repoter:",e,t),this.tea.event(e,t)):this.cachedEvents.add({event:e,params:t})}reportBecon(e,t){var n;this.isStarted&&this.isSetWebId?(null!=(n=this.options)&&n.log&&console.info("Tea Repoter(becon):",e,t),this.tea.beconEvent(e,t)):this.cachedBeaconEvents.add({event:e,params:t})}reportPredefinePageView(e){var t;if(!this.isStarted||!this.isSetWebId)return void(this.cachedPredefinePageView=e);null!=(t=this.options)&&t.log&&console.info("Tea Repoter:",event,e);const{isFirstVisitPage:n,isSessionStartPage:r}=function(){let e=!1,t=!1;const n=window.GATEWAY_INJECT_IS_FIRST_VISIT_PAGE;return typeof n<"u"&&(e="1"===n),t=e||!document.referrer.includes(location.hostname),{isFirstVisitPage:e,isSessionStartPage:t}}();e.is_first_visit_page=n?"1":"0",e.is_session_start_page=r?"1":"0",this._tea.predefinePageView(e)}sendCacheEvent(){var e;if(this.cachedPredefinePageView&&this.reportPredefinePageView(this.cachedPredefinePageView),this.cachedEvents.size){for(const{event:e,params:t}of this.cachedEvents)this.report(e,t);this.cachedEvents.clear()}if(this.cachedBeaconEvents.size){for(const{event:t,params:n}of this.cachedBeaconEvents)null!=(e=this.options)&&e.log&&console.info("Tea Repoter(becon):",t,n),this.reportBecon(t,n);this.cachedBeaconEvents.clear()}}updateUserInfo(e){this.config({...e})}resetUserInfo(){this.config({...A})}destroy(){this.unregister()}getToken(){if(void 0!==this._web_id)return Promise.resolve({web_id:this._web_id});const e=window.GATEWAY_INJECTED_WEB_ID;if(e)return Promise.resolve({web_id:e});const t=window[S];if(void 0!==t)return Promise.resolve(t);return window[T]||(window[T]=new Promise((e=>{this._tea.getToken((t=>{null!=t&&t.web_id?window[S]=t:window[T]=void 0,e(t??{})}),2e3)})).catch((()=>(window[T]=void 0,{}))),window[T])}async setWebIdToCustom(){var e,t;const{web_id:n}=await this.getToken();n||w.error("reporter getToken not get web id",new Error,{content:"reporter getToken not get web id",level:"error"});const{custom:r}=(null==(e=this.getConfig())?void 0:e.header)??{};this.config({custom:{...r,user_agent:(null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent)||"",web_id:n}}),this.isSetWebId=!0}config(e){var t;this.fixEsLanguage(e);const{custom:n}=(null==(t=this.getConfig())?void 0:t.header)??{};this._tea.inited&&this._tea.config({...e,custom:{...n,...(null==e?void 0:e.custom)??{}}})}configUTParams(e){var t;const{custom:n}=(null==(t=this.getConfig())?void 0:t.header)??{},{campaign:r,term:o,channel:i}=e;this.config({custom:{...n,...i,campaign_id:r,keywords:o}})}getConfig(e){try{return this._tea.getConfig(e)}catch{return{}}}async asyncGetConfig(e){const t=this.getConfig(e);return(0,i.isEmpty)(t)?(await Promise.race([this.awaitForInit(),this.awaitForStart()]),this.getConfig(e)):t}enableTTWid(){this.config({enable_ttwebid:!0})}addStartCallBack(e){this.isStarted?e(null):this._startCallbacks.add(e)}checkEnableReport(){return this.isStarted&&this.isSetWebId}execStartCallBacks(){this._startCallbacks.forEach((e=>{e(null)}))}clearInitQueue(){this.isInited=!0,this.awaitInitQueue.forEach((e=>{e()})),this.awaitInitQueue=[]}register(){E.forEach((e=>{window.document.addEventListener(e,this._reportWraperHandler)}))}unregister(){E.forEach((e=>{window.document.removeEventListener(e,this._reportWraperHandler)}))}reportWraperHandler(e){let t=0;const n=e.composedPath(),r=e.type;let o,i="",a="";for(o=n[t];o;){const{dataset:e}=o;if(e&&e[`${y}Events`])break;o=n[++t]}if(o){const{dataset:e}=o;i=JSON.parse((null==e?void 0:e[`${y}Events`])||""),a=JSON.parse((null==e?void 0:e[`${y}Params`])||"")}if(i){const e=i[r];let t="",n={};if("object"!=typeof e)throw new Error("report event error, please confirm events is obj");t=e.event??"",n=e.params??{},t&&this.report(t,{...a,...n})}}fixEsLanguage(e){var t,n;(null==(n=null==(t=null==e?void 0:e.custom)?void 0:t.lang)?void 0:n.toLocaleLowerCase())===_.Spanish.key.toLocaleLowerCase()&&(e.custom.lang="es-ES")}}(()=>{let e})();function I(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function P(e){var t;const n={url:e.baseURL&&e.url?I(e.baseURL,e.url):"",method:null==(t=null==e?void 0:e.method)?void 0:t.toUpperCase(),params:"string"==typeof e.params?JSON.parse(e.params):e.params,data:"string"==typeof e.data?JSON.parse(e.data):e.data,needCommonParams:!0,responseType:e.responseType??"json"};return c.ZP.app.fetch(n)}async function L(e){const t=await P(e);return new Promise(((n,r)=>{if(1!==t.code)r(t);else try{!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new a.d7("Request failed with status code "+n.status,[a.d7.ERR_BAD_REQUEST,a.d7.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}(n,r,{data:JSON.parse(t.data.response),status:t.data.status,config:e,request:P})}catch(o){r(o)}}))}class O{constructor(){this._hasBeenDone=!1,this._isIniting=!1,this._initCostTimes=void 0,this._waitingResolvers=new Set,this._waitingResolverMap=new Map}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let n,r;const o=Promise.race([new Promise(((e,t)=>{n=[()=>{clearTimeout(r),e()},t],this._waitingResolvers.add([n,t])})),new Promise(((e,o)=>{r=setTimeout((()=>{this._waitingResolvers.delete(n),o(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,o),o}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const n of this._waitingResolvers)t?n[1](this.rejectResult):n[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}}const R="custom-request-domain";const k=new class{constructor(){this._locker=new O}getWebDomain(){return this._userRequestDomain.domain.web_domain}updateRequestDomain(e){e.domain&&(this._locker.hasBeenDone||this._locker.initDone(),this._userRequestDomain=e)}async baseRequestInterceptors(e){var t,n,r,o,i,a,s;const c=null==(t=e.baseURL)?void 0:t.startsWith("https");(null==(n=null==e?void 0:e[R])||!n.skipAwaitLocker)&&!c&&await this._locker.awaitForInit();const l=null==(r=null==e?void 0:e[R])?void 0:r.domain,u=(null!=e&&e.useCommerceApi?p.COMMERCE:p.DEFAULT)===p.COMMERCE?null==(i=null==(o=this._userRequestDomain)?void 0:o.domain)?void 0:i.commerce_domain:m?"https://mweb-api.capcutapi.com":null==(s=null==(a=this._userRequestDomain)?void 0:a.domain)?void 0:s.web_domain,d=l||u;return!c&&d&&(e.baseURL=`${l||d}${e.baseURL}`),{...e,withCredentials:!0}}createAxios(e){const t=m?s.default.create({...e,adapter:L}):s.default.create(e);return t.interceptors.request.use(this.baseRequestInterceptors.bind(this)),t}},N=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);const x="custom-axios-retry",D=["get","head","options"].concat(["put","delete"]);function H(e){const t=(null==e?void 0:e[x])||{canRetry:!0};return t.retryCount=t.retryCount||0,t}const M=()=>0;function F(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&function(e){return!N.has(e&&e.code)}(e)}function j(e){return F(e)||function(e){return!!e.config&&function(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}(e)&&-1!==D.indexOf(e.config.method)}(e)}const U={baseURL:"/lv/v1/render_task",method:"POST",headers:{loc:d.CHANNEL,lan:r.ZP.language||d.LAN,pf:d.APP_PF,appvr:d.VERSION,tdid:"","sign-ver":1,"app-sdk-version":d.APP_SDK_VERSION}},B=k.createAxios(U);var G,W;B.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=U.headers;return Object.assign(e.headers,function({url:e,pf:t,appvr:n,tdid:r}){const o=Math.floor(Date.now()/1e3);return{sign:u()(`9e2c|${e.slice(-7)}|${t}|${n}|${o}|${r}|11ac`).toLowerCase(),"device-time":o}}({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),B.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)})),W={retries:3,resetTimeout:!0,retryDelay:500},(G=B).interceptors.request.use((e=>{const t=H(e);return t.lastRequestTime=Date.now(),e[x]=t,e})),G.interceptors.response.use(void 0,(e=>{const{config:t}=e;if(!t)return Promise.reject(e);const{retries:n=5,isRetry:r=j,retryDelay:o=M,resetTimeout:i=!1}=Object.assign({},W,null==t?void 0:t[x]),a=H(t);if(r(e)&&a.canRetry&&(-1===n||a.retryCount<n)){a.retryCount+=1;const n="number"==typeof o?o:o(a.retryCount,e);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(G,t),!i&&t.timeout&&a.lastRequestTime){const e=Date.now()-a.lastRequestTime;t.timeout=Math.max(t.timeout-e-n,1)}return t.transformRequest=[e=>e],new Promise((e=>setTimeout((()=>e(G(t))),n)))}return Promise.reject(e)}));const V=(()=>{const e=typeof window<"u",t=t=>!!e&&window.matchMedia(t).matches;let n=t("(display-mode: standalone)");return()=>{const e=t("(display-mode: standalone)"),r=t("(display-mode: fullscreen)");return n=!!e||r&&n,n}})(),q=V,$=()=>{let e;if(typeof window<"u"){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("open_from_pwa"))||void 0}return!!e},X=()=>{let e="not_pwa";if(typeof window<"u"&&q()){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("pwa_from"))||"capcut"}return e}},42468:(e,t,n)=>{"use strict";n.d(t,{CD:()=>L});var r=n(1504),o=(n(37237),n(1944)),i=n(21518),a=n(31839);const s=(()=>{const e=typeof window<"u",t=t=>!!e&&window.matchMedia(t).matches;let n=t("(display-mode: standalone)");return()=>{const e=t("(display-mode: standalone)"),r=t("(display-mode: fullscreen)");return n=!!e||r&&n,n}})(),c=()=>{let e;if(typeof window<"u"){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("open_from_pwa"))||void 0}return!!e},l=()=>{let e="not_pwa";if(typeof window<"u"&&s()){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("pwa_from"))||"capcut"}return e};var u=(e=>(e.SEO="SEO",e.Soical="Social",e.SEM="SEM",e.Referal="Referral",e.Direct="Direct",e.Product="product",e.CapCut="CapCut",e))(u||{});const d={google:[/([^\/]+\.)?google(\.[^\/]+)(\/|$)/i],bing:[/([^\/]+\.)?bing\.com(\/|$)/i],yahoo:[/([^\/]+\.)?yahoo\.com(\/|$)/i],duckduckgo:[/([^\/]+\.)?duckduckgo\.com(\/|$)/i],yandex:[/([^\/]+\.)?yandex\.com(\/|$)/i],naver:[/([^\/]+\.)?naver\.com(\/|$)/i],facebook:[/([^\/]+\.)?facebook\.com(\/|$)/i,/([^\/]+\.)?fb\.com(\/|$)/i,/([^\/]+\.)?fb\.me(\/|$)/i],youtube:[/([^\/]+\.)?youtube\.com(\/|$)/i,/([^\/]+\.)?youtu\.be(\/|$)/i],twitter:[/([^\/]+\.)?twitter\.com(\/|$)/i,/([^\/]+\.)?t\.co(\/|$)/i],tiktok:[/([^\/]+\.)?tiktok\.com(\/|$)/i],instagram:[/([^\/]+\.)?instagram\.com(\/|$)/i,/([^\/]+\.)?instagr\.am(\/|$)/i],linkedin:[/([^\/]+\.)?linkedin\.com(\/|$)/i],survey:[/survey\.isnssdk\.com(\/|$)/i]},p={SEO:[...d.google,...d.bing,...d.yahoo,...d.duckduckgo,...d.yandex,...d.naver],Social:[...d.facebook,...d.youtube,...d.twitter,...d.tiktok,...d.instagram,...d.linkedin],product:[...d.survey]},f=new Map(Object.keys(p).reduce(((e,t)=>(p[t].forEach((n=>{e.push([n,t])})),e)),[])),h=new Map(Object.keys(d).reduce(((e,t)=>(d[t].forEach((n=>{e.push([n,t])})),e)),[]));function _(e){const t=[...h.keys()].find((t=>t.test(e)));return h.get(t)??e}function m(e){const t=[...f.keys()].find((t=>t.test(e)));return f.get(t)??function(e){try{const t=["capcut.com","capcut.net"],n=new URL(e.startsWith("http")?e:`https://${e}`);return t.find((e=>n.host.includes(e)))?"CapCut":"Referral"}catch{return"Referral"}}(e)}const g="capcut_locale";const v=e=>e.toLocaleLowerCase()==="es-LA".toLocaleLowerCase()?"es-ES":e;function w(){const e=[{s:"windows",r:/Windows/},{s:"android",r:/Android/},{s:"CrOS",r:/CrOS/},{s:"linux",r:/(Linux|X11)/},{s:"ios",r:/(iPhone|iPad|iPod)/},{s:"macOrIpad",r:/Mac OS X/},{s:"mac",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}];let t="unknown";for(let n=0;n<e.length;n++){const r=e[n];if(r.r.test(window.navigator.userAgent)){t=r.s,"macOrIpad"===r.s&&(t="MacIntel"===window.navigator.platform&&"number"==typeof window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>1?"ios":"mac");break}}return t}function E(){var e;try{const t=window.navigator.userAgent;return(null==(e=[{match:"Chrome",value:"Chrome"},{match:"Firefox",value:"Firefox"},{match:"Safari",value:"Safari"},{match:["MSIE","Trident"],value:"Microsoft Internet Explorer"},{match:"Lark",value:"Lark"},{match:"TTWebView",value:"TTWebView"},{match:"Edge",value:"Microsoft Edge"}].find((e=>("string"==typeof e.match&&(e.match=[e.match]),e.match.some((e=>t.includes(e)))))))?void 0:e.value)||""}catch{return""}}function y(){try{let e="";return window.LV_WEB_VERSION?e=window.LV_WEB_VERSION:window.gfdatav1&&(e=window.gfdatav1.ver),e=e.split(".").filter(((e,t)=>1!==t)).join("."),e}catch{return""}}function A(){try{return window._currentBranch||""}catch{return""}}function b(e,t){const n="userTracking",{ccWebSlardar:r}=window;r&&("info"===t?r("sendLog",{content:e,extra:{type:n}}):r("captureException",e instanceof Error?e:{content:e},{script:n}))}function T(e,t){try{sessionStorage.setItem(e,t)}catch(n){b(n,"error")}}function S(e){try{return decodeURIComponent(e)}catch{return e}}function C(e){const t=new URLSearchParams(e),n={};for(const[r,o]of t)n[r]=o;return n}const I="_ut";class P{constructor(){var e;this.hasInit=!1,this.parsed=C(location.search),this.referer=(null==(e=document.referrer)?void 0:e.replace(/http(s)*:\/\//i,""))??"",this.isFirstVisitPage=!1,this.isSessionStartPage=!1,this.channel_from="unknown",this.channel_info={},this.branch=A(),this.seoChannelMap=["google","coccoc","bing","yahoo","duckduckgo","yandex","naver"],this.capcutChannelMap=["capcut.com","capcut.net"]}init(e={autoReport:!0}){this.hasInit||(this.checkPageStatus(),this.initChannelLevel(),this.normalizeMedium(),e.autoReport&&this.reportPvImmediately(),this.hasInit=!0)}start(e={autoReport:!0}){this.init(e)}allowCookie(){this._setCookie(this.channel_info)}getServerInjectUT(){return typeof window<"u"&&window[I]||null}checkPageStatus(){const{isFirstVisitPage:e,isSessionStartPage:t}=function(){let e=!1,t=!1;const n=window.GATEWAY_INJECT_IS_FIRST_VISIT_PAGE;return typeof n<"u"&&(e="1"===n),t=e||!document.referrer.includes(location.hostname),{isFirstVisitPage:e,isSessionStartPage:t}}();this.isSessionStartPage=t,this.isFirstVisitPage=e}initChannelLevel(){const e=this._parseUTMParams()??this._parseSEMParams(),t=function(t){try{return sessionStorage.getItem(t)}catch(e){return b(e,"error"),null}}(I),n=t?function(t){try{return JSON.parse(t)}catch(e){return b(e,"error"),null}}(t):null;if(!e&&n)return void(this.channel_info=n);const o=r.Z.get(I)??"";if(!e&&o&&this.referer.includes(location.hostname)){const e=C(decodeURIComponent(o))||{},{source:t,medium:n,sub_source:r,content:i}=e;if((t||n||r||i)&&(this.channel_info=e,!this.hasException(this.channel_info)))return}if(this.getServerInjectUT()&&(this.channel_info={...this.getServerInjectUT()},this.channel_info.channel_from="ut",this.channel_info.session_start_url=location.href,!this.hasException(this.channel_info)))return void T(I,JSON.stringify(this.channel_info));const i=this._getParamsNotByCookie();this.channel_info=i,this.channel_info.channel_from="local",this.channel_info.session_start_url=location.href,T(I,JSON.stringify(this.channel_info))}reportPvImmediately(){!function(e){try{const t=[98,121,116,101,100,97,110,99,101].map((function(e){return String.fromCharCode(e)})).join("");let n="https://edit-api-va.capcut.com";window.__locationInfo?n=window.__locationInfo.domain.web_domain:/^\S+?\.bytedance\.net$/.test(window.location.host)&&(n=`https://capcut-web-va.${t}.net`);const s=new URL(`${n}/lv/v1/event/report`),c=e.getHeader();if(!c.web_id)throw new Error("no web_id");s.searchParams.append("is_pwa",c.is_pwa),s.searchParams.append("pwa_from",c.pwa_from),s.searchParams.append("open_from_pwa",c.open_from_pwa),s.searchParams.append("web_id",c.web_id),s.searchParams.append("event_name","user_page_view"),s.searchParams.append("os_name",c.os_name),s.searchParams.append("app_version",c.app_version),s.searchParams.append("is_first_visit_page",c.is_first_visit_page),s.searchParams.append("is_session_start_page",c.is_session_start_page),s.searchParams.append("browser",c.browser),s.searchParams.append("referrer",c.referrer),c.branch&&s.searchParams.append("branch",c.branch),r.Z.get(g)&&s.searchParams.append(g,v(r.Z.get(g)));const{channel:l}=e.getParams(),u=(0,o.Z)(l,["session_start_url","channel_from"]);(0,i.Z)(u)||s.searchParams.append("custom",JSON.stringify(u)),s.searchParams.append("seo_info",JSON.stringify((0,a.Z)(l,["session_start_url","channel_from"]))),fetch(s.toString(),{referrerPolicy:"unsafe-url",credentials:"include"})}catch(t){window.ccWebSlardar&&window.ccWebSlardar("captureException",t,{script:"pv-report"})}}(this)}getParams(){const{medium:e,sub_source:t,source:n,campaign:r,content:o,term:i,channel_from:a,session_start_url:s}=this.channel_info,c={channel_level1:e||"",channel_level2:n||"",channel_level3:t||r||"",channel_level4:o||i||"",channel_from:a||"unknown",session_start_url:s||""};return r&&(c.campaign_id=r),i&&(c.keywords=i),this.branch&&(c.branch=this.branch),{...this.channel_info,channel:c}}getHeader(){var e;const t=document.cookie.match(new RegExp("(^| )_tea_web_id=([^;]+)"));let n=window.GATEWAY_INJECTED_WEB_ID||"";return!n&&null!==t&&(n=t[2]),{is_pwa:s()?"1":"0",open_from_pwa:c()?"1":"0",pwa_from:l(),web_id:n,os_name:w(),is_first_visit_page:this.isFirstVisitPage?"1":"0",is_session_start_page:this.isSessionStartPage?"1":"0",app_version:y(),browser:E(),referrer:document.referrer,branch:A(),user_agent:(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)||""}}normalizeMedium(){var e;const t={tiktok_anchor:"Tiktok_anchor",product:"Product",referal:"Referral",soical:"Social",capcut:"CapCut"},n=null==(e=this.channel_info.medium)?void 0:e.toLowerCase();n&&Object.keys(t).includes(n)&&(this.channel_info.medium=t[n]),this.channel_info.medium=S(this.channel_info.medium||""),this.channel_info.source=S(this.channel_info.source||""),this.channel_info.sub_source=S(this.channel_info.sub_source||""),this.channel_info.content=S(this.channel_info.content||""),this.channel_info.term=S(this.channel_info.term||""),this.channel_info.campaign=S(this.channel_info.campaign||"")}_parseUTMParams(){const{utm_source:e,utm_medium:t,utm_campaign:n,utm_content:r,utm_term:o}=this.parsed;return e?{context:"UTM",source:e,medium:t||"Referral",campaign:n||"",content:r||"",term:o||""}:null}_parseSEMParams(){const{ad_platform_id:e,af_c_id:t,keyword_name:n}=this.parsed;return e&&t?{context:"SEM",source:"string"==typeof e&&e.includes("google")?"google":e,medium:u.SEM,campaign:t,term:n,content:n}:null}_parseReferer(){return this.referer?{context:"Referer",source:_(this.referer),medium:m(this.referer),campaign:""}:{context:"Referer",source:"enter_url",medium:u.Direct,campaign:""}}_setCookie(e){r.Z.set(I,encodeURIComponent(Object.keys(e).reduce(((t,n)=>{const r=e[n];return r&&(t+=`${0===t.length?"":"&"}${n}=${r}`),t}),"")),{path:"/",sameSite:"Strict"})}_getParamsNotByCookie(){return this._parseUTMParams()??this._parseSEMParams()??this._parseReferer()}hasException(e){const t=[e.source&&e.medium===u.CapCut&&this.seoChannelMap.includes(e.source),e.medium!==u.CapCut&&["capcut.com","capcut.net"].some((t=>{var n;return null==(n=e.source)?void 0:n.includes(t)})),["tiktok_anchor","product"].includes(e.medium||"")].includes(!0);return t&&(b(JSON.stringify({errorName:"hasException",channel:{...e}}),"info"),T(I,""),r.Z.set(I,"")),t}}const L=(()=>{let e=null;return()=>(e||(e=new P),e)})()},10966:(e,t,n)=>{"use strict";n.d(t,{G3:()=>p,To:()=>f});var r,o=n(71229),i=n.n(o);!function(e){e.OSX="osx",e.WINDOWS="windows"}(r||(r={}));var a,s,c,l,u=function(){var e,t,n,o=null!==(e=null===(t=i().os)||void 0===t||null===(n=t.family)||void 0===n?void 0:n.toLowerCase().replace(/ /g,""))&&void 0!==e?e:"";return/\bwin/.test(o)?"".concat(r.WINDOWS):/darwin|osx/.test(o)?"".concat(r.OSX):"".concat(r.WINDOWS)},d=u()==="".concat(r.OSX),p=(u(),"".concat(r.WINDOWS),l=null!==(a=null===(s=i().os)||void 0===s||null===(c=s.family)||void 0===c?void 0:c.toLowerCase().replace(/ /g,""))&&void 0!==a?a:"",/\bwin/.test(l)?"".concat(r.WINDOWS):/darwin|osx/.test(l)&&"".concat(r.OSX),function(e){return d&&e.metaKey||!d&&e.ctrlKey}),f=function(e){return d&&e.ctrlKey}},77349:(e,t,n)=>{"use strict";n.d(t,{O4:()=>oa,n5:()=>la,Oy:()=>Hr,CV:()=>ua,Fg:()=>Gr,Zj:()=>xr});var r=n(77226),o=n(17100),i=n(4554),a=n(28089),s=n(2029),c=n(27175),l=n(95930),u=n(22169),d=n(93062),p=n(71375),f=n(62347),h=n(82021),_=n(98498),m=n.n(_),g=n(95411),v=n(21608),w=n.n(v),E=n(72322),y=(n(51650),n(1504)),A=n(37237),b=n(1944),T=n(21518),S=n(31839),C=n(36702),I=n(24451),P=n(41790),L=n(58895),O=n(17083),R=n(73842),k=n(59634),N=n(39),x=n(46473),D=n(9339),H=n(41723),M=n.n(H),F=n(95291),j=n(98351),U=n(859),B=n(32029),G=n(18571),W=n(41308),V=n(53483),q=n(55501),$=n(58638),X=n(86351),K=n(5789),Y=n.n(K),z=n(28449),J=n.n(z),Z=n(17851),Q=n.n(Z),ee=n(79611),te=n.n(ee),ne=n(58856);n(98531),n(24949);const re={HOME:{PATH:"/",LOCALE_PATH:"/:locale/",MATCHER:"/:locale*/",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CREATIVE_SUITE:{PATH:"/creative-suite",LOCALE_PATH:"/:locale/creative-suite",MATCHER:"/:locale*/creative-suite",HAS_LOCALE_PREFIX:!0,INDEXING:!0},WORKSPACE:{CHILD:{MY_DRAFT:{NAME:"my_draft",PATH:"/my-edit",LOCALE_PATH:"/my-edit",MATCHER:"/my-edit",HAS_LOCALE_PREFIX:!1},TEMPLATE:{NAME:"templates",PATH:"/templates",LOCALE_PATH:"/templates",MATCHER:"/templates",HAS_LOCALE_PREFIX:!1},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/templates/:id",MATCHER:"/templates/:id",HAS_LOCALE_PREFIX:!1},MAGIC_TOOLS:{NAME:"magic_tools",PATH:"/magic-tools",LOCALE_PATH:"/magic-tools",MATCHER:"/magic-tools",HAS_LOCALE_PREFIX:!1},RECENT_LISTS:{NAME:"recent",PATH:"/recent-list",LOCALE_PATH:"/recent-list",MATCHER:"/recent-list",HAS_LOCALE_PREFIX:!1},MY_FILM:{NAME:"my_file",PATH:"/my-film",LOCALE_PATH:"/my-film",MATCHER:"/my-film",HAS_LOCALE_PREFIX:!1},MY_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud",LOCALE_PATH:"/my-cloud",MATCHER:"/my-cloud",HAS_LOCALE_PREFIX:!1},WORKSPACE_CLOUD:{NAME:"my_cloud",PATH:"/my-cloud/:id",LOCALE_PATH:"/my-cloud/:id",MATCHER:"/my-cloud/:id",HAS_LOCALE_PREFIX:!1},MY_SHARE:{NAME:"share_records",PATH:"/my-share",LOCALE_PATH:"/my-share",MATCHER:"/my-share",HAS_LOCALE_PREFIX:!1},PROFILE:{NAME:"profile",PATH:"/profile",LOCALE_PATH:"/profile",MATCHER:"/profile",HAS_LOCALE_PREFIX:!1},SEARCH:{NAME:"search",PATH:"/search",LOCALE_PATH:"/search",MATCHER:"/search",HAS_LOCALE_PREFIX:!1}}},LOGIN:{PATH:"/login",LOCALE_PATH:"/:locale/login",MATCHER:"/:locale*/login",HAS_LOCALE_PREFIX:!0,INDEXING:!0},SIGN_UP:{PATH:"/signup",LOCALE_PATH:"/:locale/signup",MATCHER:"/:locale*/signup",HAS_LOCALE_PREFIX:!0,INDEXING:!0},DOWNLOAD_GUIDANCE:{PATH:"/download-guidance",LOCALE_PATH:"/download-guidance",MATCHER:"/download-guidance",HAS_LOCALE_PREFIX:!1},INVITE:{PATH:"/invite",LOCALE_PATH:"/:locale/invite",MATCHER:"/:locale*/invite",HAS_LOCALE_PREFIX:!0},FORGET_PWD:{PATH:"/forget-password",LOCALE_PATH:"/:locale/forget-password",MATCHER:"/:locale*/forget-password",HAS_LOCALE_PREFIX:!0},TEAM_INVITE:{PATH:"/team-invite/:id",LOCALE_PATH:"/:locale/team-invite/:id",MATCHER:"/:locale*/team-invite/:id",HAS_LOCALE_PREFIX:!0},LOGIN_STATUS:{PATH:"/loginStatus",LOCALE_PATH:"/loginStatus",MATCHER:"/loginStatus",HAS_LOCALE_PREFIX:!1},LOGIN_STATUS_SERVER:{PATH:"/lv/v1/user/web/login/third_callback"},COOPERATION:{DETAIL:{PID:"/view/:id",PATH:"/view/:id",LOCALE_PATH:"/view/:id",MATCHER:"/:locale*/view/:id",HAS_LOCALE_PREFIX:!1},EXPERIENCE:{PATH:"/view",LOCALE_PATH:"/view",MATCHER:"/view",HAS_LOCALE_PREFIX:!1},SHARE:{PID:"/share/:id",PATH:"/share/:id",LOCALE_PATH:"/share/:id",MATCHER:"/share/:id",HAS_LOCALE_PREFIX:!1},EMBED:{PID:"/embed/:id",PATH:"/embed/:id",LOCALE_PATH:"/embed/:id",MATCHER:"/embed/:id",HAS_LOCALE_PREFIX:!1},RENDER:{PID:"/render/:id",PATH:"/render/:id",LOCALE_PATH:"/render/:id",MATCHER:"/render/:id",HAS_LOCALE_PREFIX:!1},REPORT:{PID:"/report",PATH:"/report",LOCALE_PATH:"/report",MATCHER:"/report",HAS_LOCALE_PREFIX:!1}},TOKEN_AUTH:{PATH:"/tokenAuth",LOCALE_PATH:"/tokenAuth",MATCHER:"/tokenAuth",HAS_LOCALE_PREFIX:!1},EDITOR:{PATH:"/editor",LOCALE_PATH:"/editor",MATCHER:"/editor",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TIKTOK_AUTH:{PATH:"/tiktokAuth",LOCALE_PATH:"/tiktokAuth",MATCHER:"/tiktokAuth",HAS_LOCALE_PREFIX:!1},THIRD_PARTY_ENTRANCE:{PATH:"/third-party-entrance",LOCALE_PATH:"/third-party-entrance",MATCHER:"/third-party-entrance",HAS_LOCALE_PREFIX:!1},PASSPORT_LOGIN:{PATH:"/passport/web/web_login"},COOKIE_SETTINGS:{PATH:"/cookie-settings",LOCALE_PATH:"/:locale/cookie-settings",MATCHER:"/:locale*/cookie-settings",HAS_LOCALE_PREFIX:!0,INDEXING:!0},THIRDPARTY_CLOUD_STORAGE_AUTH:{PATH:"/thirdpartyCloudStorageAuth",LOCALE_PATH:"/thirdpartyCloudStorageAuth",MATCHER:"/thirdpartyCloudStorageAuth",HAS_LOCALE_PREFIX:!1},CAPCUT_APP:{PATH:"/tools/video-editing-app",LOCALE_PATH:"/:locale/tools/video-editing-app",MATCHER:"/:locale*/tools/video-editing-app",HAS_LOCALE_PREFIX:!0,INDEXING:!0},CMS_TOOLS:{PATH:"/tools/:title",LOCALE_PATH:"/:locale/tools/:title",MATCHER:"/:locale*/tools/:title",HAS_LOCALE_PREFIX:!0},CMS_CREATE:{PATH:"/create/:title",LOCALE_PATH:"/:locale/create/:title",MATCHER:"/:locale*/create/:title",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE:{PATH:"/resource/:title",LOCALE_PATH:"/:locale/resource/:title",MATCHER:"/:locale*/resource/:title",HAS_LOCALE_PREFIX:!0},CMS_TOOLS_AGGREGATION:{PATH:"/tools",LOCALE_PATH:"/:locale/tools",MATCHER:"/:locale*/tools",HAS_LOCALE_PREFIX:!0},CMS_CREATE_AGGREGATION:{PATH:"/create",LOCALE_PATH:"/:locale/create",MATCHER:"/:locale*/create",HAS_LOCALE_PREFIX:!0},CMS_RESOURCE_AGGREGATION:{PATH:"/resource",LOCALE_PATH:"/:locale/resource",MATCHER:"/:locale*/resource",HAS_LOCALE_PREFIX:!0},COLLECT_RESOURCE:{NAME:"collect-resource",PATH:"/collect-resource/:token",LOCALE_PATH:"/collect-resource/:token",MATCHER:"/collect-resource/:token",HAS_LOCALE_PREFIX:!1},EDITOR_TOOLS:{NAME:"editor-tools",PATH:"/editor-tools",LOCALE_PATH:"/editor-tools/:name",MATCHER:"/editor-tools/:name",HAS_LOCALE_PREFIX:!1,TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_AVATAR:{PATH:"/magic-tools/generate-portrait",LOCALE_PATH:"/magic-tools/generate-portrait",MATCHER:"/magic-tools/generate-portrait",HAS_LOCALE_PREFIX:!1},IMAGE_NIGHT_ENHANCE:{PATH:"/magic-tools/enhance-low-light-image",LOCALE_PATH:"/magic-tools/enhance-low-light-image",MATCHER:"/magic-tools/enhance-low-light-image",HAS_LOCALE_PREFIX:!1},IMAGE_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-photo",LOCALE_PATH:"/magic-tools/stylize-photo",MATCHER:"/magic-tools/stylize-photo",HAS_LOCALE_PREFIX:!1},IMAGE_UPSCALER:{PATH:"/magic-tools/upscale-image",LOCALE_PATH:"/magic-tools/upscale-image",MATCHER:"/magic-tools/upscale-image",HAS_LOCALE_PREFIX:!1},IMAGE_AI_TONING:{PATH:"/magic-tools/correct-color",LOCALE_PATH:"/magic-tools/correct-color",MATCHER:"/magic-tools/correct-color",HAS_LOCALE_PREFIX:!1},IMAGE_COLORING:{PATH:"/magic-tools/ai-colorize",LOCALE_PATH:"/magic-tools/ai-colorize",MATCHER:"/magic-tools/ai-colorize",HAS_LOCALE_PREFIX:!1},IMAGE_RESTORATION:{PATH:"/magic-tools/ai-restore",LOCALE_PATH:"/magic-tools/ai-restore",MATCHER:"/magic-tools/ai-restore",HAS_LOCALE_PREFIX:!1},VIDEO_VIDEO_STYLE_CONVERSION:{PATH:"/magic-tools/stylize-video",LOCALE_PATH:"/magic-tools/stylize-video",MATCHER:"/magic-tools/stylize-video",HAS_LOCALE_PREFIX:!1},VIDEO_UPSCALER:{PATH:"/magic-tools/upscale-video",LOCALE_PATH:"/magic-tools/upscale-video",MATCHER:"/magic-tools/upscale-video",HAS_LOCALE_PREFIX:!1},VIDEO_SLOW_MOTION:{PATH:"/magic-tools/make-slomo",LOCALE_PATH:"/magic-tools/make-slomo",MATCHER:"/magic-tools/make-slomo",HAS_LOCALE_PREFIX:!1},VIDEO_STABILIZATION:{PATH:"/magic-tools/stablize-video",LOCALE_PATH:"/magic-tools/stablize-video",MATCHER:"/magic-tools/stablize-video",HAS_LOCALE_PREFIX:!1},TRANSFORM:{PATH:"/editor-tools/transform",LOCALE_PATH:"/editor-tools/transform",MATCHER:"/editor-tools/transform",HAS_LOCALE_PREFIX:!1},CUTOUT:{PATH:"/editor-tools/cutout",LOCALE_PATH:"/editor-tools/cutout",MATCHER:"/editor-tools/cutout",HAS_LOCALE_PREFIX:!1},SCRIPT:{PATH:"/editor-tools/script",LOCALE_PATH:"/editor-tools/script",MATCHER:"/editor-tools/script",HAS_LOCALE_PREFIX:!1},AUTO_CUT:{PATH:"/editor-tools/autocut",LOCALE_PATH:"/editor-tools/autocut",MATCHER:"/editor-tools/autocut",HAS_LOCALE_PREFIX:!1},TEXT_TO_VIDEO:{PATH:"/editor-tools/convert-script-to-video",LOCALE_PATH:"/editor-tools/convert-script-to-video",MATCHER:"/editor-tools/convert-script-to-video",HAS_LOCALE_PREFIX:!1},U2V:{PATH:"/editor-tools/url-to-ads",LOCALE_PATH:"/editor-tools/url-to-ads",MATCHER:"/editor-tools/url-to-ads",HAS_LOCALE_PREFIX:!1},LONG_TO_SHORT:{PATH:"/editor-tools/long-video-to-shorts",LOCALE_PATH:"/editor-tools/long-video-to-shorts",MATCHER:"/editor-tools/long-video-to-shorts",HAS_LOCALE_PREFIX:!1}},TOOlS:{ONLINE:{PATH:"/tools/online-video-editor"},DESKTOP:{PATH:"/tools/desktop-video-editor"}},DISCOVER:{PATH:"/discover/keyword/:id",LOCALE_PATH:"/:locale/discover/keyword/:id",MATCHER:"/:locale*/discover/keyword/:id",HAS_LOCALE_PREFIX:!0},DISCOVER_TITLE:{PATH:"/discover/keyword/:title/:id",LOCALE_PATH:"/:locale/discover/keyword/:title/:id",MATCHER:"/:locale*/discover/keyword/:title/:id",HAS_LOCALE_PREFIX:!0},EDITOR_GRAPHIC:{PATH:"/editor-graphic",LOCALE_PATH:"/editor-graphic",MATCHER:"/editor-graphic",HAS_LOCALE_PREFIX:!1,INDEXING:!0},EDITOR_BATCH:{PATH:"/editor-batch",LOCALE_PATH:"/editor-batch",MATCHER:"/editor-batch",HAS_LOCALE_PREFIX:!1,INDEXING:!0},TEMPLATE_DETAIL:{PATH:"/templates/:id",LOCALE_PATH:"/:locale/templates/:id",MATCHER:"/:locale*/templates/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_KEYWORDS:{PATH:"/template-detail/:key/:id",LOCALE_PATH:"/:locale/template-detail/:key/:id",MATCHER:"/:locale*/template-detail/:key/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE_DETAIL_NO_KEYWORDS:{PATH:"/template-detail/:id",LOCALE_PATH:"/:locale/template-detail/:id",MATCHER:"/:locale*/template-detail/:id",HAS_LOCALE_PREFIX:!0},PROFILE:{PATH:"/profile/:id",LOCALE_PATH:"/:locale/profile/:id",MATCHER:"/:locale*/profile/:id",HAS_LOCALE_PREFIX:!0},HASHTAG:{PATH:"/discover/hashtag/:title/:id",LOCALE_PATH:"/:locale/discover/hashtag/:title/:id",MATCHER:"/:locale*/discover/hashtag/:title/:id",HAS_LOCALE_PREFIX:!0},CATEGORY:{PATH:"/discover/category/:title/:id",LOCALE_PATH:"/:locale/discover/category/:title/:id",MATCHER:"/:locale*/discover/category/:title/:id",HAS_LOCALE_PREFIX:!0},CREATOR:{PATH:"/discover/creator/:id",LOCALE_PATH:"/:locale/discover/creator/:id",MATCHER:"/:locale*/discover/creator/:id",HAS_LOCALE_PREFIX:!0},UG_ARTICLE:{PATH:"/discover/article/:title/:id",LOCALE_PATH:"/:locale/discover/article/:title/:id",MATCHER:"/:locale*/discover/article/:title/:id",HAS_LOCALE_PREFIX:!0},TEMPLATE:{PATH:"/templates",LOCALE_PATH:"/:locale/templates",MATCHER:"/:locale*/templates",HAS_LOCALE_PREFIX:!0},EDITOR_TEMPLATE:{PATH:"/editor-template",LOCALE_PATH:"/editor-template",MATCHER:"/editor-template",HAS_LOCALE_PREFIX:!1,INDEXING:!0},MAGIC_TOOLS:{TEXT_TO_IMAGE:{PATH:"/magic-tools/convert-text-to-image",LOCALE_PATH:"/magic-tools/convert-text-to-image",MATCHER:"/magic-tools/convert-text-to-image",HAS_LOCALE_PREFIX:!1},IMAGE_TO_IMAGE:{PATH:"/magic-tools/generate-image",LOCALE_PATH:"/magic-tools/generate-image",MATCHER:"/magic-tools/generate-image",HAS_LOCALE_PREFIX:!1}},SCAN_QR_CODE:{PATH:"/scan-qr-code",LOCALE_PATH:"/scan-qr-code",MATCHER:"/scan-qr-code",HAS_LOCALE_PREFIX:!1,INDEXING:!1},FILL_BIRTHDAY:{PATH:"/birthday-information",LOCALE_PATH:"/:locale/birthday-information",MATCHER:"/:locale*/birthday-information",HAS_LOCALE_PREFIX:!0,INDEXING:!1}},oe={APP_NAME:"cc_web",APP_ID:"348188",APP_PF:"7",CHANNEL:"va",LAN:"en",B_ID:"cc_web",VERSION:"5.8.0",APP_SDK_VERSION:"48.0.0",USER_AGREEMENT:"",PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/privacy-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/privacy-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/privacy-policy";case"es-LA":return"https://www.capcut.com/es-es/privacy-policy";case"pt-BR":return"https://www.capcut.com/pt-br/privacy-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/privacy-policy";case"de-DE":return"https://www.capcut.com/de-de/privacy-policy";case"it-IT":return"https://www.capcut.com/it-it/privacy-policy";case"th-TH":return"https://www.capcut.com/th-th/privacy-policy";case"id-ID":return"https://www.capcut.com/id-id/privacy-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/privacy-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/privacy-policy";case"ms-MY":return"https://www.capcut.com/ms-my/privacy-policy";default:return"https://www.capcut.com/privacy-policy"}},GOOGLE_PRIVACY_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://marketingplatform.google.com/about/analytics/terms/tr/";case"ko-KR":return"https://marketingplatform.google.com/about/analytics/terms/kr/";case"ja-JP":return"https://marketingplatform.google.com/about/analytics/terms/jp/";case"pt-BR":return"https://marketingplatform.google.com/about/analytics/terms/br/";case"es-LA":return"https://marketingplatform.google.com/about/analytics/terms/es/";case"fr-FR":return"https://marketingplatform.google.com/about/analytics/terms/fr/";case"de-DE":return"https://marketingplatform.google.com/about/analytics/terms/de/";case"it-IT":return"https://marketingplatform.google.com/about/analytics/terms/it/";case"th-TH":return"https://marketingplatform.google.com/about/analytics/terms/th/";case"id-ID":return"https://marketingplatform.google.com/about/analytics/terms/id/";case"vi-VN":return"https://marketingplatform.google.com/about/analytics/terms/vn/";case"fil-PH":case"tl-PH":return"https://marketingplatform.google.com/about/analytics/terms/ph/";default:return"https://marketingplatform.google.com/about/analytics/terms/us/"}},TERMS_OF_CAPCUT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/terms-of-service";case"ja-JP":return"https://www.capcut.com/ja-jp/terms-of-service";case"ko-KR":return"https://www.capcut.com/ko-kr/terms-of-service";case"es-LA":return"https://www.capcut.com/es-es/terms-of-service";case"pt-BR":return"https://www.capcut.com/pt-br/terms-of-service";case"fr-FR":return"https://www.capcut.com/fr-fr/terms-of-service";case"de-DE":return"https://www.capcut.com/de-de/terms-of-service";case"it-IT":return"https://www.capcut.com/it-it/terms-of-service";case"th-TH":return"https://www.capcut.com/th-th/terms-of-service";case"id-ID":return"https://www.capcut.com/id-id/terms-of-service";case"vi-VN":return"https://www.capcut.com/vi-vn/terms-of-service";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/terms-of-service";case"ms-MY":return"https://www.capcut.com/ms-my/terms-of-service";default:return"https://www.capcut.com/terms-of-service"}},COOKIE_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/cookies-policy";case"ja-JP":return"https://www.capcut.com/ja-jp/cookies-policy";case"ko-KR":return"https://www.capcut.com/ko-kr/cookies-policy";case"es-LA":return"https://www.capcut.com/es-es/cookies-policy";case"pt-BR":return"https://www.capcut.com/pt-br/cookies-policy";case"fr-FR":return"https://www.capcut.com/fr-fr/cookies-policy";case"de-DE":return"https://www.capcut.com/de-de/cookies-policy";case"it-IT":return"https://www.capcut.com/it-it/cookies-policy";case"th-TH":return"https://www.capcut.com/th-th/cookies-policy";case"id-ID":return"https://www.capcut.com/id-id/cookies-policy";case"vi-VN":return"https://www.capcut.com/vi-vn/cookies-policy";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/cookies-policy";case"ms-MY":return"https://www.capcut.com/ms-my/cookies-policy";default:return"https://www.capcut.com/cookies-policy"}},MATERIALS_POLICY:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/material-license-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/material-license-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/material-license-agreement";case"es-LA":return"https://www.capcut.com/es-es/material-license-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/material-license-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/material-license-agreement";case"de-DE":return"https://www.capcut.com/de-de/material-license-agreement";case"it-IT":return"https://www.capcut.com/it-it/material-license-agreement";case"th-TH":return"https://www.capcut.com/th-th/material-license-agreement";case"id-ID":return"https://www.capcut.com/id-id/material-license-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/material-license-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/material-license-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/material-license-agreement";default:return"https://www.capcut.com/material-license-agreement"}},CREATOR_AGREEMENT:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/creator-agreement";case"ja-JP":return"https://www.capcut.com/ja-jp/creator-agreement";case"ko-KR":return"https://www.capcut.com/ko-kr/creator-agreement";case"es-LA":return"https://www.capcut.com/es-es/creator-agreement";case"pt-BR":return"https://www.capcut.com/pt-br/creator-agreement";case"fr-FR":return"https://www.capcut.com/fr-fr/creator-agreement";case"de-DE":return"https://www.capcut.com/de-de/creator-agreement";case"it-IT":return"https://www.capcut.com/it-it/creator-agreement";case"th-TH":return"https://www.capcut.com/th-th/creator-agreement";case"id-ID":return"https://www.capcut.com/id-id/creator-agreement";case"vi-VN":return"https://www.capcut.com/vi-vn/creator-agreement";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/creator-agreement";case"ms-MY":return"https://www.capcut.com/ms-my/creator-agreement";default:return"https://www.capcut.com/creator-agreement"}},COMMUNITY_GUIDELINE:(e="en")=>{switch(e){case"tr-TR":return"https://www.capcut.com/tr-tr/community-guideline";case"ja-JP":return"https://www.capcut.com/ja-jp/community-guideline";case"ko-KR":return"https://www.capcut.com/ko-kr/community-guideline";case"es-LA":return"https://www.capcut.com/es-es/community-guideline";case"pt-BR":return"https://www.capcut.com/pt-br/community-guideline";case"fr-FR":return"https://www.capcut.com/fr-fr/community-guideline";case"de-DE":return"https://www.capcut.com/de-de/community-guideline";case"it-IT":return"https://www.capcut.com/it-it/community-guideline";case"th-TH":return"https://www.capcut.com/th-th/community-guideline";case"id-ID":return"https://www.capcut.com/id-id/community-guideline";case"vi-VN":return"https://www.capcut.com/vi-vn/community-guideline";case"fil-PH":case"tl-PH":return"https://www.capcut.com/tl-ph/community-guideline";case"ms-MY":return"https://www.capcut.com/ms-my/community-guideline";default:return"https://www.capcut.com/community-guideline"}}};var ie=(e=>(e[e.TASK_CANNOT_BE_CANCELED=200400]="TASK_CANNOT_BE_CANCELED",e[e.TASK__NOT_EXIST_1=200402]="TASK__NOT_EXIST_1",e[e.TASK__NOT_EXIST_2=1e3]="TASK__NOT_EXIST_2",e))(ie||{});var ae=(e=>(e[e.ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE=2312]="ERR_CTEATE_WORKSPACE_OVER_MAX_SIZE",e[e.ERR_Hit_Sensitive_Word=2334]="ERR_Hit_Sensitive_Word",e))(ae||{}),se=(e=>(e[e.ERR_UPLOAD_LINK_NOT_EXIST=2341]="ERR_UPLOAD_LINK_NOT_EXIST",e))(se||{});const ce={EVER_CLOUD:{BELOW_VERSION:40008,INSUFFICIENT_SPACE:20113,INVALID_IDC:1037},WEB_CUSTOME_CODE:{ASSET_TRANSCODE_FAIL:-11001},NO_SIGN_UPLOAD:{ACCESS_TIME_LIMIT:"200201",SOURCE_IS_OVERTIME:"200202",VIDEO_TRANSCODE_FAIL:"4010"},COMMENT:{Err_NoCommentPermission:2363,Err_CommentPublishFailed:2364,Err_CommentPublishFailedDuplication:2365,Err_CommentPublishingProhibited:2366,Err_CommentPublishFailedRateLimit:2367,Err_CommentPublishFailedRiskControl:2368,Err_CommentDeletionFailed:2369,Err_DeletionFailedNoPermission:2370,Err_CommentListFetchFailed:2371,Err_ShareToGroupMermberFailed:2372},FILM_CODE:ie,COMMERCE:{ALREADY_SUBSCRIBE_USER:"34010104"},SIGN_UP_CODE:{SEND_CODE_ERROR_CODE:{SENDING_FREQUENTLY:1206,EMAIL_ERROR:1044},REGISTER_ERROR_CODE:{CODE_WRONG:1704,CODE_EXPIRED:1703},LOGIN_ERROR_CODE:{PASSWORD_WRONG:1009,USER_NOT_EXITE:1011}},USER_CODE:{NO_LOGIN:1015},CREATE_WORKSPACE_CODE:ae,PIPO:{REFRESH_USER_SPACE_FAILURE:"34100001"},WORKSPACE_UPLOAD_LINK_CODE:se,GROUP:{INVITATION_LINK_REFRESH_TOO_FAST:1270,USER_NOT_IN_GROUP:1363,CREATE_GROUP_TOO_FAST:1269,EXCEEDED_CREATE_GROUPS_MAX_LIMIT:1287,EXCEEDED_USER_GROUPS_MAX_LIMIT:1299,INVITATION_LINK_EXPIRED:1267,ADD_GROUP_TOO_FAST:1268,EXCEEDED_GROUP_MEMBERS_MAX_LIMIT:1280,REPEAT_ADD_GROUP:1286,INVITATION_LINK_ERROR:1367,SHARE_LINK_EXPIRED:1450,GROUP_APPLY_LIMIT:1463,SAME_GROUP_APPLY_LIMIT:1464,GROUP_APPLY_PENDING:1468,GROUP_APPLY_NOT_ALLOW:1469,GROUP_APPLY_PASSED:1286,APPLY_APPROVE_NO_AUTH:1292,NOT_IN_GROUP:1291,APPROVAL_PROCESSED:1467,GROUP_MEMBER_FULL:1280,APPROVAL_EXPIRED:1470},SHARE:{FILE_NO_ACCESS:"2317"},AUTHORIZED:{GOOGLE_UNAUTHORIZED:1904}};var le=(e=>(e.Success="1",e.Fail="0",e))(le||{});const ue="__THIRD_PART_SIGNIN_STATUS_KEY__",de="__THIRD_PART_SIGNIN_DATA__",pe="__THIRD_PART_SIGNIN_ERROR_CODE__",fe="__THIRD_PART_SIGNIN_ERROR_MSG__",he="__TIKTOK_AUTH_CSRF_KEY__";var _e=(e=>(e[e.Facebook=1772]="Facebook",e[e.Google=1773]="Google",e[e.TikTok=1776]="TikTok",e[e.ScanCode=0]="ScanCode",e[e.TikTokLive=1776]="TikTokLive",e))(_e||{}),me=(e=>(e[e.Facebook=200251]="Facebook",e[e.Google=200257]="Google",e[e.TikTok=200256]="TikTok",e[e.ScanCode=0]="ScanCode",e[e.TikTokLive=200256]="TikTokLive",e))(me||{}),ge=(e=>(e.TikTokLive="live.draft.list",e.TikTok="user.info.basic",e))(ge||{}),ve=(e=>(e.googleOneTab="googleOneTab",e.googleOneTabAutoSelect="googleOneTabAutoSelect",e.googleSignInBtn="googleSignInBtn",e))(ve||{});const we="CAPCUT_THEME",Ee="GUIDE_FROM_SIGN_UP";var ye=(e=>(e.US="US",e.BR="BR",e.SG="SG",e.KR="KR",e.ID="ID",e.GB="GB",e.CA="CA",e.AU="AU",e.NZ="NZ",e))(ye||{}),Ae=(e=>(e[e.VA=0]="VA",e[e.GCP=1]="GCP",e[e.SG=2]="SG",e))(Ae||{});const be=String.fromCharCode(99),Te=`by${String.fromCharCode(116)}edan${be}e.net`;var Se=(e=>(e.DEFAULT="DEFAULT",e.COMMERCE="COMMERCE",e.FRONTIER="FRONTIER",e.TTS="TTS",e))(Se||{});const Ce={DEFAULT:{VA:`https://capcut-os-boe.${Te}`},COMMERCE:{VA:`https://capcut-os-boe.${Te}`},FRONTIER:{VA:`wss://capcut-os-boe.${Te}`},TTS:{VA:`wss://capcut-os-boe.${Te}`}},Ie={DEFAULT:{VA:`https://capcut-web-va.${Te}`},COMMERCE:{VA:`https://commerce-api-va.${Te}`},FRONTIER:{VA:`wss://capcut-web-va.${Te}`},TTS:{VA:`wss://capcut-web-va.${Te}`}},Pe={DEFAULT:{VA:"https://edit-api-va.capcut.com"},COMMERCE:{VA:"https://commerce-api-va.capcut.com"},FRONTIER:{VA:"wss://frontier-va.capcut.com"},TTS:{VA:"wss://edit-api-va.capcut.com"}},Le="https://mweb-api.capcutapi.com",Oe="google sem",Re="direct";var ke=(e=>(e.Dropbox="Dropbox",e.GoogleDrive="GoogleDrive",e.GoogleContacts="GoogleContacts",e))(ke||{}),Ne=(e=>(e.LandingPage="landing_page",e.DetailPage="detail_page",e.Editor="editor",e.WorkSpace="work_space",e.ArticlePage="article_page",e.ArticleGroupPage="article_group_page",e.ExportPage="export_page",e.TowardsPage="towards_page",e.UGTemplateDetail="towards_page_template_detail",e.HashtagPage="hashtag_page",e.CategoryPage="category_page",e.TemplatePage="template_page",e.CreatorPage="creator_page",e.UGArticlePage="ug_article_page",e.TemplateDetailPage="template_detail_page",e.EDMPage="edm_page",e.TemplateEditor="template_editor",e.PictureEdit="picture_edit",e.SmartToolPage="smart_tool_page",e.ActivityMur101="mur101",e.ActivityMur103="mur103",e.SharePage="share_page",e.PersonalPage="personal_page",e.KocR1PC="koc_r1_pc",e))(Ne||{}),xe=(e=>(e[e.PAGE=0]="PAGE",e[e.GROUP=1]="GROUP",e[e.INSTAGRAM=2]="INSTAGRAM",e))(xe||{}),De=(e=>(e[e.YouTube=0]="YouTube",e[e.YouTubeShorts=1]="YouTubeShorts",e))(De||{});const He={Indonesian:{key:"id-ID",pathPrefix:"id-id",disable:!1,matcher:/^id/,text:"Bahasa Indonesia"},German:{key:"de-DE",pathPrefix:"de-de",disable:!1,matcher:/^de/,text:"Deutsch"},English:{key:"en",pathPrefix:"",disable:!1,matcher:/^en/,text:"English"},Spanish:{key:"es-LA",pathPrefix:"es-es",disable:!1,matcher:/^es/,text:"Espa\xf1ol"},French:{key:"fr-FR",pathPrefix:"fr-fr",disable:!1,matcher:/^fr/,text:"Fran\xe7ais"},italian:{key:"it-IT",pathPrefix:"it-it",disable:!1,matcher:/^it/,text:"Italiano"},Malay:{key:"ms-MY",pathPrefix:"ms-my",disable:!1,matcher:/^ms/,text:"Melayu"},Dutch:{key:"nl-NL",pathPrefix:"nl-nl",disable:!1,matcher:/^nl/,text:"Nederlands"},Polish:{key:"pl-PL",pathPrefix:"pl-pl",disable:!1,matcher:/^pl/,text:"Polski"},Portuguese:{key:"pt-BR",pathPrefix:"pt-br",disable:!1,matcher:/^pt/,text:"Portugu\xeas"},Romanian:{key:"ro-RO",pathPrefix:"ro-ro",disable:!1,matcher:/^ro/,text:"Rom\xe2n\u0103"},Swedish:{key:"sv-SE",pathPrefix:"sv-se",disable:!1,matcher:/^sv/,text:"Svenska"},Filipino:{key:"fil-PH",pathPrefix:"tl-ph",disable:!1,matcher:/^(tl|fil)/,text:"Tagalog"},vietnamese:{key:"vi-VN",pathPrefix:"vi-vn",disable:!1,matcher:/^vi/,text:"Ti\u1ebfng Vi\u1ec7t"},Turkey:{key:"tr-TR",pathPrefix:"tr-tr",disable:!1,matcher:/^tr/,text:"T\xfcrk\xe7e"},Thai:{key:"th-TH",pathPrefix:"th-th",disable:!1,matcher:/^th/,text:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},Japan:{key:"ja-JP",pathPrefix:"ja-jp",disable:!1,matcher:/^ja/,text:"\u65e5\u672c\u8a9e"},TraditionalChinese:{key:"zh-Hant-TW",pathPrefix:"zh-tw",disable:!1,matcher:/^zh/,text:"\u7e41\u9ad4\u4e2d\u6587"},Korea:{key:"ko-KR",pathPrefix:"ko-kr",disable:!1,matcher:/^ko/,text:"\ud55c\uad6d\uc5b4"}},Me=Object.values(He).reduce(((e,t)=>(t.pathPrefix&&(e[t.key]=t.pathPrefix),e)),{}),Fe={BR:{label:"\u5df4\u897f",locale:He.Portuguese,useBrowserLang:!1},MZ:{label:"\u83ab\u6851\u6bd4\u514b",locale:He.Portuguese,useBrowserLang:!1},AO:{label:"\u5b89\u54e5\u62c9",locale:He.Portuguese,useBrowserLang:!1},PT:{label:"\u8461\u8404\u7259",locale:He.Portuguese,useBrowserLang:!1},GW:{label:"\u51e0\u5185\u4e9a\u6bd4\u7ecd",locale:He.Portuguese,useBrowserLang:!1},TL:{label:"\u4e1c\u5e1d\u6c76",locale:He.Portuguese,useBrowserLang:!1},GQ:{label:"\u8d64\u9053\u51e0\u5185\u4e9a",locale:He.Spanish,useBrowserLang:!0},CV:{label:"\u4f5b\u5f97\u89d2",locale:He.Portuguese,useBrowserLang:!1},ST:{label:"\u5723\u591a\u7f8e\u548c\u666e\u6797\u897f\u6bd4",locale:He.Portuguese,useBrowserLang:!1},MX:{label:"\u58a8\u897f\u54e5",locale:He.Spanish,useBrowserLang:!1},CO:{label:"\u54e5\u4f26\u6bd4\u4e9a",locale:He.Spanish,useBrowserLang:!1},ES:{label:"\u897f\u73ed\u7259",locale:He.Spanish,useBrowserLang:!1},AR:{label:"\u963f\u6839\u5ef7",locale:He.Spanish,useBrowserLang:!1},PE:{label:"\u79d8\u9c81",locale:He.Spanish,useBrowserLang:!1},VE:{label:"\u59d4\u5185\u745e\u62c9",locale:He.Spanish,useBrowserLang:!1},CL:{label:"\u667a\u5229",locale:He.Spanish,useBrowserLang:!1},EC:{label:"\u5384\u74dc\u591a\u5c14",locale:He.Spanish,useBrowserLang:!1},GT:{label:"\u5371\u5730\u9a6c\u62c9",locale:He.Spanish,useBrowserLang:!1},CU:{label:"\u53e4\u5df4",locale:He.Spanish,useBrowserLang:!1},BO:{label:"\u73bb\u5229\u7ef4\u4e9a",locale:He.Spanish,useBrowserLang:!1},DO:{label:"\u591a\u7c73\u5c3c\u52a0",locale:He.Spanish,useBrowserLang:!1},HN:{label:"\u6d2a\u90fd\u62c9\u65af",locale:He.Spanish,useBrowserLang:!1},PY:{label:"\u5df4\u62c9\u572d",locale:He.Spanish,useBrowserLang:!1},SV:{label:"\u8428\u5c14\u74e6\u591a",locale:He.Spanish,useBrowserLang:!1},NI:{label:"\u5c3c\u52a0\u62c9\u74dc",locale:He.Spanish,useBrowserLang:!1},CR:{label:"\u54e5\u65af\u8fbe\u9ece\u52a0",locale:He.Spanish,useBrowserLang:!1},PA:{label:"\u5df4\u62ff\u9a6c",locale:He.Spanish,useBrowserLang:!1},UY:{label:"\u4e4c\u62c9\u572d",locale:He.Spanish,useBrowserLang:!1},DE:{label:"\u5fb7\u56fd",locale:He.German,useBrowserLang:!1},AT:{label:"\u5965\u5730\u5229",locale:He.German,useBrowserLang:!1},LI:{label:"\u5217\u652f\u6566\u58eb\u767b",locale:He.German,useBrowserLang:!1},CH:{label:"\u745e\u58eb\uff08\u5fb7\u8bed\u548c\u6cd5\u8bed\u5747\u6709\u7528\u6237\uff09",locale:He.German,useBrowserLang:!0},LT:{label:"\u5362\u68ee\u5821\uff08\u6ca1\u6709\u660e\u663e\u8bed\u8a00\u5206\u5e03\uff0c\u6cd5\u8bed\u3001\u5fb7\u8bed\u90fd\u6709\uff09",locale:He.German,useBrowserLang:!0},CD:{label:"\u521a\u679c\u6c11\u4e3b\u5171\u548c\u56fd",locale:He.French,useBrowserLang:!1},FR:{label:"\u6cd5\u56fd",locale:He.French,useBrowserLang:!1},CA:{label:"\u52a0\u62ff\u5927",locale:He.French,useBrowserLang:!1},MG:{label:"\u9a6c\u8fbe\u52a0\u65af\u52a0",locale:He.French,useBrowserLang:!1},CM:{label:"\u5580\u9ea6\u9686",locale:He.French,useBrowserLang:!1},CI:{label:"\u79d1\u7279\u8fea\u74e6",locale:He.French,useBrowserLang:!1},BF:{label:"\u5e03\u57fa\u7eb3\u6cd5\u7d22",locale:He.French,useBrowserLang:!1},NE:{label:"\u5c3c\u65e5\u5c14",locale:He.French,useBrowserLang:!1},SN:{label:"\u585e\u5185\u52a0\u5c14",locale:He.French,useBrowserLang:!1},ML:{label:"\u9a6c\u91cc",locale:He.French,useBrowserLang:!1},RW:{label:"\u5362\u65fa\u8fbe",locale:He.French,useBrowserLang:!1},BE:{label:"\u6bd4\u5229\u65f6",locale:He.French,useBrowserLang:!1},HT:{label:"\u6d77\u5730",locale:He.French,useBrowserLang:!1},TD:{label:"\u4e4d\u5f97",locale:He.French,useBrowserLang:!1},CN:{label:"\u51e0\u5185\u4e9a",locale:He.French,useBrowserLang:!1},BI:{label:"\u5e03\u9686\u8fea",locale:He.French,useBrowserLang:!1},BJ:{label:"\u8d1d\u5b81",locale:He.French,useBrowserLang:!1},TG:{label:"\u591a\u54e5",locale:He.French,useBrowserLang:!1},CF:{label:"\u4e2d\u975e",locale:He.French,useBrowserLang:!1},CG:{label:"\u521a\u679c\u5171\u548c\u56fd",locale:He.French,useBrowserLang:!1},GA:{label:"\u52a0\u84ec",locale:He.French,useBrowserLang:!1},KM:{label:"\u79d1\u6469\u7f57",locale:He.French,useBrowserLang:!1},DJ:{label:"\u5409\u5e03\u63d0",locale:He.French,useBrowserLang:!1},VU:{label:"\u74e6\u52aa\u963f\u56fe",locale:He.French,useBrowserLang:!1},SC:{label:"\u585e\u820c\u5c14",locale:He.French,useBrowserLang:!1},MC:{label:"\u6469\u7eb3\u54e5",locale:He.French,useBrowserLang:!1},JP:{label:"\u65e5\u672c",locale:He.Japan,useBrowserLang:!1},KR:{label:"\u97e9\u56fd",locale:He.Korea,useBrowserLang:!1},KP:{label:"\u671d\u9c9c",locale:He.Korea,useBrowserLang:!1},TR:{label:"\u571f\u8033\u5176",locale:He.Turkey,useBrowserLang:!1},TRNC:{label:"\u5317\u585e\u6d66\u8def\u65af",locale:He.Turkey,useBrowserLang:!1},CY:{label:"\u585e\u6d66\u8def\u65af",locale:He.Turkey,useBrowserLang:!1},IT:{label:"\u610f\u5927\u5229",locale:He.italian,useBrowserLang:!1},SM:{label:"\u5723\u9a6c\u529b\u8bfa",locale:He.italian,useBrowserLang:!1},VA:{label:"\u68b5\u8482\u5188",locale:He.italian,useBrowserLang:!0},TH:{label:"\u6cf0\u56fd",locale:He.Thai,useBrowserLang:!1},ID:{label:"\u5370\u5ea6\u5c3c\u897f\u4e9a",locale:He.Indonesian,useBrowserLang:!1},VN:{label:"\u8d8a\u5357",locale:He.vietnamese,useBrowserLang:!1},PH:{label:"\u83f2\u5f8b\u5bbe",locale:He.Filipino,useBrowserLang:!0},MY:{label:"\u9a6c\u6765\u897f\u4e9a",locale:He.Malay,useBrowserLang:!1},BN:{label:"\u6587\u83b1",locale:He.Malay,useBrowserLang:!1}},je="es-ES";var Ue=(e=>(e.owner="owner",e.admin="admin",e.collaborator="collaborator",e))(Ue||{});const Be=-1;var Ge=(e=>(e.Light="light",e.Dark="dark",e))(Ge||{});const We="object"==typeof navigator&&/(capcut.*lv\/([\d+.]+)|lv\/([\d+.]+).*capcut)/i.test(navigator.userAgent),Ve={UTM_MEDIUM:"utm_medium",UTM_SOURCE:"utm_source",VID:"video",OPEN_ID:"open_id",UTM_CAMPAIGN:"utm_campaign"};var qe=(e=>(e.TIKTOK_LIVE="TT_live",e))(qe||{});function $e(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}class Xe{constructor(e){this._sdk=e.sdk}set sdk(e){this._sdk=e}get sdk(){return this._sdk}init(e){var t;null==(t=this._sdk)||t.call(this,"init",e)}start(){var e;null==(e=this._sdk)||e.call(this,"start")}config(e){var t;null==(t=this._sdk)||t.call(this,"config",e)}error(e,t,n={}){var r;const o=null!=n&&n.level?null==n?void 0:n.level:"warn",i=(0,u.isError)(t)?t:new Error(JSON.stringify(t)),{message:a}=i;i.message=`\u3010Custom-Error\u3011:${e}-${n.toGroup?"MoreDataInExternal":null==i?void 0:i.message}`,n.toGroup&&(Object.assign(n,{message:a}),delete n.toGroup),null==(r=this._sdk)||r.call(this,"captureException",i,{...n,level:o})}dataEvent(e,t={}){var n;const r=null!=t&&t.level?null==t?void 0:t.level:"info",o=(0,u.pickBy)(t,u.isNumber);null==(n=this._sdk)||n.call(this,"sendEvent",{name:`\u3010Custom-Data\u3011: ${e}`,metrics:o,categories:{...t,level:r}})}log(e,t={}){var n;const r=null!=t&&t.level?null==t?void 0:t.level:"info";null==(n=this._sdk)||n.call(this,"sendLog",{content:`\u3010Custom-Log\u3011: ${e}`,level:r,extra:{...t}})}setCurrentBranch(e=""){var t;e&&(null==(t=this.sdk)||t.call(this,"context.set","branch",e))}}let Ke;const Ye=new Proxy({},{get:(e,t)=>{if(!Ke){let e;typeof window<"u"&&(e=null==window?void 0:window.ccWebSlardar),Ke=new Xe({sdk:e})}return"function"==typeof Ke[t]?Ke[t].bind(Ke):Ke[t]}}),ze=["click"],Je="report";xe.GROUP,xe.PAGE,xe.INSTAGRAM,De.YouTube,De.YouTubeShorts;function Ze(){let e=!1,t=!1;const n=window.GATEWAY_INJECT_IS_FIRST_VISIT_PAGE;return typeof n<"u"&&(e="1"===n),t=e||!document.referrer.includes(location.hostname),{isFirstVisitPage:e,isSessionStartPage:t}}const Qe={user_id:"",user_is_login:!1,user_is_subscribed:!1,user_is_new:!1},et={isProd:!0,log:!1,userInfo:Qe,isABDependenciesReady:!0},tt="TEA_STORE_TOKEN_RET",nt="TEA_STORE_WEB_INFO";class rt{constructor(){this.isInited=!1,this.isStarted=!1,this.isABDependenciesReady=!0,this._tea=l.Z,this._startCallbacks=new Set,this.cachedEvents=new Set,this.cachedBeaconEvents=new Set,this.cachedPredefinePageView=void 0,this.isSetWebId=!1,this.currentPageHidden=!1,this.awaitInitQueue=[],this.ABDependenciesReadyQueue=[],$e()&&document.addEventListener("visibilitychange",(()=>{this.currentPageHidden=document.hidden}))}get tea(){return this._tea}awaitForInit(){return this.isInited?void 0:new Promise((e=>{this.awaitInitQueue.push(e)}))}awaitForStart(){return this.isStarted?void 0:new Promise((e=>{this.addStartCallBack(e)}))}awaitABDependenciesReady(){return this.isABDependenciesReady?void 0:new Promise((e=>{this.ABDependenciesReadyQueue.push(e)}))}setABDependenciesReady(){this.isABDependenciesReady=!0,this.ABDependenciesReadyQueue.forEach((e=>{e()})),this.ABDependenciesReadyQueue=[]}async init(e){var t;this.options=Object.assign({},et,e),this._web_id=this.options.web_id,this.isABDependenciesReady=this.options.isABDependenciesReady,this._tea.init({disable_auto_pv:!0,disable_sdk_monitor:!0,app_id:Number(oe.APP_ID),channel:oe.CHANNEL,log:this.options.log,enable_ab_test:!0,ab_channel_domain:"https://vmweb-sg.byteoversea.com",disable_webid:!!this._web_id,autotrack:null!=e&&e.useAutoTrack?{custom:"tea",svg:!0}:void 0}),this.config({app_version:null!=e&&e.appVersion?`1.0.${null==e?void 0:e.appVersion.split(".").pop()}`:"",_staging_flag:this.options.isProd?0:1,web_id:this._web_id,user_agent:(null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent)||"",...this.options.userInfo}),this.clearInitQueue(),this.register()}async start(){if(!this.isInited&&!this.isStarted){const[e,t]=(()=>{const e=window.GATEWAY_INJECTED_WEB_ID,t="string"==typeof e&&!!e;return[t,t?e:void 0]})();e&&(this._web_id=t)}this.isStarted=!0,this.setABDependenciesReady(),this._tea.start(),await this.setWebIdToCustom(),this.execStartCallBacks(),this.sendCacheEvent()}async getABTestConfig(e,t){return await this.awaitForInit(),await this.awaitABDependenciesReady(),this.isStarted?new Promise((n=>{this._tea.getVar(e,t,(e=>{n(e)}))})):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))}getABTestConfigSync(e,t,n){var r;return Promise.resolve().then((()=>this.awaitForInit())).then((()=>this.awaitABDependenciesReady())).then((()=>{this.isStarted||(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),null==n||n(t)),this._tea.getVar(e,t,(e=>{null==n||n(e)}))})),(null==(r=window._libra_abtest)?void 0:r[e])??t}async getABTestConfigSilent(e,t){return await this.awaitForInit(),await this.awaitABDependenciesReady(),this.isStarted?new Promise((n=>{this._tea.getAllVars((r=>{var o;n((null==(o=null==r?void 0:r[e])?void 0:o.val)??t)}))})):(console.warn("[WARNING]@byted-image/reporter getABTestConfig failure, cause sdk is not allow to started"),Promise.resolve(t))}report(e,t,n){var r,o;!1===(null==n?void 0:n.hiddenPageReport)&&this.currentPageHidden?null!=(r=this.options)&&r.log&&console.info("Tea Repoter Reject:",`hiddenPageReport => ${null==n?void 0:n.hiddenPageReport}; currentPageHidden => ${this.currentPageHidden}`):this.isStarted&&this.isSetWebId?(null!=(o=this.options)&&o.log&&console.info("Tea Repoter:",e,t),this.tea.event(e,t)):this.cachedEvents.add({event:e,params:t})}reportBecon(e,t){var n;this.isStarted&&this.isSetWebId?(null!=(n=this.options)&&n.log&&console.info("Tea Repoter(becon):",e,t),this.tea.beconEvent(e,t)):this.cachedBeaconEvents.add({event:e,params:t})}reportPredefinePageView(e){var t;if(!this.isStarted||!this.isSetWebId)return void(this.cachedPredefinePageView=e);null!=(t=this.options)&&t.log&&console.info("Tea Repoter:",event,e);const{isFirstVisitPage:n,isSessionStartPage:r}=Ze();e.is_first_visit_page=n?"1":"0",e.is_session_start_page=r?"1":"0",this._tea.predefinePageView(e)}sendCacheEvent(){var e;if(this.cachedPredefinePageView&&this.reportPredefinePageView(this.cachedPredefinePageView),this.cachedEvents.size){for(const{event:e,params:t}of this.cachedEvents)this.report(e,t);this.cachedEvents.clear()}if(this.cachedBeaconEvents.size){for(const{event:t,params:n}of this.cachedBeaconEvents)null!=(e=this.options)&&e.log&&console.info("Tea Repoter(becon):",t,n),this.reportBecon(t,n);this.cachedBeaconEvents.clear()}}updateUserInfo(e){this.config({...e})}resetUserInfo(){this.config({...Qe})}destroy(){this.unregister()}getToken(){if(void 0!==this._web_id)return Promise.resolve({web_id:this._web_id});const e=window.GATEWAY_INJECTED_WEB_ID;if(e)return Promise.resolve({web_id:e});const t=window[nt];if(void 0!==t)return Promise.resolve(t);return window[tt]||(window[tt]=new Promise((e=>{this._tea.getToken((t=>{null!=t&&t.web_id?window[nt]=t:window[tt]=void 0,e(t??{})}),2e3)})).catch((()=>(window[tt]=void 0,{}))),window[tt])}async setWebIdToCustom(){var e,t;const{web_id:n}=await this.getToken();n||Ye.error("reporter getToken not get web id",new Error,{content:"reporter getToken not get web id",level:"error"});const{custom:r}=(null==(e=this.getConfig())?void 0:e.header)??{};this.config({custom:{...r,user_agent:(null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent)||"",web_id:n}}),this.isSetWebId=!0}config(e){var t;this.fixEsLanguage(e);const{custom:n}=(null==(t=this.getConfig())?void 0:t.header)??{};this._tea.inited&&this._tea.config({...e,custom:{...n,...(null==e?void 0:e.custom)??{}}})}configUTParams(e){var t;const{custom:n}=(null==(t=this.getConfig())?void 0:t.header)??{},{campaign:r,term:o,channel:i}=e;this.config({custom:{...n,...i,campaign_id:r,keywords:o}})}getConfig(e){try{return this._tea.getConfig(e)}catch{return{}}}async asyncGetConfig(e){const t=this.getConfig(e);return(0,u.isEmpty)(t)?(await Promise.race([this.awaitForInit(),this.awaitForStart()]),this.getConfig(e)):t}enableTTWid(){this.config({enable_ttwebid:!0})}addStartCallBack(e){this.isStarted?e(null):this._startCallbacks.add(e)}checkEnableReport(){return this.isStarted&&this.isSetWebId}execStartCallBacks(){this._startCallbacks.forEach((e=>{e(null)}))}clearInitQueue(){this.isInited=!0,this.awaitInitQueue.forEach((e=>{e()})),this.awaitInitQueue=[]}register(){ze.forEach((e=>{window.document.addEventListener(e,this._reportWraperHandler)}))}unregister(){ze.forEach((e=>{window.document.removeEventListener(e,this._reportWraperHandler)}))}reportWraperHandler(e){let t=0;const n=e.composedPath(),r=e.type;let o,i="",a="";for(o=n[t];o;){const{dataset:e}=o;if(e&&e[`${Je}Events`])break;o=n[++t]}if(o){const{dataset:e}=o;i=JSON.parse((null==e?void 0:e[`${Je}Events`])||""),a=JSON.parse((null==e?void 0:e[`${Je}Params`])||"")}if(i){const e=i[r];let t="",n={};if("object"!=typeof e)throw new Error("report event error, please confirm events is obj");t=e.event??"",n=e.params??{},t&&this.report(t,{...a,...n})}}fixEsLanguage(e){var t,n;(null==(n=null==(t=null==e?void 0:e.custom)?void 0:t.lang)?void 0:n.toLocaleLowerCase())===He.Spanish.key.toLocaleLowerCase()&&(e.custom.lang=je)}}const ot=(()=>{let e;return()=>(e||(e=new rt),e)})();function it(e,t){let n="";var r;n={b:e=>`${e.toFixed(2)}B`,kb:e=>`${(e/1024).toFixed(2)}KB`,mb:e=>`${(e/1048576).toFixed(2)}MB`,gb:e=>`${(e/1073741824).toFixed(2)}GB`,tb:e=>`${(e/1099511627776).toFixed(2)}TB`}[t||((r=e)<102.4?"b":r<104857.6?"kb":r<1073741824?"mb":r<1099511627776?"gb":"tb")](e);const o=`${n}`,i=o.indexOf(".");return"00"==o.substr(i+1,2)?o.substring(0,i)+o.substr(i+3,2):n}class at{constructor(){this.cachedEvents=new Set}start(){(function(){const e=void 0!==typeof window?window.gtag:void 0;"function"==typeof e&&e("consent","update",{analytics_storage:"granted"})})(),this.setGtag("accept_cookie"),this.sendCache()}report(e,t,n){e.checkEnableReport()||"function"!=typeof window.gtag?(this.cachedEvents.size>0&&this.sendCache(),this.setGtag(t,n)):this.cachedEvents.add({eventName:t,options:n})}sendCache(){this.cachedEvents.forEach((e=>{this.setGtag(e.eventName,null==e?void 0:e.options)})),this.cachedEvents.clear()}setGtag(e,t){!function(e,t,n){const r=void 0!==typeof window?window.gtag:void 0;"function"==typeof r&&r(e,t,n)}("event",e,t)}}const st=(()=>{let e;return()=>(e||(e=new at),e)})();var ct=(e=>(e[e.LoginIn=0]="LoginIn",e[e.SignUp=1]="SignUp",e[e.ForgetPwd=2]="ForgetPwd",e))(ct||{});class lt{constructor(){this.reporter=ot()}report(e){this.reporter.report("age_gate_popup",e)}}class ut{constructor(){this.reporter=ot()}authorizeWindowReport(e){typeof e.current_page>"u"&&delete e.current_page,this.reporter.report("authorize_window",e)}upLoadWindowReport(e){typeof e.current_page>"u"&&delete e.current_page,this.reporter.report("upload_window",e)}linkFileFailReport(e){this.reporter.report("material_link_fail_show",e)}}class dt{constructor(){this.reporter=ot()}report(e){this.reporter.reportBecon("switch_website_language",e)}}class pt{constructor(){this.reporter=ot()}report(e,t){const{immediately:n}=t||{};n?this.reporter.reportBecon("click_personal_profile",e):this.reporter.report("click_personal_profile",e)}}function ft(e){return M()(e).isLeapYear()}function ht(){const e=String.fromCharCode(99);return`by${String.fromCharCode(116)}edan${e}e.net`}M().extend(J()),M().extend(Q()),M().extend(te());const _t=e=>{const t=navigator.userAgent.toLowerCase(),{mobile:n,name:r,version:o,os:i=""}=(0,A.Z)(e),a=navigator.maxTouchPoints||NaN,s=navigator.platform||"";return{env:n?"mobile":"pc",name:r,version:o,isMobile:!!n,isWechat:/micromessenger/.test(t),isQQ:/qq/.test(t),isWeibo:/weibo/.test(t),isLv:/lv/.test(t),isAndroid:/android/.test(t),isIos:/ios/.test(i)||/iPad|iPhone|iPod/i.test(t)||/MacIntel/i.test(s)&&a>1,isMac:/macintosh|mac os x/i.test(i.toLowerCase())||/os x /i.test(i.toLowerCase()),isWin:/windows|win32|win64/i.test(i.toLowerCase())}},mt=()=>{var e;let t="";return typeof window<"u"&&(t=(null==(e=window.location)?void 0:e.originParams)||location.search),t};function gt(e,t){const n=mt(),r=new URLSearchParams(n);Object.entries(t??{}).forEach((([e,t])=>{r.set(e,t)}));const o=r.toString();location.href=`${location.origin}${e}${o?`?${o}`:""}`}function vt(e){const t=mt();return new URLSearchParams(t).get(e)}class wt{static getString(e){return typeof window>"u"||!navigator.cookieEnabled?null:localStorage.getItem(e)}static setString(e,t){if(!(typeof window>"u")&&navigator.cookieEnabled)return localStorage.setItem(e,t)}static getJsonWithEmptyJson(e){let t;try{const n=typeof localStorage<"u"&&localStorage.getItem(e)||"{}";t=JSON.parse(n)}catch(n){Ye.error("LocalStorage-getJsonWithEmptyJson()",n)}return t}static getJson(e){if(typeof window>"u"||!navigator.cookieEnabled)return;const t=typeof localStorage<"u"&&localStorage.getItem(e);let n;if(t){try{n=JSON.parse(t)}catch(r){Ye.error("localStorage-parse(origin)",r)}return n}}static setJson(e,t){typeof window>"u"||!navigator.cookieEnabled||localStorage.setItem(e,JSON.stringify(t))}static getNestedJsonItem(e,t){return this.getJsonWithEmptyJson(e)[t]??{}}static setNestedJsonItem(e,t,n){const r=this.getJsonWithEmptyJson(e),o=r[t]??{},i={...r,[t]:{...o,...n}};this.setJson(e,i)}static removeItem(e){typeof window>"u"||!navigator.cookieEnabled||localStorage.removeItem(e)}}function Et(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function yt(e){var t;const n={url:e.baseURL&&e.url?Et(e.baseURL,e.url):"",method:null==(t=null==e?void 0:e.method)?void 0:t.toUpperCase(),params:"string"==typeof e.params?JSON.parse(e.params):e.params,data:"string"==typeof e.data?JSON.parse(e.data):e.data,needCommonParams:!0,responseType:e.responseType??"json"};return h.ZP.app.fetch(n)}async function At(e){const t=await yt(e);return new Promise(((n,r)=>{if(1!==t.code)r(t);else try{!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new p.d7("Request failed with status code "+n.status,[p.d7.ERR_BAD_REQUEST,p.d7.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}(n,r,{data:JSON.parse(t.data.response),status:t.data.status,config:e,request:yt})}catch(o){r(o)}}))}class bt{constructor(){this._hasBeenDone=!1,this._isIniting=!1,this._initCostTimes=void 0,this._waitingResolvers=new Set,this._waitingResolverMap=new Map}get hasBeenDone(){return this._hasBeenDone}get costTimes(){if(!this._initCostTimes)return;const{start:e,end:t}=this._initCostTimes;return(t||Date.now())-e}get initResult(){if(this._hasBeenDone)return{resolve:this.resolveResult,reject:this.rejectResult}}get isIniting(){return this._isIniting}awaitForInit({key:e,timeout:t}={}){if(this._hasBeenDone&&this.initResult){const{resolve:e,reject:t}=this.initResult;return t?Promise.reject(t):Promise.resolve(e)}if(e&&this._waitingResolverMap.has("key"))return this._waitingResolverMap.get("key");if(!t){const t=new Promise(((e,t)=>{this._waitingResolvers.add([e,t])}));return e&&this._waitingResolverMap.set(e,t),t}let n,r;const o=Promise.race([new Promise(((e,t)=>{n=[()=>{clearTimeout(r),e()},t],this._waitingResolvers.add([n,t])})),new Promise(((e,o)=>{r=setTimeout((()=>{this._waitingResolvers.delete(n),o(new Error("Timed out waiting for init"))}),t)}))]);return e&&this._waitingResolverMap.set(e,o),o}startToInit(){return!this._hasBeenDone&&!this._isIniting&&(this._isIniting=!0,this._initCostTimes={start:Date.now()},!0)}initDone(e){if(this._hasBeenDone)throw new Error("Cannot release an inited locker");this._initCostTimes&&(this._initCostTimes.end=Date.now());let t=!1;null!=e&&e.reject?(t=!0,this.rejectResult=e.reject):this.resolveResult=null==e?void 0:e.resolve;for(const n of this._waitingResolvers)t?n[1](this.rejectResult):n[0](this.resolveResult);this._waitingResolverMap.clear(),this._waitingResolvers.clear(),this._hasBeenDone=!0,this._isIniting=!1}}const Tt="custom-request-domain";const St=new class{constructor(){this._locker=new bt}getWebDomain(){return this._userRequestDomain.domain.web_domain}updateRequestDomain(e){e.domain&&(this._locker.hasBeenDone||this._locker.initDone(),this._userRequestDomain=e)}async baseRequestInterceptors(e){var t,n,r,o,i,a,s;const c=null==(t=e.baseURL)?void 0:t.startsWith("https");(null==(n=null==e?void 0:e[Tt])||!n.skipAwaitLocker)&&!c&&await this._locker.awaitForInit();const l=null==(r=null==e?void 0:e[Tt])?void 0:r.domain,u=(null!=e&&e.useCommerceApi?Se.COMMERCE:Se.DEFAULT)===Se.COMMERCE?null==(i=null==(o=this._userRequestDomain)?void 0:o.domain)?void 0:i.commerce_domain:We?Le:null==(s=null==(a=this._userRequestDomain)?void 0:a.domain)?void 0:s.web_domain,d=l||u;return!c&&d&&(e.baseURL=`${l||d}${e.baseURL}`),{...e,withCredentials:!0}}createAxios(e){const t=We?f.default.create({...e,adapter:At}):f.default.create(e);return t.interceptors.request.use(this.baseRequestInterceptors.bind(this)),t}};var Ct=(e=>(e[e.leaveWorkspace=11005]="leaveWorkspace",e[e.roleChange=11006]="roleChange",e[e.newMember=11007]="newMember",e))(Ct||{}),It=(e=>(e[e.SELF_CREATE=0]="SELF_CREATE",e[e.APP_CONVERT=1]="APP_CONVERT",e[e.WEB_CONVERT=2]="WEB_CONVERT",e))(It||{});const Pt=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);const Lt="custom-axios-retry",Ot=["get","head","options"].concat(["put","delete"]);function Rt(e){const t=(null==e?void 0:e[Lt])||{canRetry:!0};return t.retryCount=t.retryCount||0,t}const kt=()=>0;function Nt(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&function(e){return!Pt.has(e&&e.code)}(e)}function xt(e){return Nt(e)||function(e){return!!e.config&&function(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}(e)&&-1!==Ot.indexOf(e.config.method)}(e)}function Dt(e,t){return e.interceptors.request.use((e=>{const t=Rt(e);return t.lastRequestTime=Date.now(),e[Lt]=t,e})),e.interceptors.response.use(void 0,(n=>{const{config:r}=n;if(!r)return Promise.reject(n);const{retries:o=5,isRetry:i=xt,retryDelay:a=kt,resetTimeout:s=!1}=Object.assign({},t,null==r?void 0:r[Lt]),c=Rt(r);if(i(n)&&c.canRetry&&(-1===o||c.retryCount<o)){c.retryCount+=1;const t="number"==typeof a?a:a(c.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!s&&r.timeout&&c.lastRequestTime){const e=Date.now()-c.lastRequestTime;r.timeout=Math.max(r.timeout-e-t,1)}return r.transformRequest=[e=>e],new Promise((n=>setTimeout((()=>n(e(r))),t)))}return Promise.reject(n)})),e}function Ht({url:e,pf:t,appvr:n,tdid:r}){const o=Math.floor(Date.now()/1e3);return{sign:m()(`9e2c|${e.slice(-7)}|${t}|${n}|${o}|${r}|11ac`).toLowerCase(),"device-time":o}}const Mt={baseURL:"/lv/v1/user",method:"POST",headers:{loc:oe.CHANNEL,lan:c.ZP.language||oe.LAN,pf:oe.APP_PF,appvr:oe.VERSION,tdid:"","sign-ver":1,"app-sdk-version":oe.APP_SDK_VERSION},params:{}},Ft=St.createAxios(Mt);Ft.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=Mt.headers;return Object.assign(e.headers,Ht({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),Ft.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),Dt(Ft,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:e=>{var t;return![ce.USER_CODE.NO_LOGIN,ce.AUTHORIZED.GOOGLE_UNAUTHORIZED].includes(Number(null==(t=null==e?void 0:e.data)?void 0:t.ret))}});const jt={async getAndUpdateUserInfo(e){const t="/web/user_info";return await Ft({url:We?`${Le}${Mt.baseURL}${t}`:`${window.location.origin}${Mt.baseURL}${t}`,data:e,[Tt]:{skipAwaitLocker:!0}})},getUserInfo:async e=>await Ft({url:`${window.location.origin}${Mt.baseURL}/web/get_user_info`,data:{uid:e,need_grade:!1},[Tt]:{skipAwaitLocker:!0}}),updateUser:async e=>await Ft({url:"/update",data:e}),thirtpartCloudsDeauthorization:async e=>await Ft({url:"/web/third_party_clouds_deauthorization",data:e}),authorizationCheck:async e=>await Ft.post("/web/third_party_clouds_authorization_check",e),getShareUserInfo:async e=>await Ft({url:"/web/share_user_info",data:e}),shareUserUnbind:async e=>await Ft({url:"/web/third_party_platform_deauthorization",data:e}),checkAgeGate:async()=>await Ft({url:"/check_age_gate",data:{}}),confirmBirthday:async e=>await Ft({url:"/confirm_birthday",data:e}),updateBirthday:async e=>await Ft({url:"/update_birthday",data:e}),getFacebookShareList:e=>Ft.post("/web/get_facebook_page_or_group_list",e),getOpenId:async()=>await Ft({baseURL:"/lv/v1",url:"/web/openid"}),saveTTScope:async e=>await Ft({baseURL:"/lv/v1",url:"/third_party_clouds/save_tt_scope",data:e}),checkBindEmailPopup:async()=>await Ft({url:"/web/check_bind_email_popup"}),edmAuthorize:async e=>await Ft({url:"/web/edm_authorize",data:{setting_values:null!=e&&e.checked?"on":"off"}}),getUserContacts:async e=>await Ft({url:"/web/third_party_get_contacts",data:e}),getAuthorizedUserInfo:async e=>await Ft({url:"/web/authorized_user_info",data:e})},Ut=new Map;async function Bt(e,{cacheKey:t,maxAge:n=36e5}){const r=Ut.get(t);if(r&&(new Date).getTime()-r.cacheStartTime<r.maxAge)try{return await r.promise,r.promise}catch{}const o=e();return Ut.set(t,{promise:o,cacheStartTime:(new Date).getTime(),maxAge:n}),o}const Gt={baseURL:"/commerce",method:"POST",headers:{appid:oe.APP_ID,loc:oe.CHANNEL,lan:c.ZP.language||oe.LAN,pf:oe.APP_PF,appvr:oe.VERSION,tdid:"","sign-ver":1,"app-sdk-version":oe.APP_SDK_VERSION},useCommerceApi:!0},Wt=St.createAxios(Gt);Wt.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=Gt.headers;return Object.assign(e.headers,Ht({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),Wt.interceptors.response.use((e=>{var t,n,r;if(200===e.status){const o=e.data;return"0"===o.ret?null!=(t=null==e?void 0:e.config)&&t.url&&e.config.url.indexOf("user_info")>0?Promise.resolve({data:o.data,signContext:{sign:o.sign,ret:o.ret,response:o.response,"device-time":null==(r=null==(n=null==e?void 0:e.config)?void 0:n.headers)?void 0:r["device-time"],systime:null==o?void 0:o.systime}}):Promise.resolve(o.data):Promise.reject(e)}return Promise.reject(e)})),Dt(Wt,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:()=>!0});const Vt={async getSubscriptionUserInfo(e){const t=await Wt({url:"/v1/subscription/user_info",data:{aid:oe.APP_ID,scene:"vip",from_db:e}}),{data:r,signContext:o}=t,i={appid:oe.APP_ID,appvr:oe.VERSION,"device-time":null==o?void 0:o["device-time"],pf:oe.APP_PF,response:null==o?void 0:o.response,ret:o.ret,systime:null==o?void 0:o.systime},{sign:a}=o;if(a){const e=await(async(e,t,r)=>{const o=new(0,(await Promise.all([n.e(592),n.e(444),n.e(425),n.e(29),n.e(542),n.e(430),n.e(294),n.e(922),n.e(377),n.e(52),n.e(435),n.e(774),n.e(54),n.e(880),n.e(375),n.e(933),n.e(188),n.e(408),n.e(611),n.e(429),n.e(634),n.e(458),n.e(550),n.e(873)]).then(n.bind(n,45788))).default);return o.setPublicKey(r),o.verify(e,t,w().SHA256)})((e=>{const t=[];return Object.entries(e).forEach((e=>{(0,u.isNil)(e[1])||t.push(`${e[0]}=${e[1]}`)})),t.join("&")})(i),a,"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC1I/Ml9Qkp6reos86Tjbd1R6q+\nbQwviSEmZzqtrhfGI+iMGKA74XSctUu8ZnWhOKsG5+PujMrIJX2WMRP0E5lhJpCh\nfgK3aiNikvgigORzf0Lz39XS46eAHJrPbMaQiabDfd/+CjkvxbV+LW3oPdoZj9Mn\n38OEHt9qVkUlvpv76wIDAQAB\n-----END PUBLIC KEY-----");if(o.sign&&e)return r;throw Error("Error: Auth sign")}throw Error("Error: Auth sign")},async getSpaceList(e){const t="/v1/subscription/workspace/space_list",n=Ht({url:t,...Gt.headers}),r=await Wt({url:t,headers:{...n},data:{aid:Number(oe.APP_ID),workspace_id:e}});return{spaceList:r.space_list,isFirstSubscribe:r.is_first_subscribe,isAutoSubscribe:r.is_auto_subscribe,isWebAutoSubscribe:r.is_web_auto_subscribe,isCancelSubscribe:r.is_cancel_subscribe,jointActivitySpaceList:r.joint_activity_space_list}},async getPriceList(e){const t="/v1/subscription/cc_web_price_list",n=Ht({url:t,...Gt.headers}),r={aid:Number(oe.APP_ID),scene:"workspace",region:e},[o,i]=await Bt((()=>Promise.all([Wt({url:t,headers:{...n},data:r}),Wt({url:t,headers:{...n},data:{...r,scene:"web"}})])),{cacheKey:`promiseCache_getPriceList_${JSON.stringify(r)}`}),a=o.all_price_list.reduce(((e,t)=>(e[t.product_id]=t,e)),{}),s=o.tab_list.map((e=>({as_default:e.as_default,products:e.product_ids.map((e=>a[e]))})));return{allPriceList:[...o.all_price_list,...i.all_price_list],groupProductList:s,ccWebDisplayInfo:o.cc_web_display_info}},getSubscriptionList:async e=>await Wt({url:"/v1/subscription/order_record_list",data:{aid:Number(oe.APP_ID),workspace_id:e,cursor:0,count:1}}),async getVipPriceList(e,t="en"){const n={aid:oe.APP_ID,scene:"vip",region:e,language:t},r=await Bt((()=>Wt({url:"/v1/subscription/cc_price_list",data:n})),{cacheKey:`promiseCache_getSubscriptionPriceList_${JSON.stringify(n)}`}),o={month:[],year:[]};return r.all_price_list.forEach((e=>{const{cycle_unit:t,subscribe_cycle:n}=e;"MONTH"===t&&12!==n?o.month.push(e):o.year.push(e)})),{allVipPriceList:r.all_price_list,vipGroupProductList:o,ccWebDisplayInfo:r.cc_web_display_info}},getSubscribeInfo:async(e="en")=>await Wt({url:"/v1/subscription/get_subscribe_info",data:{language:e}})};class qt extends Error{constructor(e){super("Page is in background, request cancelled"),this.name="RequestCancelledError",this.url=e}}const $t=St.createAxios();$t.interceptors.request.use((e=>({...e,baseURL:`https://${location.hostname}/`}))),$t.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return Promise.resolve(t)}return Promise.reject(e)}));const Xt={baseURL:"/lv/v1",method:"POST",headers:{loc:oe.CHANNEL,lan:c.ZP.language||oe.LAN,pf:oe.APP_PF,appvr:oe.VERSION,tdid:"","sign-ver":1,"app-sdk-version":oe.APP_SDK_VERSION}},Kt=St.createAxios(Xt);Kt.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=Xt.headers;return Object.assign(e.headers,Ht({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),Kt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)}));const Yt=f.default.create({method:"GET"});Yt.interceptors.response.use((e=>200===e.status?Promise.resolve(e.data):Promise.reject(e)));const zt={async getShareReportReason(){await St._locker.awaitForInit();let e="https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_80/bee_prod_80_bee_publish_4017.json";return St.getWebDomain().indexOf("sg")&&(e="https://sf-hs-sg.ibytedtos.com/obj/ies-fe-bee-alisg/bee_prod/biz_80/bee_prod_80_bee_publish_4017.json"),console.error("await jsonFileService.get(url)",await Yt.get(e)),await Yt.get(e)},getCommentReportReason:async()=>await Yt.get(""),async getAIGCReportReason(){try{const e=await Yt.get("https://sf16-muse-va.ibytedtos.com/obj/ies-fe-bee-maliva/bee_prod/biz_49/bee_prod_49_bee_publish_644.json");if(!e.reasons)throw new Error("");return e}catch{return{reasons:[{text:"s2v_report_type_violent",cate:"violent",cid:401,tips:"",index:0,sort:0,reportParam:"violent_extremism"},{text:"s2v_report_type_illegal",cate:"illegal",cid:402,tips:"",index:1,sort:1,reportParam:"illegal_activities_and_regulated_goods"},{text:"s2v_report_type_graphic_content",cate:"graphic_content",cid:403,tips:"",index:2,sort:2,reportParam:"violent_and_graphic_content"},{text:"s2v_report_type_dangerous",cate:"dangerous",cid:404,tips:"",index:3,sort:3,reportParam:"suicide_self-harm_and_dangerous_acts"},{text:"s2v_report_type_hateful",cate:"hateful",cid:405,tips:"",index:4,sort:4,reportParam:"hateful_behavior"},{text:"s2v_report_type_harassment",cate:"harassment",cid:406,tips:"",index:5,sort:5,reportParam:"harassment_and_bullying"},{text:"s2v_report_type_adult",cate:"adult",cid:407,tips:"",index:6,sort:6,reportParam:"adult_nudity_and_sexual_activity"},{text:"s2v_report_type_minor",cate:"minor",cid:408,tips:"",index:7,sort:7,reportParam:"minor_safety"},{text:"s2v_report_type_integrity",cate:"integrity",cid:409,tips:"",index:8,sort:8,reportParam:"integrity_and_authenticity"},{text:"s2v_report_type_infringement",cate:"infringement",cid:410,tips:"",index:9,sort:9,reportParam:"intellectual_property_infringement"},{text:"s2v_report_type_other",cate:"other",cid:411,tips:"",index:10,sort:10,reportParam:"other"}]}}},report:async e=>await Kt.post("/report/report",e),eventReport:async e=>await Kt.post("/event/report",e),aigcReport:async e=>await Kt.post("/report/report",e)},Jt={baseURL:"/lv/v1/user",method:"POST",headers:{loc:oe.CHANNEL,lan:c.ZP.language||oe.LAN,pf:oe.APP_PF,appvr:oe.VERSION,tdid:"","sign-ver":1,"app-sdk-version":oe.APP_SDK_VERSION},params:{}},Zt=f.default.create(Jt);Zt.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=Jt.headers;return Object.assign(e.headers,Ht({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),Zt.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)})),Dt(Zt,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:()=>!0});const Qt={getLocation:async()=>await Zt({url:"/web/get_location",data:{}})},en={baseURL:"/lv/v1/task",method:"POST",headers:{loc:oe.CHANNEL,lan:oe.LAN,pf:oe.APP_PF,appvr:oe.VERSION,tdid:"","sign-ver":1,"app-sdk-version":oe.APP_SDK_VERSION}},tn=St.createAxios(en);var nn;nn={enableURL:[/\/get_task_status/]},tn.interceptors.request.use((e=>{const{enableURL:t}=nn,n=typeof document<"u"&&document.hidden,r=!!e.url&&((e,t)=>t.some((t=>"string"==typeof t?e===t:t.test(e))))(e.url,t);if(n&&r){console.warn("Page is in background, request cancelled:",e.url);const t=new qt(e.url);return Promise.reject(t)}return e})),tn.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=en.headers;return Object.assign(e.headers,Ht({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),tn.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)}));const rn={getTaskCenterStatus:async()=>await tn({url:"/get_task_status"}),getInviteInfo:async e=>await tn({url:"/get_invite_detail",data:e}),getInviteLink:async()=>await tn({url:"/get_invite_link"}),getRewardTasks:async()=>await tn({url:"/get_reward_tasks"}),receiveTasks:async e=>await tn({url:"/receive_tasks",data:e})},on=new Map;const an={baseURL:"/cc/v1/workspace",method:"POST",headers:{loc:oe.CHANNEL,lan:c.ZP.language||oe.LAN,pf:oe.APP_PF,appvr:oe.VERSION,tdid:"","sign-ver":1,"app-sdk-version":oe.APP_SDK_VERSION}},sn=St.createAxios(an);sn.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=an.headers;return Object.assign(e.headers,Ht({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),function(e,t){const{maxAge:n=36e5}=t||{};e.interceptors.request.use((e=>{const{needCache:t}=e.params||{},n=function(e){try{if(!e)return"";const{url:t,data:n}=e;return`${t}${JSON.stringify(n)}`}catch{return""}}(e);if(e.cacheKey=n,!t)return on.delete(n),e;const r=on.get(n);if(r){const{data:t,maxAge:o,cacheStartTime:i}=r;Date.now()<o+i?e.adapter=e=>Promise.resolve({data:t,status:200,statusText:"OK",headers:{},config:e}):on.delete(n)}return e})),e.interceptors.response.use((e=>{const{config:t,status:r,data:o}=e,{cacheKey:i}=t||{};return i&&200===r&&"0"===(null==o?void 0:o.ret)&&on.set(i,{data:o,maxAge:n,cacheStartTime:Date.now()}),e}))}(sn),sn.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t):Promise.reject(e)}return Promise.reject(e)}));const cn={getUserWorkSpace:async e=>await sn({url:"/get_user_workspaces",data:e}),createWorkspace:async e=>await sn({url:"/create_workspace",data:e}),checkCreateWorkspace:async()=>await sn({url:"check_create_workspace"}),getWorkspaceMember:async e=>await sn({url:"/get_member",data:e}),async getAllWorkspaceMember(e){var t,n,r,o,i;let a,s=[];do{a=await sn({url:"/get_member",data:{count:50,cursor:(null==(t=null==a?void 0:a.data)?void 0:t.next_cursor)||"0",workspace_id:e.workspace_id}}),null!=(r=null==(n=null==a?void 0:a.data)?void 0:n.member_list)&&r.length&&(s=(0,u.uniqBy)(s.concat(a.data.member_list),"uid"))}while(null!=(o=null==a?void 0:a.data)&&o.has_more);return{...a,data:{member_list:s,member_cnt:(null==(i=null==a?void 0:a.data)?void 0:i.member_cnt)||0}}},mGetWorkspaceUserInfo:async e=>await sn({url:"/mget_workspace_user_info",data:e}),quitWorkspace:async e=>await sn({url:"/quit_user",data:e}),mGetWorkspaceInfo:async e=>await sn({url:"/mget_workspace_info",data:e}),getWorkspaceInfoEverPhotoToken:async e=>await sn({url:"/get_ever_photo_token",data:e}),getInvitationLink:async e=>await sn({url:"/get_invitation_link",data:e}),setWorkspaceUser:async e=>await sn({url:"/set_user",data:e}),removeWorkspaceUser:async e=>await sn({url:"/remove_user",data:e}),updateUserInfo:async e=>await sn({url:"/update_user_info",data:e}),updateWorkspaceInfo:async e=>await sn({url:"/update_workspace_info",data:e}),joinWorkspace:async e=>await sn({url:"/join_workspace",data:e}),getWorkspaceInfoByInvitationLink:async e=>await sn({url:"/get_workspace_info_by_invitation_link",data:e}),mGetWorkspaceEverphotoUserInfo:async e=>await sn({url:"/mget_workspace_ever_photo_user_info",data:e}),recentWorkspaceFileOpen:async(e,t)=>await sn({url:"/recent_file_list",data:e,params:{needCache:(null==t?void 0:t.needCache)??!0}}),syncWorkspaceInfoFileOpen:async e=>await sn({url:"/sync_file_open_time",data:e}),refreshUserWorkspaceInvitationLink:async e=>await sn({url:"/refresh_invitation_link",data:e}),updateUserWorkspaceInvitationLinkStatus:async e=>await sn({url:"/update_invitation_link_status",data:e}),workspaceDirectionalInvited:async e=>await sn({url:"/email_directional_invited",data:e}),getWorkspaceFileEditOwner:async e=>await sn({url:"/get_file_edit_owner",data:e}),updateWorkspaceFileEditOwner:async e=>await sn({url:"/update_file_edit_owner",data:e}),mgetWorkspaceFileOpenTime:async e=>await sn({url:"/mget_file_open_time",data:{...e,workspace_id:e.workspace_id||"0"}}),getWorkspaceUploadLinkInfo:async e=>await sn({url:"/get_upload_link_info",data:e}),syncWorkspaceFile:async e=>await sn({url:"/sync_file_everphoto",data:e}),syncFileEverphotoState:async e=>await sn({url:"/sync_file_everphoto_state",data:e}),workspaceSensitiveWord:async e=>await sn({url:"/sensitive_word",data:e}),updateUserWorkspaceUploadLink:async e=>await sn({url:"/update_workspace_upload_link",data:e}),getUserWorkspaceUploadLink:async e=>await sn({url:"/get_workspace_upload_link",data:e}),getAllEverPhotoUser:async()=>await sn({url:"get_all_everphoto_user"}),notifyUploadLink:async e=>await sn({url:"upload_link_notify",data:e}),getOnboardSample:async e=>await sn({url:"/list_onboard_sample",data:e}),createOnboardDraft:async e=>await sn({url:"/create_onboard_draft",data:e})},ln={baseURL:"/lv/v1",method:"POST",headers:{loc:oe.CHANNEL,lan:c.ZP.language||oe.LAN,pf:oe.APP_PF,appvr:oe.VERSION,tdid:"","sign-ver":1,"app-sdk-version":oe.APP_SDK_VERSION},params:{}},un=St.createAxios(ln);un.interceptors.request.use((e=>{const{pf:t,appvr:n,tdid:r}=ln.headers;return Object.assign(e.headers,Ht({url:`${e.baseURL}${e.url}`,pf:t,appvr:n,tdid:r})),e})),un.interceptors.response.use((e=>{if(200===e.status){const t=e.data;return"0"===t.ret?Promise.resolve(t.data):Promise.reject(e)}return Promise.reject(e)})),Dt(un,{retries:5,resetTimeout:!0,retryDelay:1e3,isRetry:()=>!0});const dn={getCareerQuestionnaire:async()=>un({url:"/persona/get_questionnaire",method:"POST"}),submitCareerQuestionnaire:async e=>un({url:"/persona/submit_questionnaire",method:"POST",data:e})};(0,G.createContext)({locale:void 0});const pn="capcut_locale";function fn(){const e={};return function t(n){if(n instanceof Array)n.forEach((e=>t(e)));else if(n instanceof Object){if(n.PATH&&void 0!==n.HAS_LOCALE_PREFIX)return void(e[n.PATH]={matcher:n.MATCHER,hasLocalePrefix:n.HAS_LOCALE_PREFIX});t(Object.values(n))}}(re),e}const hn=class e{constructor(e){const t={countryCode:typeof window<"u"?window.__locationCountryCode:void 0,defaultLocale:"en",isServer:!1};this.options=Object.assign({},t,e,{cookieName:pn}),this.options.locale&&this._validateLocale(this.options.locale)?this.locale=this.options.locale:this._initLocale(),this._listenCookieChange()}static getLocalPrefix(e){let t;const n=this.getSupportLocales();for(const{locale:r,pathPrefix:o}of n){const n=`/${o}/`;if(e.startsWith(n))return t=r,t}return t}static getPathPrefix(e){const t=this.getSupportLocales();for(const{pathPrefix:n}of t){const t=`/${n}/`;if(e.startsWith(t))return n}}static isValidLocalPath(e,t={forceLocal:!1}){const n=this.getPathPrefix(e),r=fn(),o=Object.entries(r).map((([e,{matcher:t,hasLocalePrefix:n}])=>({hasLocalePrefix:n,route:e,matcher:(0,d.EQ)(e,{decode:decodeURIComponent}),localMatcher:(0,d.EQ)(t,{decode:decodeURIComponent})})));for(let i=0;i<o.length;i++){const r=o[i];if(r.matcher(e)&&!n)return!t.forceLocal||r.hasLocalePrefix;if(r.hasLocalePrefix&&r.localMatcher(e))return!!n}return!1}static formatRoutePath({locale:e,path:t,forceAddLocalePrefix:n=!1}){var r;let o=!1;"en"===e||null!=e&&e.includes("-")?e===je&&(e=He.Spanish.key):e=Object.values(He).map((e=>e.key)).find((t=>t.startsWith(e)))||e;const i=this.getSupportLocales();if(!Me[e]&&"en"!==e)return t;for(const{pathPrefix:l}of i)if(l){const e=`/${l}/`;if(t.startsWith(e)){t=t.replace(e,"/"),o=!0;break}}if(n||o)return Me[e]?`/${Me[e]}${t}`:t;const a=fn(),s=Object.keys(a),c=s.map((e=>(0,d.EQ)(e,{decode:decodeURIComponent})));for(let l=0;l<c.length;l++)if(c[l](null==(r=null==t?void 0:t.split("?"))?void 0:r[0]))return a[s[l]].hasLocalePrefix&&Me[e]?`/${Me[e]}${t}`:t;return t}static getOriginalPath(e){const t=this.getPathPrefix(e);return t?e.replace(new RegExp(`^/${t}`),""):e}static getOriginalUrl(e){const t=this.getSupportLocales();for(const{pathPrefix:n}of t)if(n&&e.includes(n))return e.replace(new RegExp(`/${n}`),"");return e}static getSupportLocales(){return Object.values(He).filter((e=>!e.disable)).map((({key:e,text:t,pathPrefix:n})=>({locale:e,pathPrefix:n,text:t})))}static getHreflangLocales(){const t=e.getSupportLocales(),n={[He.Spanish.key]:je,[He.Filipino.key]:"tl-PH",[He.TraditionalChinese.key]:"zh-TW"};return(0,u.flatten)(t.map((e=>{const t={locale:e.locale,hreflang:e.locale},r=[];return n[t.locale]&&(t.hreflang=n[e.locale]),t.hreflang.includes("-")&&r.push({locale:t.locale,hreflang:t.hreflang.substring(0,t.hreflang.indexOf("-"))}),r.push(t),r})))}getCurrentLocale({localeFix:e}={localeFix:!1}){return e||this.locale!==je?e&&this.locale===He.Spanish.key?je:this.locale:He.Spanish.key}setCurrentLocale(e,t){null!=t&&t.disableCookie||this._setCookie(e),this.locale=e}getSupportLocales(){return e.getSupportLocales()}formatLocalePath(t){const n={forceAddLocalePrefix:!1,locale:this.getCurrentLocale(),...t},{path:r}=n;if(!r.startsWith("/"))throw new Error("path invalid, please confirm its startsWith /");const{locale:o,forceAddLocalePrefix:i}=n;return e.formatRoutePath({locale:o,path:r,forceAddLocalePrefix:i})}_initLocale(){var t,n;const{cookieName:r,countryCode:o,defaultLocale:i,getBrowserLang:a,cookieGetter:s}=this.options;if(this.isBrowser()){const t=e.getLocalPrefix(window.location.pathname);if(t)return this.locale=t===je?He.Spanish.key:t,void(s(r)||this._setCookie(t))}const c=s(r);if(c&&this._validateLocale(c))return void(this.locale=c);let l=this._formatLocale(a());if(l||(l=i),!o||!Fe[o]||null!=(n=null==(t=Fe[o])?void 0:t.locale)&&n.disable)return this.locale=l,void this._setCookie(l);const{locale:u,useBrowserLang:d}=Fe[o];return d?(this.locale=l,void this._setCookie(l)):(this.locale=u.key,void this._setCookie(u.key))}_setCookie(e){const{cookieName:t,cookieSetter:n,isServer:r}=this.options;n(t,e,r?{maxAge:31536e7,httpOnly:!1,secure:!1,overwrite:!0}:{expires:3650})}_validateLocale(e){return!!e&&!!this.getSupportLocales().find((t=>t.locale===e))}_formatLocale(e){if(!e||this._validateLocale(e))return e;const t=Object.values(He);for(const n of t){const{key:t,matcher:r}=n;if(t===e||e.match(r))return t}}_listenCookieChange(){}isBrowser(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}};hn.CookieName=pn;let _n=hn;function mn(e,t={},n){const r=function(e){const t={};return e.slice(e.indexOf("?")+1).split("&").filter((e=>!!e)).map((e=>{const[n,r]=e.split("=");t[n]=r})),t}(mt()),o=(0,u.omit)({...r,...t},n||[]);let i=e,a="";try{const t=new URL(e);i=t.pathname,a=t.origin}catch{}for(const c in o)o[c]||delete o[c];let s=function(e){const t=[];return Object.keys(e).forEach((n=>{const r=e[n];Array.isArray(r)?r.forEach((function(e){t.push(`${n}=${e}`)})):t.push(`${n}=${r}`)})),t.join("&")}(o);const l=_n.formatRoutePath({path:i,locale:c.ZP.language||"en"}),[,d]=e.split("?");return d&&(s=`${d}&${s}`),`${a}${l}${s?"?":""}${s}`}function gn(e){return e||Ye.error("getIDC-notRegion",new Error(`getIDC-notRegion-${e}`)),[ye.US,ye.BR].find((t=>t===e))?Ae.VA:Ae.GCP}const vn=[It.SELF_CREATE,It.WEB_CONVERT];function wn(e){return function(e){return e===Ue.owner}(null==e?void 0:e.role)&&vn.includes(null==e?void 0:e.space_type)}class En{constructor(){this.reporter=ot()}report(e){this.reporter.report("google_signin_popup_not_show",e)}}var yn=(e=>(e.HEADER="page_header",e.FOOTER="page_footer",e))(yn||{});class An{constructor(){this.reporter=ot()}report(e){this.reporter.report("switch_homepage_tab",e)}}const bn={isUserLogin:!1,checkLoginStartTime:0,hasInjectUserInfo:!1};var Tn=(e=>(e[e.REGISTER=1]="REGISTER",e[e.REGISTER_RETRY=2]="REGISTER_RETRY",e))(Tn||{});const Sn=Object.freeze(Object.defineProperty({__proto__:null,SEND_CODE_TYPE:Tn,default:class{constructor(e){const t=new s.WebInterfaceSdk({...e,aid:Number(oe.APP_ID),scene:"normal",region:oe.CHANNEL,isOversea:!0,captchaHost:e.isBoe?`//boei18n-verify.${ht()}/`:"",language:c.ZP.language||oe.LAN});this.sdk=t}async checkLogin(){return await this.sdk.login.checkLogin({})}async checkEmailHasRegister(e){return await this.sdk.extra.checkEmailRegistered({email:e})}async sendEmailCode(e,t,n=1){return await this.sdk.login.sendEmailCode({email:e,password:t,extra_params:{type:n}})}async emailRegister(e,t,n,r,o,i){return await this.sdk.login.emailRegister({email:e,password:t,code:n,extra_params:{birthday:r,force_user_region:o,biz_param:{invite_code:null==i?void 0:i.invitedCode}},ifLogin:!0})}async emailLogin(e,t){return await this.sdk.login.emailLogin({email:e,password:t})}async sendForgetPwdEmailCode(e,t){return await this.sdk.verify.notLoginSendEmailCode({email:e,extra_params:{type:4,next:t}})}async validateForgetPwdCode(e,t){return await this.sdk.verify.notLoginValidateEmail({email:e,code:t,extra_params:{type:4}})}async resetForgetPwd(e,t){return await this.sdk.forgetPwd.resetPwdByEmailTicket({ticket:e,password:t})}async getQRCode(e=""){return this.sdk.qrcodeLogin.getQrcode({next:e})}async checkQrconnect(e){return this.sdk.qrcodeLogin.checkQrconnect(e)}signin(e=window.location.href){window.location.href=`${window.location.origin}${re.LOGIN.PATH}`}signinWithWindow(e,t){const n=(window.screen.height-30-600)/2,r=(window.screen.width-800)/2,o=`${location.origin}${re.PASSPORT_LOGIN.PATH}`,i=`${location.origin}${re.LOGIN_STATUS_SERVER.PATH}${null!=t&&t.isInvitePage?`?invite_code=${null==t?void 0:t.invitedCode}`:""}`;return window.open(`${o}?account_sdk_source=web&aid=${oe.APP_ID}&next=${encodeURIComponent(i)}&platform_app_id=${e}&use_local_host=1&action=undefined&scopes=email`,"name=login",`fullscreen=1,width=800,height=600,top=${n},left=${r}`)}signinWithCode(e){return this.sdk.login.authLogin(e)}scanLoginWithWindow(e="login",t={}){const n=(window.screen.height-30-513)/2,r=(window.screen.width-680)/2,o=`${location.origin}${re.SCAN_QR_CODE.PATH}${function(e){const t=new URLSearchParams;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(null!=r&&""!==r)if(Array.isArray(r))for(const e of r)null!=e&&""!==e&&t.append(n,e);else t.set(n,r)}return`?${t.toString()}`}({...t,scan_type:e})}`;return window.open(o,"name=login",`fullscreen=1,width=680,height=513,top=${n},left=${r}`)}signout(e=window.location.href){this.sdk.login.logout({next:e})}}},Symbol.toStringTag,{value:"Module"}));var Cn=(e=>(e[e.FILL_IN_BASE_INFO=0]="FILL_IN_BASE_INFO",e[e.ENTER_BIRTHDAY=1]="ENTER_BIRTHDAY",e[e.ENTER_VERIFICATION_CODE=2]="ENTER_VERIFICATION_CODE",e[e.FORGET_PWD_INFO=3]="FORGET_PWD_INFO",e))(Cn||{}),In=(e=>(e[e.FillInEmail=0]="FillInEmail",e[e.ResendEmail=1]="ResendEmail",e[e.ResetPwd=2]="ResetPwd",e))(In||{});const Pn=60,Ln=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,On=/^[\w ~!@#$%^&*()+,.:;=<>?/|\-[\]\\]{6,20}$/,Rn=(0,r.C)({id:"emailSignIn",initial:"signUp",context:{isBOE:!1,passport:async()=>null,isNewSignupUser:!1,source:ct.SignUp,currentWindow:0,email:"",password:"",birthday:"",region:"",code:"",ticket:"",sendCodetype:Tn.REGISTER,resendEmailCodeCountDown:Pn,emailHasRegisterCb:void 0,sendEmailCodeErrorCb:void 0,sendEmailCodeSuccessCb:void 0,verificationCodeErrorCb:void 0,registerErrorCb:void 0,loginErrorCb:void 0,pageEnterFrom:"",currentPage:""},entry:"start",states:{signUp:{entry:"saveSignUpType",initial:"fillInRegisterInfo",states:{fillInRegisterInfo:{entry:(0,o.f0)({currentWindow:0}),on:{NEXT:{target:"checkingEmailHasRegister",actions:["reportSignUpAction"]},SAVE_EMAIL:{actions:"saveEmail"},SAVE_PASSWORD:{actions:"savePassword"}}},checkingEmailHasRegister:{entry:"saveSignInInfo",invoke:{id:"fetchEmailNotRegister",src:"fetchEmailNotRegister",onDone:{target:"enterBirthday"},onError:{target:"fillInRegisterInfo"}}},enterBirthday:{entry:(0,o.f0)({currentWindow:1}),on:{CONFIRM_BIRTHDAY:{target:"sendingEmailCode",actions:["updateBirthday"]},RETURN_SIGN_IN:{target:"fillInRegisterInfo",actions:["clearBirthday"]}}},sendingEmailCode:{id:"sendingEmailCode",invoke:{id:"fetchSendEmailCode",src:"fetchSendEmailCode",onDone:{actions:["initCountDown"],target:"enterVerificationCode"},onError:{actions:"notifySendEmailCodeError"}},on:{BACK_TO_ENTER_CODE:"enterVerificationCode",BACK_TO_FILL_REGISTER_INFO:"fillInRegisterInfo"}},enterVerificationCode:{entry:(0,o.f0)({currentWindow:2}),initial:"countingDown",states:{countingDown:{invoke:{id:"execCountingDown",src:"execCountingDown"},on:{UPDATE_COUNT_DOWN:{actions:"updateCountDown"},COUNT_DOWN_ZERO:{target:"allowResendVerificationCode"}}},allowResendVerificationCode:{on:{RESEND:{target:"#sendingEmailCode"}}}},on:{CONFIRM_REGISTER:{target:"registering",actions:["reportComfirmAction"]},BACK_TO_LOGIN:{target:"fillInRegisterInfo"},BACK_TO_BIRTHDAY:{target:"enterBirthday"}}},registering:{invoke:{id:"fetchEmailCodeRegister",src:"fetchEmailCodeRegister",onDone:{actions:["notifySignSuccess","storeIsNewSignupUser"],target:"#signInSuccess"},onError:{actions:["notifyRegisterError",(0,o.lj)(((e,t)=>{var n,r;return{type:"SIGN_IN_FAIL",params:{source:ct.SignUp,type:"email",errorCode:null==(n=null==t?void 0:t.data)?void 0:n.errro_code,errorMsg:null==(r=null==t?void 0:t.data)?void 0:r.description}}}))],target:"enterVerificationCode"}}}}},signIn:{entry:"saveSignInType",initial:"fillInSignInInfo",states:{fillInSignInInfo:{entry:(0,o.f0)({currentWindow:0}),on:{CONFIRM_SIGN:{target:"signing",actions:["reportLoginAction"]},SAVE_EMAIL:{actions:"saveEmail"}}},signing:{entry:"saveSignInInfo",invoke:{id:"fetchEmailCodeLogin",src:"fetchEmailCodeLogin",onDone:{actions:["notifySignSuccess"],target:"#signInSuccess"},onError:{actions:["notifyLogInError",(0,o.lj)(((e,t)=>{var n,r;return{type:"SIGN_IN_FAIL",params:{source:ct.LoginIn,type:"email",errorCode:null==(n=null==t?void 0:t.data)?void 0:n.error_code,errorMsg:null==(r=null==t?void 0:t.data)?void 0:r.description}}}))],target:"fillInSignInInfo"}}}}},signInSuccess:{id:"signInSuccess",type:"final",entry:(0,o.lj)((e=>({type:"SIGN_IN_SUCCESS",params:{source:e.source,type:"email",isLoginNewUser:e.isNewSignupUser?1:0},extra:{isNewSignupUser:e.isNewSignupUser}})))},forgetPwd:{entry:"saveForgetType",initial:"idle",states:{idle:{on:{TO_SEND_RESET_EMAIL_INFO:{target:"fillInResetEmailInfo",actions:["reportFillInResetEmailInfo","initSendEmailInfo"]},TO_RESET_PASSWORD:{actions:"initResetEmailCodeErrorCb",target:"checkResetCode"},SAVE_PWD_CODE:{actions:["initSaveCodeAndEmail"]}}},fillInResetEmailInfo:{id:"fillInResetEmailInfo",on:{SEND_EMAIL:{actions:["reportSendEmail"],target:"checkingResetEmailHasRegister"},SAVE_EMAIL:{actions:["saveEmail"]},BACK_SIGN_IN:{actions:["reportBack"]},INIT_RESET_EMAIL_ERROR_CB:{actions:["initResetEmailErrorCb"]}}},checkingResetEmailHasRegister:{entry:"syncGetParentContext",id:"checkingResetEmailHasRegister",invoke:{id:"checkingResetEmailHasRegister",src:"fetchEmailRegister",onDone:{target:"sendResetEmailCode"},onError:{target:"fillInResetEmailInfo"}}},sendResetEmailCode:{id:"sendResetEmailCode",invoke:{id:"fetchSendResetEmailCode",src:"fetchSendResetEmailCode",onDone:{actions:["intoResendEmailProcess"],target:"resetTimeCounting"},onError:{target:"fillInResetEmailInfo"}}},resetTimeCounting:{initial:"countingDown",entry:"initCountDown",states:{countingDown:{invoke:{id:"execCountingDown",src:"execCountingDown"},on:{UPDATE_COUNT_DOWN:{actions:"updateCountDown"},COUNT_DOWN_ZERO:{target:"allowResendResetEmail"},BACK_SIGN_IN:{actions:["reportBack"]},TO_SEND_RESET_EMAIL_INFO:{target:"#fillInResetEmailInfo",actions:["reportFillInResetEmailInfo","initSendEmailInfo"]}}},allowResendResetEmail:{on:{RESEND:{actions:["reportResendEmail"],target:"#sendResetEmailCode"},BACK_SIGN_IN:{actions:["reportBack"]}}}},on:{BACK_SIGN_IN:{actions:["reportBack"]}}},checkResetCode:{invoke:{id:"checkResetCode",src:"checkResetCode",onDone:{target:"resetPassword",actions:["intoResetPwdProcess","saveTicket"]},onError:{actions:["cleanEmail","notifyCheckResetCodeError"]}}},resetPassword:{on:{CONFIRM_PASSWORD:{target:"sendConfirmReset"},BACK_SIGN_IN:{actions:["cleanEmail","reportBack"]},INIT_RESET_SUCCESS_CB:{actions:["initResestSuccessCb"]}}},sendConfirmReset:{invoke:{id:"execSendConfirmReset",src:"execSendConfirmReset",onDone:{target:"#signInSuccess",actions:["reportSendConfirmResetPwd","notifyResetSuccessCb"]},onError:{actions:"notifySendConfirmResetError"}}}}}},on:{CHECK_EMAIL_HAS_REGISTER:{actions:"checkEmailHasRegister"},MOBILE_TO_SIGN_IN:{target:"signIn",actions:["reportChangeToLoginPage","reportLoginPageShow"]},MOBILE_TO_SIGN_UP:{target:"signUp",actions:["reportChangeToSignUpPage","reportSignUpPageShow"]},MOBILE_TO_SIGN_IN_EMAIL:{target:"signIn"},MOBILE_TO_SIGN_UP_EMAIL:{target:"signUp"},TO_SIGN_IN:{target:"signIn",actions:["reportLoginPageShow"]},TO_SIGN_UP:{target:"signUp",actions:["reportSignUpPageShow"]},TO_FORGET_PWD:{target:"forgetPwd"},INIT_REGISTER_ERROR_CB:{actions:"initRegisterErrorCb"},INIT_LOGIN_ERROR_CB:{actions:"initLoginErrorCb"},INIT_SEND_CODE_ERROR_CB:{actions:"initSendEmailCodeErrorCb"},INIT_LOGIN_SUCCESS_CB:{actions:"initLoginSuccessCb"},INIT_EMAIL_SEND_PARAMS:{actions:"initEmailSendParams"},REPORT_SIGN_IN_ACTION:{actions:(0,o.lj)(((e,t)=>({type:"SIGN_IN_ACTION",params:{source:e.source,action:t.action}})))},CHANGE_CONTEXT:{actions:["changeContext"]}}},{actions:{start:()=>{},saveSignInType:(0,o.f0)({source:e=>ct.LoginIn}),saveSignUpType:(0,o.f0)({source:e=>ct.SignUp}),saveForgetType:(0,o.f0)({source:e=>ct.LoginIn,currentWindow:e=>3}),saveSignInInfo:(0,o.f0)({email:(e,t)=>{var n;return null==(n=t.email)?void 0:n.trim()},password:(e,t)=>t.password}),saveEmail:(0,o.f0)({email:(e,t)=>{var n;return null==(n=t.email)?void 0:n.trim()}}),savePassword:(0,o.f0)({password:(e,t)=>t.password}),saveStep:(0,o.f0)({step:(e,t)=>t.step}),saveTicket:(0,o.f0)({ticket:(e,t)=>t.data.ticket}),storeIsNewSignupUser:(0,o.f0)({isNewSignupUser:(e,t)=>!0}),initSaveCodeAndEmail:(0,o.f0)({code:(e,t)=>t.code,email:(e,t)=>{var n;return null==(n=t.email)?void 0:n.trim()}}),initRegisterErrorCb:(0,o.f0)({registerErrorCb:(e,t)=>t.func}),initLoginErrorCb:(0,o.f0)({loginErrorCb:(e,t)=>t.func}),initSendEmailCodeErrorCb:(0,o.f0)({sendEmailCodeErrorCb:(e,t)=>t.func}),initLoginSuccessCb:(0,o.f0)({loginSuccessCb:(e,t)=>t.func}),initResetEmailErrorCb:(0,o.f0)({sendResetEmailErrorCb:(e,t)=>t.func}),initResestSuccessCb:(0,o.f0)({sendResetSuccessCb:(e,t)=>t.func}),initResetEmailCodeErrorCb:(0,o.f0)({validateResetEmailCodeCb:(e,t)=>t.func}),initEmailSendParams:(0,o.f0)({pageEnterFrom:(e,t)=>t.pageEnterFrom,currentPage:(e,t)=>t.currentPage}),initSendEmailInfo:(0,o.f0)({step:e=>0}),notifyResetSuccessCb:e=>{var t;null==(t=e.sendResetSuccessCb)||t.call(e)},notifySendResetEmailCodeError:()=>{},notifySendEmailCodeError:(e,t)=>{var n;null==(n=e.sendEmailCodeErrorCb)||n.call(e,{data:new Error(t.data.error_code)})},notifySendEmailCodeSuccess:e=>{var t;null==(t=e.sendEmailCodeSuccessCb)||t.call(e)},initCountDown:(0,o.f0)({resendEmailCodeCountDown:()=>Pn}),notifyVerificationCodeError:e=>{var t;null==(t=e.verificationCodeErrorCb)||t.call(e)},notifyLogInError:(e,t)=>{var n;null==(n=null==e?void 0:e.loginErrorCb)||n.call(e,{data:new Error(t.data.error_code)})},notifyRegisterError:(e,t)=>{var n;null==(n=null==e?void 0:e.registerErrorCb)||n.call(e,{data:new Error(t.data.error_code)})},notifySignSuccess:e=>{var t;null==(t=null==e?void 0:e.loginSuccessCb)||t.call(e)},notifyCheckResetCodeError:e=>{var t;null==(t=null==e?void 0:e.validateResetEmailCodeCb)||t.call(e)},updateCountDown:(0,o.f0)({resendEmailCodeCountDown:(e,t)=>t.data}),reportLoginPageShow:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"show"}}),reportSignUpPageShow:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.SignUp,action:"show"}}),reportChangeToLoginPage:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.SignUp,action:"log_in"}}),reportChangeToSignUpPage:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"sign_up"}}),changeContext:(0,o.f0)(((e,t)=>({...e,...t.context}))),reportLoginAction:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"log_in"}}),reportSignUpAction:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.SignUp,action:"sign_up"}}),reportComfirmAction:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.SignUp,action:"confirm"}}),reportFillInResetEmailInfo:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"forgot_password"}}),reportSendEmail:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"confirm_email"}}),reportBack:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"back"}}),reportResendEmail:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"resend_email"}}),reportSendConfirmResetPwd:(0,o.lj)({type:"SIGN_IN_ACTION",params:{source:ct.LoginIn,action:"confirm_password"}}),syncGetParentContext:(0,o.lj)({type:"SYNC_CONTEXT"}),updateBirthday:(0,o.f0)({birthday:(e,t)=>t.value,region:(e,t)=>t.region}),clearBirthday:(0,o.f0)({birthday:()=>""}),cleanEmail:(0,o.f0)({email:()=>""}),intoResendEmailProcess:(0,o.f0)({step:e=>1}),intoResetPwdProcess:(0,o.f0)({step:e=>2}),checkEmailHasRegister:async({passport:e},t)=>{var n;const{email:r,checkEmailHasRegisterCb:o,onError:i}=t;null==(n=await e())||n.checkEmailHasRegister(r).then((e=>{if(void 0===(null==e?void 0:e.is_registered))throw new Error("checkEmailHasRegister error");null==o||o(!(null==e||!e.is_registered))})).catch((()=>{null==i||i()}))}},services:{fetchEmailNotRegister:async({passport:e,emailHasRegisterCb:t},n)=>{var r;return null==(r=await e())?void 0:r.checkEmailHasRegister(n.email).then((e=>{var r,o;if(0===(null==e?void 0:e.is_registered))return null==(r=null==n?void 0:n.emailNotRegisterCb)||r.call(n),!0;throw null==(o=null==n?void 0:n.emailHasRegisterCb)||o.call(n),null==t||t(),new Error}),(e=>{var t;throw null==(t=null==n?void 0:n.onError)||t.call(n,e),new Error}))},fetchEmailRegister:async({passport:e,emailHasRegisterCb:t},n)=>{var r;return null==(r=await e())?void 0:r.checkEmailHasRegister(n.email).then((e=>{var r,o;if(0===(null==e?void 0:e.is_registered))throw null==(r=null==n?void 0:n.emailNotRegisterCb)||r.call(n),new Error;return null==(o=null==n?void 0:n.emailHasRegisterCb)||o.call(n),null==t||t(),!0}),(e=>{var t;throw null==(t=null==n?void 0:n.onError)||t.call(n,e),new Error}))},fetchSendEmailCode:async({email:e,password:t,passport:n},r)=>{var o;return null==(o=await n())?void 0:o.sendEmailCode(e,t,null==r?void 0:r.code)},fetchEmailCodeRegister:async({email:e,password:t,birthday:n,region:r,passport:o,invitedCode:i},a)=>{var s;return null==(s=await o())?void 0:s.emailRegister(e,t,null==a?void 0:a.code,n,r,{invitedCode:i})},fetchEmailCodeLogin:async({email:e,password:t,passport:n})=>{var r;return null==(r=await n())?void 0:r.emailLogin(e,t)},execCountingDown:({resendEmailCodeCountDown:e})=>t=>{let n=e;if(0===n)return void t("COUNT_DOWN_ZERO");const r=setInterval((()=>{n--,t({type:"UPDATE_COUNT_DOWN",data:n}),0===n&&(clearInterval(r),t("COUNT_DOWN_ZERO"))}),1e3);return()=>{clearInterval(r)}},fetchSendResetEmailCode:async({email:e,passport:t,sendResetEmailErrorCb:n,pageEnterFrom:r,currentPage:o})=>{var i;const a=`${window.location.origin}${re.FORGET_PWD.PATH}?enter_from=${r??""}&current_page=${o??""}`;return null==(i=await t())?void 0:i.sendForgetPwdEmailCode(e,a).then((e=>e),(e=>{throw null==n||n(e),new Error}))},checkResetCode:async({email:e,code:t,passport:n})=>{var r;return null==(r=await n())?void 0:r.validateForgetPwdCode(e,t||"")},execSendConfirmReset:async({ticket:e,passport:t},n)=>{var r;return null==(r=await t())?void 0:r.resetForgetPwd(e,n.pwd)}}}),kn=(0,r.C)({id:"LvTeamInviteMachine",context:{inviteLink:"",workspaceInfo:{inviter_nickname:"***",name:"***",inviter_avatar:""},errCode:void 0,joinWorkspaceSuccessCb:null,joinWorkspaceErrorCb:null},initial:"unknown",states:{unknown:{always:[{target:"loading",cond:"checkInviteLink"},{target:"error"}]},loading:{invoke:{id:"fetchWorkspaceInfo",src:"fetchWorkspaceInfo",onDone:{target:"hasInfo",actions:["saveWorkspaceInfo"]},onError:{target:"error",actions:["saveErrCode"]}}},hasInfo:{},error:{},join:{invoke:{id:"joinWorkspace",src:"joinWorkspace",onDone:{actions:["saveWorkspaceInfo","handleJoinWorkspaceSuccess"]},onError:{target:"error",actions:["saveErrCode","handleJoinWorkspaceError"]}}}},on:{REFRESH:{actions:"resetInviteLink",target:"unknown"},JOIN_WORKSPACE:{target:"join"}}},{services:{fetchWorkspaceInfo:async({inviteLink:e})=>{if(!e)return Promise.reject();const t=await cn.getWorkspaceInfoByInvitationLink({invitation_link:e}).then((e=>null==e?void 0:e.data));return null!=t&&t.workspace_info?t:Promise.reject()},joinWorkspace:async({inviteLink:e})=>{var t;if(!e)return Promise.reject();const n=await cn.joinWorkspace({invitation_link:e});return null!=(t=null==n?void 0:n.data)&&t.workspace_info?n.data:Promise.reject()}},actions:{saveWorkspaceInfo:(0,o.f0)(((e,t)=>{const{workspace_info:n}=t.data;return{workspaceInfo:{...n}}})),resetInviteLink:(0,o.f0)((({inviteLink:e},t)=>({inviteLink:t.newLink?t.newLink:e,joinWorkspaceSuccessCb:t.joinWorkspaceSuccessCb?t.joinWorkspaceSuccessCb:null,joinWorkspaceErrorCb:t.joinWorkspaceErrorCb?t.joinWorkspaceErrorCb:null}))),saveErrCode:(0,o.f0)(((e,t)=>{var n,r,o,i;return null!=(r=null==(n=null==t?void 0:t.data)?void 0:n.data)&&r.ret?{errCode:parseInt(null==(i=null==(o=null==t?void 0:t.data)?void 0:o.data)?void 0:i.ret,10)}:{errCode:Be}})),handleJoinWorkspaceError:e=>{var t;return null==(t=e.joinWorkspaceErrorCb)?void 0:t.call(e,e)},handleJoinWorkspaceSuccess:e=>{var t;return null==(t=e.joinWorkspaceSuccessCb)?void 0:t.call(e,e)}},guards:{checkInviteLink:e=>!(null==e||!e.inviteLink)}}),Nn=new class{constructor(){this.reporter=ot()}reportSignIn(e){this.reporter.report("google_signin_popup",e)}},xn=new g.Z,Dn="sign";function Hn(e){var t;const n=null==(t=window.googleOneTapLogMomentResults)?void 0:t.shift();if(null==n||!n.type)return;const r=n.duration?Math.round(n.duration):Math.round(window.performance.now());Nn.reportSignIn({action:n.type,current_page:e,duration:"show"===n.type?r:void 0})}function Mn(e){const t=null==window?void 0:window.googleNotificationNotDisplayReason;if(!t)return;const n=Math.round(window.performance.now());(new En).report({reason:t,current_page:e||"",duration:n}),Ye.log(t),window.googleNotificationNotDisplayReason=""}async function Fn(e,t,n=!1){var r;const o=null==(r=window.googleOneTapResults)?void 0:r.pop();if(!o)return;Nn.reportSignIn({action:"signin",current_page:t,signin_type:"auto"===o.select_by?"auto":"user"});const i=await(await e()).signinWithCode({platform_app_id:n?me.Google:_e.Google,access_token_secret:o.credential});xn.emit(Dn,{status:le.Success,extraData:{isNewSignupUser:!!i.new_user,isFromGoogleOneTap:!0,isGoogleOneTapAutoSelect:"auto"===o.select_by}})}async function jn(e,t=!1){var n;const r=null==(n=window.SignInWithGoogleBtnResults)?void 0:n.pop();if(!r)return;const o=await(await e()).signinWithCode({platform_app_id:t?me.Google:_e.Google,access_token_secret:r.credential});xn.emit(Dn,{status:le.Success,extraData:{isNewSignupUser:!!o.new_user,isFromGoogleSignInBtn:!0}})}const Un=(0,r.C)({id:"ThirdPartSignInMachine",initial:"idle",context:{isBOE:!1,passport:async()=>null,name:"",source:ct.LoginIn},invoke:{id:"listeningStateChange",src:"listeningStateChange"},entry:["invokeGoogleOneTapFunc","injectGoogleOneTapFunc","invokeSignInWithGoogleBtnFunc","injectSignInWithGoogleBtnFunc"],states:{idle:{},authorizing:{invoke:{id:"thirdPartAuth",src:"thirdPartAuth"}},success:{entry:["notifySignSuccess",(0,o.lj)((({name:e,source:t,authType:n,currentPage:r},o)=>{const{data:i}=o,a={isThirdparty:!0,source:t,type:e,isLoginNewUser:null!=i&&i.isNewSignupUser?1:0};return n===ve.googleOneTab&&(a.pageEnterFrom="google",a.statusEnterFrom="google"),n===ve.googleOneTabAutoSelect&&(a.pageEnterFrom="google_auto",a.statusEnterFrom="google_auto"),r&&(a.currentPage=r),{type:"SIGN_IN_SUCCESS",params:a,extra:i}}))]},fail:{entry:(0,o.lj)((({name:e,source:t,errorCode:n,errorMsg:r,authType:o,currentPage:i})=>{const a={source:t,type:e,errorCode:n,errorMsg:r};return o===ve.googleOneTab&&(a.pageEnterFrom="google",a.statusEnterFrom="google"),o===ve.googleOneTabAutoSelect&&(a.pageEnterFrom="google_auto",a.statusEnterFrom="google_auto"),i&&(a.currentPage=i),{type:"SIGN_IN_FAIL",params:a}}))}},on:{AUTH:{target:"authorizing",internal:!1,actions:["clearStatus","updateName","updateSource","updateAuthType","updateCurrentPage","updateScanCodeParams","setCallback"]},AUTH_SUCCESS:{target:"success",actions:["clearStatus"]},AUTH_FAIL:{target:"fail",actions:["clearStatus"]},UPDATE_ERROR:{actions:["updateError"]},REPORT_SIGN_IN_ACTION:{actions:(0,o.lj)(((e,t)=>({type:"SIGN_IN_ACTION",params:{source:t.source??e.source,action:t.action}})))},INVOKE_CALLBACK:{actions:["invokeCallback"]},CHANGE_CONTEXT:{actions:["changeContext"]},INIT_LOGIN_SUCCESS_CB:{actions:"initLoginSuccessCb"},UPDATE_GOOGLE_ONE_TAP:{actions:["updateGoogleOneTap"]},UPDATE_GOOGLE_SIGNIN_BTN:{actions:["updateGoogleSignInBtn"]}}},{services:{listeningStateChange:()=>e=>function(e){function t(t){if(t.key!==ue)return;const n=t.newValue;"string"==typeof n&&e(n)}function n(t){e(t.status,t.extraData)}return window.addEventListener("storage",t),xn.on(Dn,n),()=>{window.removeEventListener("storage",t),xn.off(Dn,n)}}(((t,n)=>{const r=wt.getString(pe)??void 0,o=wt.getString(fe)??void 0;if(e({type:"INVOKE_CALLBACK",errorCode:r,errorMsg:o}),t===le.Fail&&e({type:"UPDATE_ERROR",errorCode:r,errorMsg:o}),t===le.Success){const t=wt.getJson(de);null!=n&&n.isFromGoogleOneTap&&e({type:"UPDATE_GOOGLE_ONE_TAP",data:{isGoogleOneTapAutoSelect:null==n?void 0:n.isGoogleOneTapAutoSelect}}),null!=n&&n.isFromGoogleSignInBtn&&e({type:"UPDATE_GOOGLE_SIGNIN_BTN"}),e({type:"AUTH_SUCCESS",data:n||t})}else e({type:"AUTH_FAIL"})})),thirdPartAuth:async({isBOE:e,passport:t,isInvitePage:n,invitedCode:r,source:o,scanCodeParams:i},a)=>{const{platform:s}=a,c=await t(),l=new URL(window.location.href),u=s===_e.TikTok||e&&s===me.TikTok||s===_e.TikTokLive||e&&s===me.TikTokLive,d=s===_e.ScanCode||e&&s===me.ScanCode;if(u)!function(e,t){const n=Math.random().toString(36).substring(2),r=(window.screen.height-30-600)/2,o=(window.screen.width-800)/2;wt.setString(he,n);const i=new URLSearchParams;if(null!=t&&t.isInvitePage&&i.set("invite_code",(null==t?void 0:t.invitedCode)||""),null!=t&&t.isTTLive){const e=new URL(window.location.href);[Ve.UTM_MEDIUM,Ve.UTM_SOURCE,Ve.OPEN_ID,Ve.VID,"jump_action"].forEach((t=>{const n=e.searchParams.getAll(t);null!=n&&n.length&&n.forEach((e=>i.append(t,e)))}))}const a=JSON.stringify({csrfState:n,query:i.toString()}),s=`${location.origin}${re.TIKTOK_AUTH.PATH}/`,c=`https://www.tiktok.com/v2/auth/authorize?client_key=${e?"awexgwrczzlw45x2":"awgqf85tcl10dy2w"}&scope=${ge.TikTok}${null!=t&&t.isTTLive?`,${ge.TikTokLive}`:""}&response_type=code&redirect_uri=${encodeURIComponent(s)}&state=${encodeURIComponent(a)}`;null!=t&&t.isTTLive?window.open(c,"_self"):window.open(c,"name=login",`fullscreen=1,width=800,height=600,top=${r},left=${o}`)}(e,{isInvitePage:n,invitedCode:r,isTTLive:l.searchParams.get(Ve.UTM_MEDIUM)===qe.TIKTOK_LIVE});else if(d)null==c||c.scanLoginWithWindow(o===ct.LoginIn?"login":"sign_up",i);else if(s){const e=null==c?void 0:c.signinWithWindow(s,{isInvitePage:n,invitedCode:r}),t=setInterval((function(){null!=e&&e.closed&&(localStorage.getItem(ue)===le.Success?console.warn("login success"):console.warn("close"),clearInterval(t))}),1e3)}}},actions:{clearStatus:()=>{wt.removeItem(ue),wt.removeItem(pe),wt.removeItem(fe),wt.removeItem(de),wt.removeItem(he)},updateName:(0,o.f0)({name:(e,t)=>t.name}),updateSource:(0,o.f0)({source:(e,t)=>t.source}),updateAuthType:(0,o.f0)({authType:(e,t)=>t.authType}),updateCurrentPage:(0,o.f0)({currentPage:(e,t)=>t.currentPage}),updateError:(0,o.f0)({errorCode:(e,t)=>t.errorCode,errorMsg:(e,t)=>t.errorMsg}),setCallback:(0,o.f0)({callback:(e,t)=>t.callback}),invokeCallback:(0,o.f0)((({callback:e},t)=>{const{errorCode:n,errorMsg:r}=t;return null==e||e({errorCode:n,errorMsg:r}),{callback:void 0}})),changeContext:(0,o.f0)(((e,t)=>({...e,...t.context}))),invokeGoogleOneTapFunc:({passport:e,isBOE:t,currentPage:n})=>{const r=window.googleOneTapLogMomentResults,o=(null==r?void 0:r.length)??0;for(let i=0;i<o;i++)Hn(n);Mn(n||""),Fn(e,n,t)},injectGoogleOneTapFunc:({passport:e,isBOE:t,currentPage:n})=>{window.handleGoogleOneTapMoment=()=>{Hn(n),Mn(n||"")},window.handleGoogleOneTapResult=()=>{Fn(e,n,t)}},invokeSignInWithGoogleBtnFunc:({passport:e,isBOE:t})=>{jn(e,t)},injectSignInWithGoogleBtnFunc:({passport:e,isBOE:t})=>{window.handleSignInWithGoogleBtnResult=()=>{jn(e,t)}},initLoginSuccessCb:(0,o.f0)({loginSuccessCb:(e,t)=>t.func}),notifySignSuccess:e=>{var t;const n=vt("state"),r=vt(Ve.UTM_CAMPAIGN),o=(null==n?void 0:n.length)&&"googledrive"===r;null==(t=null==e?void 0:e.loginSuccessCb)||t.call(e,o?"google_drive":void 0)},updateGoogleOneTap:(0,o.f0)({source:e=>ct.LoginIn,authType:(e,t)=>{var n;return null!=(n=null==t?void 0:t.data)&&n.isGoogleOneTapAutoSelect?ve.googleOneTabAutoSelect:ve.googleOneTab},name:e=>"google"}),updateGoogleSignInBtn:(0,o.f0)({source:e=>ct.LoginIn,authType:e=>ve.googleSignInBtn,name:e=>"google"}),updateScanCodeParams:(0,o.f0)({scanCodeParams:(e,t)=>t.scanCodeParams})}}),Bn=(()=>{const e=typeof window<"u",t=t=>!!e&&window.matchMedia(t).matches;let n=t("(display-mode: standalone)");return()=>{const e=t("(display-mode: standalone)"),r=t("(display-mode: fullscreen)");return n=!!e||r&&n,n}})(),Gn=Bn,Wn=()=>{let e;if(typeof window<"u"){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("open_from_pwa"))||void 0}return!!e},Vn=()=>{let e="not_pwa";if(typeof window<"u"&&Gn()){const t=new URL(window.location.href).searchParams;e=(null==t?void 0:t.get("pwa_from"))||"capcut"}return e};var qn=(e=>(e.SEO="SEO",e.Soical="Social",e.SEM="SEM",e.Referal="Referral",e.Direct="Direct",e.Product="product",e.CapCut="CapCut",e))(qn||{});const $n={google:[/([^\/]+\.)?google(\.[^\/]+)(\/|$)/i],bing:[/([^\/]+\.)?bing\.com(\/|$)/i],yahoo:[/([^\/]+\.)?yahoo\.com(\/|$)/i],duckduckgo:[/([^\/]+\.)?duckduckgo\.com(\/|$)/i],yandex:[/([^\/]+\.)?yandex\.com(\/|$)/i],naver:[/([^\/]+\.)?naver\.com(\/|$)/i],facebook:[/([^\/]+\.)?facebook\.com(\/|$)/i,/([^\/]+\.)?fb\.com(\/|$)/i,/([^\/]+\.)?fb\.me(\/|$)/i],youtube:[/([^\/]+\.)?youtube\.com(\/|$)/i,/([^\/]+\.)?youtu\.be(\/|$)/i],twitter:[/([^\/]+\.)?twitter\.com(\/|$)/i,/([^\/]+\.)?t\.co(\/|$)/i],tiktok:[/([^\/]+\.)?tiktok\.com(\/|$)/i],instagram:[/([^\/]+\.)?instagram\.com(\/|$)/i,/([^\/]+\.)?instagr\.am(\/|$)/i],linkedin:[/([^\/]+\.)?linkedin\.com(\/|$)/i],survey:[/survey\.isnssdk\.com(\/|$)/i]},Xn={SEO:[...$n.google,...$n.bing,...$n.yahoo,...$n.duckduckgo,...$n.yandex,...$n.naver],Social:[...$n.facebook,...$n.youtube,...$n.twitter,...$n.tiktok,...$n.instagram,...$n.linkedin],product:[...$n.survey]},Kn=new Map(Object.keys(Xn).reduce(((e,t)=>(Xn[t].forEach((n=>{e.push([n,t])})),e)),[])),Yn=new Map(Object.keys($n).reduce(((e,t)=>($n[t].forEach((n=>{e.push([n,t])})),e)),[]));function zn(e){const t=[...Yn.keys()].find((t=>t.test(e)));return Yn.get(t)??e}function Jn(e){const t=[...Kn.keys()].find((t=>t.test(e)));return Kn.get(t)??function(e){try{const t=["capcut.com","capcut.net"],n=new URL(e.startsWith("http")?e:`https://${e}`);return t.find((e=>n.host.includes(e)))?"CapCut":"Referral"}catch{return"Referral"}}(e)}const Zn="capcut_locale";const Qn=e=>e.toLocaleLowerCase()==="es-LA".toLocaleLowerCase()?"es-ES":e;function er(){const e=[{s:"windows",r:/Windows/},{s:"android",r:/Android/},{s:"CrOS",r:/CrOS/},{s:"linux",r:/(Linux|X11)/},{s:"ios",r:/(iPhone|iPad|iPod)/},{s:"macOrIpad",r:/Mac OS X/},{s:"mac",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}];let t="unknown";for(let n=0;n<e.length;n++){const r=e[n];if(r.r.test(window.navigator.userAgent)){t=r.s,"macOrIpad"===r.s&&(t="MacIntel"===window.navigator.platform&&"number"==typeof window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>1?"ios":"mac");break}}return t}function tr(){var e;try{const t=window.navigator.userAgent;return(null==(e=[{match:"Chrome",value:"Chrome"},{match:"Firefox",value:"Firefox"},{match:"Safari",value:"Safari"},{match:["MSIE","Trident"],value:"Microsoft Internet Explorer"},{match:"Lark",value:"Lark"},{match:"TTWebView",value:"TTWebView"},{match:"Edge",value:"Microsoft Edge"}].find((e=>("string"==typeof e.match&&(e.match=[e.match]),e.match.some((e=>t.includes(e)))))))?void 0:e.value)||""}catch{return""}}function nr(){try{let e="";return window.LV_WEB_VERSION?e=window.LV_WEB_VERSION:window.gfdatav1&&(e=window.gfdatav1.ver),e=e.split(".").filter(((e,t)=>1!==t)).join("."),e}catch{return""}}function rr(){try{return window._currentBranch||""}catch{return""}}function or(e,t){const n="userTracking",{ccWebSlardar:r}=window;r&&("info"===t?r("sendLog",{content:e,extra:{type:n}}):r("captureException",e instanceof Error?e:{content:e},{script:n}))}function ir(e,t){try{sessionStorage.setItem(e,t)}catch(n){or(n,"error")}}function ar(e){try{return decodeURIComponent(e)}catch{return e}}function sr(e){const t=new URLSearchParams(e),n={};for(const[r,o]of t)n[r]=o;return n}const cr="_ut";class lr{constructor(){var e;this.hasInit=!1,this.parsed=sr(location.search),this.referer=(null==(e=document.referrer)?void 0:e.replace(/http(s)*:\/\//i,""))??"",this.isFirstVisitPage=!1,this.isSessionStartPage=!1,this.channel_from="unknown",this.channel_info={},this.branch=rr(),this.seoChannelMap=["google","coccoc","bing","yahoo","duckduckgo","yandex","naver"],this.capcutChannelMap=["capcut.com","capcut.net"]}init(e={autoReport:!0}){this.hasInit||(this.checkPageStatus(),this.initChannelLevel(),this.normalizeMedium(),e.autoReport&&this.reportPvImmediately(),this.hasInit=!0)}start(e={autoReport:!0}){this.init(e)}allowCookie(){this._setCookie(this.channel_info)}getServerInjectUT(){return typeof window<"u"&&window[cr]||null}checkPageStatus(){const{isFirstVisitPage:e,isSessionStartPage:t}=Ze();this.isSessionStartPage=t,this.isFirstVisitPage=e}initChannelLevel(){const e=this._parseUTMParams()??this._parseSEMParams(),t=function(t){try{return sessionStorage.getItem(t)}catch(e){return or(e,"error"),null}}(cr),n=t?function(t){try{return JSON.parse(t)}catch(e){return or(e,"error"),null}}(t):null;if(!e&&n)return void(this.channel_info=n);const r=y.Z.get(cr)??"";if(!e&&r&&this.referer.includes(location.hostname)){const e=sr(decodeURIComponent(r))||{},{source:t,medium:n,sub_source:o,content:i}=e;if((t||n||o||i)&&(this.channel_info=e,!this.hasException(this.channel_info)))return}if(this.getServerInjectUT()&&(this.channel_info={...this.getServerInjectUT()},this.channel_info.channel_from="ut",this.channel_info.session_start_url=location.href,!this.hasException(this.channel_info)))return void ir(cr,JSON.stringify(this.channel_info));const o=this._getParamsNotByCookie();this.channel_info=o,this.channel_info.channel_from="local",this.channel_info.session_start_url=location.href,ir(cr,JSON.stringify(this.channel_info))}reportPvImmediately(){!function(e){try{const t=[98,121,116,101,100,97,110,99,101].map((function(e){return String.fromCharCode(e)})).join("");let n="https://edit-api-va.capcut.com";window.__locationInfo?n=window.__locationInfo.domain.web_domain:/^\S+?\.bytedance\.net$/.test(window.location.host)&&(n=`https://capcut-web-va.${t}.net`);const r=new URL(`${n}/lv/v1/event/report`),o=e.getHeader();if(!o.web_id)throw new Error("no web_id");r.searchParams.append("is_pwa",o.is_pwa),r.searchParams.append("pwa_from",o.pwa_from),r.searchParams.append("open_from_pwa",o.open_from_pwa),r.searchParams.append("web_id",o.web_id),r.searchParams.append("event_name","user_page_view"),r.searchParams.append("os_name",o.os_name),r.searchParams.append("app_version",o.app_version),r.searchParams.append("is_first_visit_page",o.is_first_visit_page),r.searchParams.append("is_session_start_page",o.is_session_start_page),r.searchParams.append("browser",o.browser),r.searchParams.append("referrer",o.referrer),o.branch&&r.searchParams.append("branch",o.branch),y.Z.get(Zn)&&r.searchParams.append(Zn,Qn(y.Z.get(Zn)));const{channel:i}=e.getParams(),a=(0,b.Z)(i,["session_start_url","channel_from"]);(0,T.Z)(a)||r.searchParams.append("custom",JSON.stringify(a)),r.searchParams.append("seo_info",JSON.stringify((0,S.Z)(i,["session_start_url","channel_from"]))),fetch(r.toString(),{referrerPolicy:"unsafe-url",credentials:"include"})}catch(nn){window.ccWebSlardar&&window.ccWebSlardar("captureException",nn,{script:"pv-report"})}}(this)}getParams(){const{medium:e,sub_source:t,source:n,campaign:r,content:o,term:i,channel_from:a,session_start_url:s}=this.channel_info,c={channel_level1:e||"",channel_level2:n||"",channel_level3:t||r||"",channel_level4:o||i||"",channel_from:a||"unknown",session_start_url:s||""};return r&&(c.campaign_id=r),i&&(c.keywords=i),this.branch&&(c.branch=this.branch),{...this.channel_info,channel:c}}getHeader(){var e;const t=document.cookie.match(new RegExp("(^| )_tea_web_id=([^;]+)"));let n=window.GATEWAY_INJECTED_WEB_ID||"";return!n&&null!==t&&(n=t[2]),{is_pwa:Gn()?"1":"0",open_from_pwa:Wn()?"1":"0",pwa_from:Vn(),web_id:n,os_name:er(),is_first_visit_page:this.isFirstVisitPage?"1":"0",is_session_start_page:this.isSessionStartPage?"1":"0",app_version:nr(),browser:tr(),referrer:document.referrer,branch:rr(),user_agent:(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)||""}}normalizeMedium(){var e;const t={tiktok_anchor:"Tiktok_anchor",product:"Product",referal:"Referral",soical:"Social",capcut:"CapCut"},n=null==(e=this.channel_info.medium)?void 0:e.toLowerCase();n&&Object.keys(t).includes(n)&&(this.channel_info.medium=t[n]),this.channel_info.medium=ar(this.channel_info.medium||""),this.channel_info.source=ar(this.channel_info.source||""),this.channel_info.sub_source=ar(this.channel_info.sub_source||""),this.channel_info.content=ar(this.channel_info.content||""),this.channel_info.term=ar(this.channel_info.term||""),this.channel_info.campaign=ar(this.channel_info.campaign||"")}_parseUTMParams(){const{utm_source:e,utm_medium:t,utm_campaign:n,utm_content:r,utm_term:o}=this.parsed;return e?{context:"UTM",source:e,medium:t||"Referral",campaign:n||"",content:r||"",term:o||""}:null}_parseSEMParams(){const{ad_platform_id:e,af_c_id:t,keyword_name:n}=this.parsed;return e&&t?{context:"SEM",source:"string"==typeof e&&e.includes("google")?"google":e,medium:qn.SEM,campaign:t,term:n,content:n}:null}_parseReferer(){return this.referer?{context:"Referer",source:zn(this.referer),medium:Jn(this.referer),campaign:""}:{context:"Referer",source:"enter_url",medium:qn.Direct,campaign:""}}_setCookie(e){y.Z.set(cr,encodeURIComponent(Object.keys(e).reduce(((t,n)=>{const r=e[n];return r&&(t+=`${0===t.length?"":"&"}${n}=${r}`),t}),"")),{path:"/",sameSite:"Strict"})}_getParamsNotByCookie(){return this._parseUTMParams()??this._parseSEMParams()??this._parseReferer()}hasException(e){const t=[e.source&&e.medium===qn.CapCut&&this.seoChannelMap.includes(e.source),e.medium!==qn.CapCut&&["capcut.com","capcut.net"].some((t=>{var n;return null==(n=e.source)?void 0:n.includes(t)})),["tiktok_anchor","product"].includes(e.medium||"")].includes(!0);return t&&(or(JSON.stringify({errorName:"hasException",channel:{...e}}),"info"),ir(cr,""),y.Z.set(cr,"")),t}}const ur=(()=>{let e=null;return()=>(e||(e=new lr),e)})(),dr=(0,r.C)({id:"LvAsyncFuncExec",initial:"execing",states:{execing:{invoke:{id:"invokeAsyncFunc",src:"invokeAsyncFunc",onDone:{target:"success",actions:"notifySuccess"},onError:{target:"fail",actions:"notifyError"}}},success:{type:"final"},fail:{type:"final"}}},{services:{invokeAsyncFunc:e=>e.task.func()},actions:{notifySuccess:(0,o.lj)(((e,t)=>({type:"EXEC_SUCCESS",id:e.id,data:t.data}))),notifyError:(0,o.lj)(((e,t)=>({type:"EXEC_FAIL",id:e.id,data:t.data})))}});let pr=0;const fr=(0,r.C)({id:"LvAsyncFuncExecs",context:{clearTaskInterval:3e3,deleteMorethan:2e3,taskActor:[]},initial:"idle",invoke:{id:"clearTaskInterval",src:"clearTaskInterval"},states:{idle:{},busy:{}},on:{ADD_TASK:{actions:"addExecTask"},EXEC_SUCCESS:{actions:["notifyExecSuccess","markClearActor"]},EXEC_FAIL:{actions:["notifyExecFail","markClearActor"]},CLEAR_DELTE_TASK:{actions:"clearActor"}}},{services:{clearTaskInterval:e=>t=>{const n=setInterval((()=>{t({type:"CLEAR_DELTE_TASK"})}),e.clearTaskInterval);return()=>{clearInterval(n)}}},actions:{addExecTask:(0,o.f0)({taskActor:(e,t)=>{const n=[...e.taskActor],r=pr++;return n.push({id:r,successType:t.successType,failType:t.failType,extInfo:t.extInfo,deleteAt:void 0,actor:(0,i.Cs)(dr.withContext({id:r,task:{func:t.exec}}))}),n}}),notifyExecSuccess:(0,o.lj)(((e,t)=>{const n=e.taskActor.find((e=>e.id===t.id));if(!n)throw new Error("\u67e5\u65e0\u5bf9\u5e94\u4efb\u52a1");return{type:n.successType,data:t.data,extInfo:n.extInfo}})),notifyExecFail:(0,o.lj)(((e,t)=>{const n=e.taskActor.find((e=>e.id===t.id));if(!n)throw new Error("\u67e5\u65e0\u5bf9\u5e94\u4efb\u52a1");return{type:n.failType,data:t.data,extInfo:n.extInfo}})),markClearActor:(0,o.f0)(((e,t)=>{var n,r;const o=e.taskActor.find((e=>e.id===t.id));return o&&(null==(r=null==(n=o.actor)?void 0:n.stop)||r.call(n),o.deleteAt=Date.now()),{taskActor:e.taskActor.slice()}})),clearActor:(0,o.f0)({taskActor:e=>{const t=Date.now();return e.taskActor.filter((n=>!n.deleteAt||t-n.deleteAt<e.deleteMorethan))}})}});function hr(e=0,t=0){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function _r(e){return[-1,31,ft(e??"")?29:28,31,30,31,30,31,31,30,31,30,31]}function mr(e,t,n){return void 0!==n&&[6115047].some((e=>null==n?void 0:n.includes(e)))||[ye.KR,ye.ID].some((t=>t===e))?M()(t).isBefore(M()().subtract(14,"year")):M()(t).isBefore(M()().subtract(13,"year"))}const gr=-1,vr=hr(1,12),wr=hr(1,31),Er=hr(1900,(new Date).getFullYear()),yr=(0,r.C)({id:"birthDayPicker",initial:"verfiying",context:{month:gr,date:gr,year:gr,months:vr,dates:wr,years:Er},states:{verfiying:{always:[{target:"valid",cond:"isValid"},{target:"invalid"}]},valid:{},invalid:{}},on:{CHANGE_MONTH:{target:"verfiying",actions:["changeMonth"]},CHANGE_DATE:{target:"verfiying",actions:["changeDate"]},CHANGE_YEAR:{target:"verfiying",actions:["changeYear"]},CHANGE_CUSTOM_VERFICATION:{actions:["changeCustomVerfication"]}}},{actions:{changeMonth:(0,o.f0)(((e,t)=>{const{value:n}=t,r=_r(e.year===gr?void 0:String(e.year));return{dates:r[n]?hr(1,r[n]):wr,month:n,date:e.date<=r[n]?e.date:gr,year:2===n&&e.date>r[n]&&!ft(String(e.year))?gr:e.year}})),changeDate:(0,o.f0)({date:(e,t)=>t.value}),changeYear:(0,o.f0)(((e,t)=>{const{value:n}=t,r=_r(n===gr?void 0:String(n));return{...e,dates:hr(1,r[e.month===gr?1:e.month]),date:2===e.month&&e.date>r[e.month]?gr:e.date,year:n}})),changeCustomVerfication:(0,o.f0)(((e,t)=>({customVerfication:t.callback})))},guards:{isValid:({month:e,date:t,year:n,customVerfication:r})=>[e,t,n].every((e=>e!==gr))&&(!r||r(e,t,n))}}),Ar=(0,r.C)({id:"LvUserInviteMachine",context:{isInvitePage:!1,invitedCode:"",inviteDetail:{}},initial:"unknow",states:{unknow:{invoke:{id:"fetchInviteInfo",src:"fetchInviteInfo",onDone:[{target:"ready",actions:["saveInviteDetail"]}],onError:[{target:"error"}]}},ready:{type:"final"},error:{type:"final"}}},{services:{async fetchInviteInfo({isInvitePage:e,invitedCode:t}){if(!t||!e)throw new Error("no invite code");const n=await rn.getInviteInfo({invite_code:t});return{inviterName:n.data.inviter_name,invitedSpaceCap:n.data.invited_space_cap,invitedSpaceTime:n.data.invited_space_time,rewardType:n.data.reward_type,inviterImg:n.data.inviter_img}}},actions:{saveInviteDetail:(0,o.f0)({inviteDetail:({inviteDetail:e},t)=>({...e,...t.data})})}}),br=(0,r.C)({id:"userCareer",initial:"checkingCareer",context:{userInfo:void 0,noCareerCb:()=>null,userFinishCareerCb:()=>{},shouldShowCareerModal:!1,questionList:[],answers:[],questionCount:0,question:{},answer:[],modal:null,alreadyShowModal:!1,chooseProfessionShowReporter:new class{constructor(){this.reporter=ot()}report(e){this.reporter.report("choose_profession_show",e)}},chooseProfessionConfirmReporter:new class{constructor(){this.reporter=ot()}report(e){this.reporter.report("choose_profession_confirm",e)}},reporterParams:{}},states:{checkingCareer:{id:"checkingCareer",invoke:{id:"checkCareer",src:"checkCareer",onDone:"hasCareer",onError:"noCareer"}},noCareer:{initial:"fetching",states:{fetching:{invoke:{id:"fetchQuestionnaire",src:"fetchQuestionnaire",onDone:{target:"answering",actions:["updateQuestionList","updateQuestion"]},onError:{target:"unknownError"}}},answering:{invoke:{id:"showCareerModal",src:"showCareerModal",onDone:{actions:["updateModal","reportQuestionShow","setAlreadyShowModal"],cond:"isNotShowModal"}},on:{CHECK:{actions:["checkAnswer","reportCheck"]},BACK:{actions:["popAnswer","reportBack","updateQuestion","reportQuestionShow"]},NEXT:{actions:["pushAnswer","reportNext","updateQuestion","reportQuestionShow"]},SUBMIT:{target:"submitting",actions:["setOnSubmitError","reportSubmit","reportChooseCareer"]},INPUT:{actions:["inputAnswer"]},SKIP:{target:"skipped",actions:["setOnSkipError","reportSkip"]}}},submitting:{invoke:{id:"submit",src:"submit",onDone:{target:"#userCareer.hasCareer",actions:["updateCareer","notifyUserCareer","triggerUserFinishCareerCb"]},onError:{target:"answering",actions:["handleSubmitError"]}}},unknownError:{},skipped:{entry:["notifyUserCareerSkipped"],invoke:{id:"skip",src:"skip",onDone:{target:"#userCareer.hasCareer",actions:["updateSkippedCareer","notifyUserCareer"]},onError:{actions:["handleSkipError"]}}}}},hasCareer:{type:"final",entry:["stopEmailSignInActor"]}},on:{SET_NO_CAREER_CB:{actions:["setNoCareerCb"]}}},{services:{async checkCareer({shouldShowCareerModal:e,userInfo:t}){if((null==t||!t.career)&&e)throw new Error("no career")},async showCareerModal(e){var t;if(!e.alreadyShowModal)return null==(t=e.noCareerCb)?void 0:t.call(e)},fetchQuestionnaire:async()=>dn.getCareerQuestionnaire(),async submit({answers:e,question:t,answer:n,modal:r}){const o=e.map((e=>({key:e.key,title:e.title,answer_list:e.answer_list.map((t=>({key:t.key,text:"q2a8"===t.key?t.text+e.other_input:t.text,text_starling:t.text_starling})))})));return o.push({key:t.key,title:t.title,answer_list:t.answer_list.filter((e=>n.find((t=>t===e.key)))).map((e=>({key:e.key,text:e.text,text_starling:e.text_starling})))}),null==r||r.close(),dn.submitCareerQuestionnaire({question_list:o})},async skip({answers:e,modal:t}){null==t||t.close();const n=e.map((e=>({key:e.key,title:e.title,answer_list:e.answer_list.map((e=>({key:e.key,text:e.text,text_starling:e.text_starling})))})));return dn.submitCareerQuestionnaire({question_list:0===n.length?null:n})}},actions:{setNoCareerCb:(0,o.f0)({noCareerCb:(e,t)=>t.callback}),updateCareer:(0,o.f0)({userInfo:({answers:e,userInfo:t})=>{var n,r,o;return{...t,career:null==(o=null==(r=null==(n=null==e?void 0:e[0])?void 0:n.answer_list)?void 0:r[0])?void 0:o.text_starling}}}),updateSkippedCareer:(0,o.f0)({userInfo:({answers:e,userInfo:t})=>{var n,r,o;return{...t,career:(null==(o=null==(r=null==(n=null==e?void 0:e[0])?void 0:n.answer_list)?void 0:r[0])?void 0:o.text_starling)??"skip"}}}),notifyUserCareer:(0,o.lj)((e=>{var t;return{type:"UPDATE_USER_CAREER",userInfo:{career:null==(t=e.userInfo)?void 0:t.career}}})),triggerUserFinishCareerCb:({userFinishCareerCb:e})=>null==e?void 0:e(),notifyUserCareerSkipped:(0,o.lj)((()=>({type:"UPDATE_USER_CAREER_SKIPPED",skipped:!0}))),updateQuestionList:(0,o.f0)({questionList:(e,t)=>t.data.question_list,questionCount:(e,t)=>t.data.question_count}),updateQuestion:(0,o.f0)({question:({questionList:e,answers:t})=>{const n=t.reduce(((e,t)=>(t.answer_list.forEach((t=>{e.add(t.key)})),e)),new Set);return e.find((e=>{var r,o,i,a,s,c,l;const u="or"===(null==(o=null==(r=e.depend_on)?void 0:r[0])?void 0:o.type)?null==(a=null==(i=e.depend_on)?void 0:i[0])?void 0:a.answer_list.some((e=>n.has(e))):null==(c=null==(s=e.depend_on)?void 0:s[0])?void 0:c.answer_list.every((e=>n.has(e)));return e.position===t.length+1&&(null==(l=e.depend_on)||!l.length||u)}))}}),checkAnswer:(0,o.f0)({answer:({question:e,answer:t},n)=>{const{key:r}=n;return"single"===e.type?t.find((e=>e===r))?[]:[r]:t.find((e=>e===r))?t.filter((e=>e!==r)):[...t,r]}}),inputAnswer:(0,o.f0)({question:({question:e},t)=>{const{value:n}=t;return e.other_input=n,e}}),popAnswer:(0,o.f0)({answers:({answers:e})=>{const t=[...e];return t.pop(),t},answer:e=>[]}),pushAnswer:(0,o.f0)({answers:({question:e,answers:t,answer:n})=>[...t,{...e,answer_list:e.answer_list.filter((e=>n.find((t=>t===e.key))))}],answer:e=>[]}),updateModal:(0,o.f0)({modal:(e,t)=>t.data}),setAlreadyShowModal:(0,o.f0)({alreadyShowModal:e=>!0}),setOnSubmitError:(0,o.f0)({onSubmitError:(e,t)=>t.onError}),setOnSkipError:(0,o.f0)({onSkipError:(e,t)=>t.onError}),handleSubmitError:({onSubmitError:e})=>{null==e||e()},handleSkipError:({onSkipError:e})=>{null==e||e()},reportChooseCareer:({userInfo:e,question:t,answers:n,answer:r,chooseProfessionConfirmReporter:o,reporterParams:i})=>{var a,s,c,l,u,d;const p=null!=e&&e.uid?parseInt(e.uid.slice(-2)):null,f=!p||p>20;null==o||o.report({current_page:(null==i?void 0:i.currentPage)??"",role:(null==(c=null==(s=null==(a=n.find((e=>"role"===e.question_type)))?void 0:a.answer_list)?void 0:s[0])?void 0:c.text_starling)??"",target:(null==(d=null==(u=null==(l=n.find((e=>"target"===e.question_type)))?void 0:l.answer_list)?void 0:u.map((e=>e.text_starling)))?void 0:d.join(","))??"",preference:t.answer_list.filter((e=>r.find((t=>t===e.key)))).map((e=>e.text_starling)).join(",")??"",type:"confirm",is_mapping_test:f?"0":"1"})},reportQuestionShow:({question:e,chooseProfessionShowReporter:t,reporterParams:n})=>{null==t||t.report({current_page:(null==n?void 0:n.currentPage)??"",popup_type:e.question_type,action:"show"})},reportBack:e=>{const{question:t,chooseProfessionShowReporter:n,reporterParams:r}=e;null==n||n.report({current_page:(null==r?void 0:r.currentPage)??"",popup_type:t.question_type,action:"back"})},reportNext:e=>{const{question:t,chooseProfessionShowReporter:n,reporterParams:r}=e;null==n||n.report({current_page:(null==r?void 0:r.currentPage)??"",popup_type:t.question_type,action:"next"})},reportSubmit:({question:e,chooseProfessionShowReporter:t,reporterParams:n})=>{null==t||t.report({current_page:(null==n?void 0:n.currentPage)??"",popup_type:e.question_type,action:"submit"})},reportCheck:({question:e,chooseProfessionShowReporter:t,reporterParams:n},r)=>{null==t||t.report({current_page:(null==n?void 0:n.currentPage)??"",popup_type:e.question_type,action:r.text})},reportSkip:({question:e,answers:t,chooseProfessionShowReporter:n,chooseProfessionConfirmReporter:r,reporterParams:o})=>{var i,a,s,c,l,u;null==n||n.report({current_page:(null==o?void 0:o.currentPage)??"",popup_type:e.question_type,action:"skip"}),null==r||r.report({current_page:(null==o?void 0:o.currentPage)??"",role:(null==(s=null==(a=null==(i=t.find((e=>"role"===e.question_type)))?void 0:i.answer_list)?void 0:a[0])?void 0:s.text_starling)??"skip",target:(null==(u=null==(l=null==(c=t.find((e=>"target"===e.question_type)))?void 0:c.answer_list)?void 0:l.map((e=>e.text_starling)))?void 0:u.join(","))??"skip",preference:"skip",type:"skip"})}},guards:{isNotShowModal:({alreadyShowModal:e})=>!e}});let Tr={};const Sr=(0,r.C)({id:"userWorkspace",initial:"unknown",context:{asyncFuncExecsRef:void 0,userInfo:void 0,token:void 0,getWorkspaceListSuccess:!1,workspaceList:[],currentWorkspaceInfo:void 0,workspaceExpandInfoMap:{},changeWorkspaceEventCache:"",updateWorkspaceEventCache:[],initWorkspaceCb:()=>{},changeWorkspaceCb:()=>{},initUserAndWorkspaceCb:()=>{},storageChangeWorkspaceCb:()=>{},refreshWorkspaceListCb:()=>{},beforeChangeWorkspaceCb:()=>Promise.resolve(),updateWorkspaceErrorCb:()=>{}},entry:["initAsyncFuncExecRef","notifyInitUserAndWorkspaceCb"],states:{unknown:{always:[{target:"gettingWorkspaceInfo"}]},gettingWorkspaceInfo:{id:"gettingWorkspaceInfo",invoke:{id:"fetchWorkspaceList",src:"fetchWorkspaceList",onDone:[{target:"hasWorkspaceInfo",actions:["updateWorkspaceList","initCurrentWorkspace","fetchWorkspaceListSuccess","notifyInitCurrentWorkspace","updateGetWorkspaceListSuccess","notifyInitUserAndWorkspaceCb","notifyRefreshWorkspace","consumeUpdateWorkspaceEventCache","notifyWorkspaceDataChange"],cond:"hasNotInitWorkspaceInfo"},{target:"hasWorkspaceInfo",actions:["updateWorkspaceList","updateCurrentWorkspace","fetchWorkspaceListSuccess","notifyRefreshWorkspace","consumeUpdateWorkspaceEventCache","notifyWorkspaceDataChange"],cond:"hasInitWorkspaceInfo"}],onError:{actions:["fetchWorkspaceListFail"],target:"noWorkspaceInfo"}}},hasWorkspaceInfo:{tags:["finished"]},noWorkspaceInfo:{tags:["finished"]}},on:{CHANGE_CONTEXT:{actions:["changeContext"]},REFRESH_WORKSPACE_LIST:{target:"#gettingWorkspaceInfo"},CHANGE_WORKSPACE:{actions:["checkChangeWorkspace"]},CHANGE_WORKSPACE_AFTER_CHECKING:{actions:["changeWorkspace","notifyChangeWorkspace","notifyWorkspaceDataChange"]},CHANGE_WORKSPACE_ERROR:{actions:["changeWorkspaceError"]},STORAGE_CHANGE_WORKSPACE:{actions:["storageChangeWorkspace"]},UPDATE_WORKSPACE:{actions:["fetchSpecificWorkspaceInfo"]},FETCH_SPECIFIC_WORKSPACE_DONE:{actions:["updateSpecificWorkspaceInfo","notifyWorkspaceDataChange","notifyRefreshWorkspace"]},FETCH_SPECIFIC_WORKSPACE_ERROR:{actions:["updateSpecificWorkspaceInfoError"]},NOTIFY_WORKSPACE_CHANGE:[{target:"#gettingWorkspaceInfo",cond:"notifyLeaveWorkspace"},{actions:["roleChange","notifyWorkspaceDataChange","notifyRefreshWorkspace"],cond:"notifyRoleChange"},{target:"#gettingWorkspaceInfo",cond:"notifyNewMember"}]}},{services:{async fetchWorkspaceList(e,t){let n=[];const r=function(){try{const e=typeof __userWorkspaces<"u"?JSON.parse(__userWorkspaces):void 0;return e&&"0"===e.ret?e.data:void 0}catch{return}}(),o=async e=>{const{data:t}=await cn.getUserWorkSpace({cursor:e,count:100,need_convert_workspace:!0});n=[...n,...t.workspace_infos],t.has_more&&await o(t.next_cursor)};return"REFRESH_WORKSPACE_LIST"!==t.type&&r&&(0,u.isArray)(null==r?void 0:r.workspace_infos)?(n=[...r.workspace_infos],null!=r&&r.has_more&&await o(null==r?void 0:r.next_cursor)):await o("0"),"REFRESH_WORKSPACE_LIST"===t.type&&t.callback?{workspaceList:null==n?void 0:n.map((e=>({...e,dcName:gn(e.region)}))),callback:t.callback}:{workspaceList:null==n?void 0:n.map((e=>({...e,dcName:gn(e.region)})))}}},actions:{changeContext:(0,o.f0)(((e,t)=>({...e,...t.context}))),initAsyncFuncExecRef:(0,o.f0)({asyncFuncExecsRef:()=>(0,i.Cs)(fr)}),updateWorkspaceList:(0,o.f0)({workspaceList:(e,t)=>t.data.workspaceList}),checkChangeWorkspace:(0,o.lW)(((e,{data:t})=>({type:"ADD_TASK",exec:async()=>(await e.beforeChangeWorkspaceCb(),t),successType:"CHANGE_WORKSPACE_AFTER_CHECKING",failType:"CHANGE_WORKSPACE_ERROR"})),{to:e=>e.asyncFuncExecsRef}),initCurrentWorkspace:(0,o.f0)((e=>{var t,n;let r;return r=e.changeWorkspaceEventCache?null==(t=null==e?void 0:e.workspaceList)?void 0:t.find((t=>t.workspace_id===e.changeWorkspaceEventCache)):null==(n=null==e?void 0:e.workspaceList)?void 0:n.find((t=>{var n,r,o,i;return t.workspace_id===((null==(r=null==(n=e.userInfo)?void 0:n.defaultSpaceInfo)?void 0:r.workspaceId)||(null==(i=null==(o=e.userInfo)?void 0:o.spaceInfo)?void 0:i.workspaceId))})),{currentWorkspaceInfo:r,changeWorkspaceEventCache:""}})),fetchWorkspaceListSuccess:(e,t)=>{var n,r;null==(r=null==(n=t.data)?void 0:n.callback)||r.call(n)},notifyInitCurrentWorkspace:e=>{e.currentWorkspaceInfo&&e.initWorkspaceCb(e.currentWorkspaceInfo)},updateGetWorkspaceListSuccess:(0,o.f0)({getWorkspaceListSuccess:()=>!0}),notifyInitUserAndWorkspaceCb:e=>{var t;e.getWorkspaceListSuccess&&(null==(t=null==e?void 0:e.initUserAndWorkspaceCb)||t.call(e,{userInfo:e.userInfo,workspaceList:e.workspaceList}))},notifyRefreshWorkspace:e=>{var t;null!=e&&e.workspaceList&&(null==(t=null==e?void 0:e.refreshWorkspaceListCb)||t.call(e,e.workspaceList,e))},notifyWorkspaceDataChange:(0,o.lj)((e=>({type:"UPDATE_WORKSPACE_DATA_FROM_CHILD",workspaceList:e.workspaceList,currentWorkspaceInfo:e.currentWorkspaceInfo,workspaceExpandInfoMap:e.workspaceExpandInfoMap}))),consumeUpdateWorkspaceEventCache:a.Le((e=>{let t=[];return Array.isArray(e.updateWorkspaceEventCache)&&(t=e.updateWorkspaceEventCache.map((e=>(0,o.lW)({type:"UPDATE_WORKSPACE",workspaceId:e}))),t.push((0,o.f0)({updateWorkspaceEventCache:[]}))),t})),updateCurrentWorkspace:(0,o.f0)((e=>{var t,n;const r=null==(t=e.currentWorkspaceInfo)?void 0:t.workspace_id;return{currentWorkspaceInfo:null==(n=null==e?void 0:e.workspaceList)?void 0:n.find((e=>e.workspace_id===r))}})),changeWorkspace:(0,o.f0)(((e,{data:t,extInfo:n})=>{var r,o,i;return(null==(r=e.currentWorkspaceInfo)?void 0:r.workspace_id)===t.workspace_id?{}:{currentWorkspaceInfo:null==(o=null==e?void 0:e.workspaceList)?void 0:o.find((e=>e.workspace_id===t.workspace_id)),workspace_enter_from:null==(i=null==n?void 0:n.data)?void 0:i.workspace_enter_from}})),notifyChangeWorkspace:e=>{var t;e.currentWorkspaceInfo&&(null==(t=e.changeWorkspaceCb)||t.call(e,e.currentWorkspaceInfo,{userInfo:e.userInfo}))},changeWorkspaceError(){console.error("stop changing workspace!")},storageChangeWorkspace(e,{data:t}){e.storageChangeWorkspaceCb(t.workspace_id)},fetchSpecificWorkspaceInfo:(0,o.lW)(((e,{workspaceId:t})=>({type:"ADD_TASK",exec:async()=>{const[e,{data:n}]=await Promise.all([Vt.getSpaceList(t),cn.mGetWorkspaceInfo({workspace_ids:[t]})]);Tr={...Tr,[t]:e};const r=n.workspace_infos[0];return{workspace_id:t,workspace_info:{...r,dcName:gn(r.region)},workspaceExpandInfoMap:{...Tr}}},successType:"FETCH_SPECIFIC_WORKSPACE_DONE",failType:"FETCH_SPECIFIC_WORKSPACE_ERROR"})),{to:e=>e.asyncFuncExecsRef}),updateSpecificWorkspaceInfo:(0,o.f0)({workspaceList:(e,t)=>{var n;const{data:r}=t,{workspace_info:o}=r;if(o){const t=o;return null==(n=null==e?void 0:e.workspaceList)?void 0:n.map((e=>e.workspace_id===t.workspace_id?t:e))}return e.workspaceList},currentWorkspaceInfo:(e,t)=>{var n;const{data:r}=t,{workspace_info:o}=r;if(o){const t=o;if(t.workspace_id===(null==(n=e.currentWorkspaceInfo)?void 0:n.workspace_id))return t}return e.currentWorkspaceInfo},workspaceExpandInfoMap:(e,t)=>{const{data:n}=t;return n.workspaceExpandInfoMap??e.workspaceExpandInfoMap}}),updateSpecificWorkspaceInfoError:(e,t)=>{const{data:n}=t;e.updateWorkspaceErrorCb&&e.updateWorkspaceErrorCb(n.workspace_id)},roleChange:(0,o.f0)({workspaceList:(e,t)=>{var n,r;const{notifyData:o}=t,{workspace_id:i,new_role:a,uid:s}=o;return String(s)!==(null==(n=e.userInfo)?void 0:n.uid)?e.workspaceList:null==(r=e.workspaceList)?void 0:r.map((e=>e.workspace_id===i?{...e,role:a}:e))},currentWorkspaceInfo:(e,t)=>{var n,r;const{notifyData:o}=t,{workspace_id:i,new_role:a,uid:s}=o;return String(s)!==(null==(n=e.userInfo)?void 0:n.uid)?e.currentWorkspaceInfo:(null==(r=e.currentWorkspaceInfo)?void 0:r.workspace_id)===i?{...e.currentWorkspaceInfo,role:a}:e.currentWorkspaceInfo}})},guards:{hasInitWorkspaceInfo:e=>!(!e.currentWorkspaceInfo||!e.currentWorkspaceInfo.workspace_id),hasNotInitWorkspaceInfo:e=>!(e.currentWorkspaceInfo&&e.currentWorkspaceInfo.workspace_id),notifyLeaveWorkspace:(e,t)=>{const{notifyData:n}=t;return n.method===Ct.leaveWorkspace},notifyRoleChange:(e,t)=>{const{notifyData:n}=t;return n.method===Ct.roleChange},notifyNewMember:(e,t)=>{const{notifyData:n}=t;return n.method===Ct.newMember}}}),Cr="__lvweb_user_status",Ir=(0,r.C)({id:"userStatusListener",initial:"listened",context:{uid:"",enableShowModal:!0,enableBlockRequestWhenDestroy:!0,enableClearBeforeUnload:!0},states:{listened:{entry:"setLocalStorageByDefault",invoke:[{id:"listenUserStatusByLocalStorage",src:"listenUserStatusByLocalStorage"},{id:"listenUserStatusWhenBlur",src:"listenUserStatusWhenBlur"}],on:{USER_HAS_LOGOUT:{target:"destroy",actions:["showModal","sendParentEvent"]},SIGN_OUT:{target:"destroy",actions:"notifySignOutByLocalStorage"}}},destroy:{entry:"tryToClearAllEffect"}}},{services:{listenUserStatusByLocalStorage:e=>t=>{const n=n=>{if(n.key===Cr){const n=wt.getJson(Cr);(null==n?void 0:n.uid)!==e.uid&&t({type:"USER_HAS_LOGOUT"})}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},listenUserStatusWhenBlur:e=>t=>{const n=()=>{if("visible"!==document.visibilityState){const n=wt.getJson(Cr);n&&n.uid!==e.uid&&t({type:"USER_HAS_LOGOUT"})}};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}}},actions:{setLocalStorageByDefault:e=>{wt.setJson(Cr,{uid:e.uid,timestamp:Date.now()})},notifySignOutByLocalStorage:()=>{wt.setJson(Cr,{uid:"",timestamp:Date.now()})},showModal:e=>{e.enableShowModal&&C.Z.error({alignCenter:!1,escToExit:!1,backspaceToExit:!1,maskClosable:!1,closeIcon:null,title:c.ZP.t("web_account_logout_title_error",{},"Account was changed"),content:c.ZP.t("web_account_logout_error",{},"Current login account has encountered an error, please refresh the page and try again."),okText:c.ZP.t("web_graphic_server_failure_refresh_page_btn",{},"Refresh"),onOk:()=>{window.location.reload()}})},sendParentEvent:(0,o.lj)({type:"USER_HAS_LOGOUT"}),tryToClearAllEffect:e=>{typeof window<"u"&&e.enableBlockRequestWhenDestroy&&(window.XMLHttpRequest.prototype.open=(e,t)=>{console.warn(`current page failure, stop all request:${e}:${t}`)}),typeof window<"u"&&e.enableClearBeforeUnload&&(window.onbeforeunload=()=>null)}}}),Pr=({title:e,content:t,okText:n,onConfirm:r})=>(0,E.jsxs)("div",{className:"age-gate-mobile-dialog",children:[(0,E.jsx)("div",{className:"mask"}),(0,E.jsx)("div",{className:"modal-wrapper",children:(0,E.jsxs)("div",{className:"modal-content-wrapper",children:[(0,E.jsx)("div",{className:"modal-title",children:e}),(0,E.jsx)("div",{className:"modal-content",children:t}),(0,E.jsx)(I.Z,{type:"primary",className:"modal-confirm",onClick:r,children:n})]})})]});const Lr={open:function(e){let t=document.createElement("div");document.body.appendChild(t);const n=()=>{t&&(F.unmountComponentAtNode(t),t=null)};return F.render((0,E.jsx)(Pr,{...e,onConfirm:()=>{var t;null==(t=e.onConfirm)||t.call(e),n()}}),t),{close:n}}};class Or{constructor(){this.LOCAL_STORE_PREFIX_KEY="quebec_age_gate_notification",this.unbinds=[],this.disablePaths=[/^(?:\/((?:[^\/#\?]+?)(?:\/(?:[^\/#\?]+?))*))?\/birthday-information[\/#\?]?$/i]}isQuebec(){try{return!!window.ip_location_info.Subdivisions.find((e=>6115047===e.GeoNameID))}catch{return!1}}checkShowNoticePath(){try{const e=window.location.pathname;return!this.disablePaths.some((t=>t.test(e)))}catch{return!1}}start(e){this.checkShowNoticePath()&&this.isUnder14()&&(this.shouldShowNoticePopup()?this.renderCountdownNotice():this.shouldShowForbiddenPopup()&&this.renderForbiddenNotice(e))}getUserInfo(){try{return JSON.parse(window.__userInfoStringify).data.user_info}catch{return null}}destroy(){this.unbinds.forEach((e=>e()))}isUnder14(){try{const e=this.getUserInfo();if(!e)return!1;if(!e.has_birthday&&this.isQuebec()){const e=window.location.href,t=`${re.FILL_BIRTHDAY.PATH}?redirect_url=${encodeURIComponent(e)}`;return void(window.location.href=t)}return e.is_young&&e.forbidden_date}catch{return!1}}getFinalTimestamp(){const e=this.getUserInfo().forbidden_date||"9999-99-99 00:00";return+M()(e).toDate()}getRecord(){const e={thirty:0,seven:0,three:0,two:0,one:0,zero:0};try{const t=this.getUniqId();if(t&&typeof window<"u"){const n=window.localStorage.getItem(`${this.LOCAL_STORE_PREFIX_KEY}_${t}`);return n?JSON.parse(n):e}return e}catch{return e}}saveRecord(e){const t=this.getUniqId();t&&typeof window<"u"&&window.localStorage&&window.localStorage.setItem(`${this.LOCAL_STORE_PREFIX_KEY}_${t}`,JSON.stringify(e))}getUniqId(){let e=window.GATEWAY_INJECTED_WEB_ID||"";if(!e){const t=document.cookie.match(new RegExp("(^| )_tea_web_id=([^;]+)"));null!==t&&(e=t[2])}return e}getDaysLeft(){const e=this.getFinalTimestamp()-Date.now();if(e<=0)return"zero";const t=Math.ceil(e/864e5);return t>30?"none":t<=30&&t>7?"thirty":t>3?"seven":t>2?"three":t>1?"two":t>0?"one":"zero"}refreshRecord(){const e=this.getRecord();e[this.getDaysLeft()]=1,this.saveRecord(e)}shouldShowNoticePopup(){const e=this.getDaysLeft(),t=this.getRecord();return"zero"!==e&&0===(null==t?void 0:t[e])}shouldShowForbiddenPopup(){return"zero"===this.getDaysLeft()}async waitForI18nInit(e=0,t=9){e!==t&&(c.ZP.i18nInstance.instance.isInitialized||await new Promise((t=>{setTimeout((async()=>{await this.waitForI18nInit(++e),t()}),1e3)})))}async renderCountdownNotice(){var e;await this.waitForI18nInit();const t=null==(e=this.getUserInfo())?void 0:e.forbidden_date;if(!t)return;const{env:n}=_t(),r=M()(t).format("MM/DD/YYYY"),o=c.ZP.t("web_quebec_users_tiitle_your_account_will_be_removed",{date:r},"Your account will be removed on {date} because you'll no longer meet the age requirements to use CapCut in your region."),i=c.ZP.t("web_quebec_users_text_your_account_will_be_removed",{date:r},"Your account will be removed on {date}"),a=(0,E.jsx)("div",{className:"quebec-content",children:o}),s=c.ZP.t("web_quebec_users_button_get_it_one",{},"Got it"),l="pc"===n?C.Z.warning({title:i,content:a,maskClosable:!1,escToExit:!1,backspaceToExit:!1,okText:s,onCancel:()=>this.refreshRecord(),onConfirm:()=>this.refreshRecord(),style:{width:500}}):Lr.open({title:i,content:a,okText:s,onConfirm:()=>this.refreshRecord()});this.unbinds.push((()=>{l.close()}))}async renderForbiddenNotice(e){await this.waitForI18nInit();const{env:t}=_t(),n=c.ZP.t("web_quebec_users_text_your_account_removed_becaue_you",{},"Your  account has been removed because you no longer meet the age requirement to use CapCut in your region."),r=c.ZP.t("web_quebec_users_tiitle_cannot_access_account",{},"Can't access account"),o=(0,E.jsx)("div",{className:"quebec-content",children:n}),i=c.ZP.t("web_quebec_users_button_log_out",{},"Log out"),a="pc"===t?C.Z.error({title:r,content:o,maskClosable:!1,closable:!1,escToExit:!1,backspaceToExit:!1,okText:i,onConfirm:e}):Lr.open({title:r,content:o,okText:i,onConfirm:e});this.unbinds.push((()=>{a.close()}))}}function Rr(){const e=typeof __locationInfo<"u"?__locationInfo:void 0;if(!e)return;e&&St.updateRequestDomain(e);const t=e.code;return{region:t,idc:gn(t),newIdc:e.web_idc,reqDomain:e.domain}}async function kr(e=!1){try{const t=Rr();if(e&&t)return t;const{data:n}=await Qt.getLocation(),r=n.code,o=gn(r);return n&&St.updateRequestDomain(n),{region:r,idc:o,newIdc:n.web_idc,reqDomain:n.domain}}catch{console.error("get location failure\uff0cfallback to va.");const e=(()=>{const e=window.location.host.startsWith("capcut-os-boe."),t=window.location.host.startsWith("capcut-os.");let n;if(e)n={web_domain:Ce.DEFAULT.VA,frontier_domain:Ce.FRONTIER.VA,commerce_domain:Ce.COMMERCE.VA,tts_domain:Ce.TTS.VA};else{const e=t?Ie.FRONTIER:Pe.FRONTIER,r=t?Ie.COMMERCE:Pe.COMMERCE,o=t?Ie.TTS:Pe.TTS;n={web_domain:(t?Ie.DEFAULT:Pe.DEFAULT).VA,frontier_domain:e.VA,commerce_domain:r.VA,tts_domain:o.VA}}return n})();return St.updateRequestDomain({domain:e}),{region:ye.US,idc:Ae.VA,newIdc:"maliva",reqDomain:e}}}async function Nr(e,t,n){var r;try{const o=null==n?void 0:n.user_id,i=await ot().asyncGetConfig(),a=(null==i?void 0:i.header)||{},{web_id:s}=await ot().getToken();if(null==(r=null==a?void 0:a.custom)||!r.channel_level1){const e=ur();e.init();const{channel:t}=e.getParams();a.custom={...a.custom,...t}}const c={header:a,client_ip:"",params:{scenario:"custom",is_pwa:Gn()?1:0,pwa_from:Vn(),open_from_pwa:Wn()?1:0},user:{user_id:o,user_is_login:e,user_unique_id:s,web_id:s}};s||window.ccWebSlardar&&window.ccWebSlardar("sendLog",{content:JSON.stringify({logType:e?"user_login":"user_signup",...c,...t}),extra:{type:"web_id_empty"}}),await zt.eventReport({event_name:e?"user_login":"user_signup",custom_info:JSON.stringify(c),params:JSON.stringify(t)})}catch{}}const xr=(0,r.C)({id:"userMachine",context:{isBOE:!1,passport:async()=>null,isNewSignupUser:!1,asyncFuncExecsRef:void 0,thirdPartSignInRef:void 0,emailSignInRef:void 0,teamInviteRef:void 0,userInviteRef:void 0,isCloudSubscribed:!1,userInfo:void 0,token:void 0,vipInfo:{flag:void 0,vipRealEnd:void 0,subscribeType:"un-auto",canFreeTrial:!1,canFreeTrialDays:0,productId:"",subscribeCycle:0,isFirstSubscribe:!1,isCancelSubscribe:!1,cycleUnit:""},spaceList:[],cloudStatus:{isAutoSubscribe:!1,isWebAutoSubscribe:!1,isFirstSubscribe:!1,isCancelSubscribe:!1},loginReporter:new class{constructor(){this.reporter=ot()}reportStatus(e){this.reporter.reportBecon("login_status",e),e.is_login_new_user?st().report(this.reporter,"sign_up"):st().report(this.reporter,"sign_in")}reportPageAction(e){this.reporter.report("login_page",e)}},signUpReporter:new class{constructor(){this.reporter=ot()}reportStatus(e){this.reporter.reportBecon("signup_status",e),e.is_login_new_user?st().report(this.reporter,"sign_up"):st().report(this.reporter,"sign_in")}reportPageAction(e){this.reporter.report("signup_page",e)}},logoutReporter:new class{constructor(){this.reporter=ot()}report(){this.reporter.report("click_logout",{})}},fetchLocationReporter:new class{constructor(){this.reporter=ot()}report(e){this.reporter.report("lvrd_fetch_location",e)}},lvrdCheckLoginReporter:new class{constructor(){this.reporter=ot(),this.options=bn}updateOptions(e){this.options=(0,u.merge)({},this.options,e)}resetOptions(){this.options=bn}report(e){const t={get_user_time:this.options.checkLoginStartTime?e.endTime-this.options.checkLoginStartTime:0,has_inject_user_info:this.options.hasInjectUserInfo,is_user_login:this.options.isUserLogin||!1};this.reporter.reportBecon("lvrd_check_login_time",t)}},currentWorkspaceInfo:void 0,workspaceExpandInfoMap:{},isWorkSpaceInited:!1,workspaceList:[],updateWorkspaceEventCache:[],changeWorkspaceEventCache:"",userCareerSkipped:!1,userStatusMachineParams:Ir.context,loginModalClosable:!0,everPhotoUsers:[],openServerReportUserStatus:!0,isInitialCheckLoginStatus:!0,ageGateChecker:new class{constructor(){this.quebecAgeGateBand=new Or}start(e){this.quebecAgeGateBand.start(null==e?void 0:e.onLogout)}destroy(){this.quebecAgeGateBand.destroy()}},ipLocationInfo:typeof window<"u"&&window.ip_location_info||null,loginSuccessCb:()=>{},userLoginedCb:()=>{},loginFailCb:()=>{},noCareerCb:()=>null,redirectToCb:()=>{},noSignInCb:()=>{},onFetchLocationFail:()=>{},initWorkspaceCb:()=>{},initUserAndWorkspaceCb:()=>{},changeWorkspaceCb:()=>{},refreshWorkspaceListCb:()=>{},beforeChangeWorkspaceCb:()=>Promise.resolve(),storageChangeWorkspaceCb:()=>{},updateWorkspaceErrorCb:()=>{},userFinishCareerCb:()=>{}},entry:["initPassport","initAsyncFuncExecRef","initChilrenMachine"],initial:"unknown",states:{unknown:{always:[{actions:"getLocationCodeFromHtml",target:"checking",cond:"hasLocationCodeFromHtml"},{target:"fetchingLocation",cond:"shouldFetchLocation"},{target:"checking",actions:["clearUserInfo"]}]},fetchingLocation:{invoke:{id:"fetchLocation",src:"fetchLocation",onDone:{target:"checking",actions:["updateRegion"]},onError:{target:"fetchLocationFail"}}},checking:{invoke:{id:"getAndUpdateUserInfo",src:"getAndUpdateUserInfo",onDone:[{target:"hasSign",actions:["saveUserInfo","updateUserSpaceList","updateCloudStatus","updateRegion","reportFetchLocationSuccess","updateIsInitialCheckLoginStatus"],cond:"isValidLocationFromCheckingPharse"},{target:"fetchLocationFail"}],onError:[{target:"noSign",actions:["noSignIn","updateIsInitialCheckLoginStatus"]}]}},noSign:{initial:"checkingThirdOpenId",states:{checkingThirdOpenId:{always:[{target:"confirmSigning",cond:"needSignNow"},{target:"idle"}]},idle:{on:{SIGN_IN:{target:"signing",actions:["showSignHideModal","overwritePreExecTask"]},SIGN_IN_WITH_AUTH_TOKEN:{actions:"signInWithAuthToken"},SIGN_IN_WITH_AUTH_TOKEN_SUCCESS:{target:"checking",actions:"hideSignHideModal"}}},signing:{on:{EXIT_SIGN_IN:{target:"idle"},SIGN_IN_SUCCESS:{target:"checking",actions:["reportLoginSuccess","updateloginReportParams","storeLoginInfo"]},SIGN_IN_FAIL:{actions:["reportLoginFail","updateloginReportParams","reportLoginFailStatus"]}}},confirmSigning:{on:{CONFIRM_THIRD_LOGIN:{target:"idle",actions:"handleUserStop"}}},checking:{invoke:{id:"getAndUpdateUserInfo",src:"getAndUpdateUserInfo",meta:{noSign:!0},onDone:[{target:"#hasSign",actions:["saveUserInfo","updateUserSpaceList","updateCloudStatus","updateRegion","reportFetchLocationSuccess","updateIsInitialCheckLoginStatus"],cond:"isValidLocationFromCheckingPharse"},{target:"#fetchLocationFail"}],onError:{target:"idle",actions:["clearUserInfo","updateIsInitialCheckLoginStatus"]}}}}},hasSign:{id:"hasSign",initial:"preExec",states:{preExec:{invoke:{id:"preExecTaskWhenLogin",src:"preExecTaskWhenLogin",onDone:{target:"idle"},onError:{target:"idle"}}},idle:{}},entry:[(0,o.f0)({isWorkSpaceInited:!0}),"refreshPersonalWorkspace","reportLoginSuccessStatus","reportLvrdCheckLoginTime","userLoginedCb","stopEmailSignInActor","saveUserFromSignUpStorage","getAllEverPhotoUser","checkAgeGate"],invoke:[{id:"LvUserCareerMachine",src:br,data:e=>{var t;return{...br.context,userInfo:e.userInfo,noCareerCb:e.noCareerCb,userFinishCareerCb:e.userFinishCareerCb,shouldShowCareerModal:e.shouldShowCareerModal,reporterParams:{currentPage:null==(t=e.loginReportParams)?void 0:t.currentPage}}}},{id:"LvUserWorkspaceMachine",src:Sr,data:e=>({...Sr.context,userInfo:e.userInfo,token:e.token,changeWorkspaceEventCache:e.changeWorkspaceEventCache,updateWorkspaceEventCache:e.updateWorkspaceEventCache,initWorkspaceCb:e.initWorkspaceCb,initUserAndWorkspaceCb:e.initUserAndWorkspaceCb,changeWorkspaceCb:e.changeWorkspaceCb,refreshWorkspaceListCb:e.refreshWorkspaceListCb,storageChangeWorkspaceCb:e.storageChangeWorkspaceCb,beforeChangeWorkspaceCb:e.beforeChangeWorkspaceCb,updateWorkspaceErrorCb:e.updateWorkspaceErrorCb})},{id:"LvUserStatusListenerMachine",src:Ir,data:e=>({...Ir.context,...e.userStatusMachineParams,uid:e.userInfo.uid})},{id:"getUserSubscription",src:"getUserSubscription",onDone:{actions:"assignVipInfo"},onError:{}}],on:{SET_CAREER:{actions:["forwardToUserCareer"]},SET_NO_CAREER_CB:{actions:["forwardToUserCareer"]},UPDATE_USER_CAREER:{actions:["mergeUserInfo"]},UPDATE_USER_CAREER_SKIPPED:{actions:["updateUserCareerSkipped"]},SIGN_OUT:{actions:["reportClickLogout","forwardToUserStatusListener","signout"]},REFRESH_USER_SPACE:{actions:["refreshPersonalWorkspace"]},CHANGE_WORKSPACE:{actions:["forwardToUserWorkspace"]},REFRESH_WORKSPACE_LIST:{actions:["forwardToUserWorkspace"]},STORAGE_CHANGE_WORKSPACE:{actions:["forwardToUserWorkspace"]},UPDATE_WORKSPACE:{actions:["forwardToUserWorkspace"]},UPDATE_VIP_INFO:{actions:["updateVipInfoReq"]},NOTIFY_WORKSPACE_CHANGE:{actions:["forwardToUserWorkspace"]},UPDATE_WORKSPACE_DATA_FROM_CHILD:{actions:"updateWorkspaceDataFromChild"},GET_VIP_INFO_SUCCESS:{actions:["assignVipInfo"]}}},fetchLocationFail:{id:"fetchLocationFail",type:"final",entry:["handleFetchLocationFail","reportFetchLocationFail"]}},on:{SIGN_IN_WITH_URL:{actions:["loginingWithUrl"]},SET_NO_SIGN_IN_CB:{actions:["setNoSignInCb"]},SET_REDIRECT_TO_CB:{actions:["setRedirectToCb"]},SET_NO_CAREER_CB:{actions:["setNoCareerCb"]},UPDATE_REPORT_PARAMS:{actions:["updateloginReportParams"]},SIGN_IN_ACTION:{actions:["updateloginReportParams","reportSignInAction"]},SIGN_IN_SUCCESS:{target:"noSign.checking",actions:["reportLoginSuccess","updateloginReportParams"]},CHANGE_CONTEXT:{actions:a.RN([{cond:"isInitWorkSpaceGuard",actions:["changeContext","changeThirdPartSignInContext","changeEmailSignInContext","changeUserWorkSpaceInContext"]},{actions:["changeContext","changeThirdPartSignInContext","changeEmailSignInContext"]}])},SYNC_CONTEXT:{actions:["changeEmailSignInPartialContext"]},UPDATE_WORKSPACE:{actions:"restoreUpdateWorkspaceEventCache"},CHANGE_WORKSPACE:{actions:["consumeChangeWorkspaceCache"]},GET_ALL_EVER_PHOTO_USER_SUCCESS:{actions:["saveAllEverPhotoUser"]},UPDATE_DEFAULT_WORKSPACE_INFO:{actions:["updateDefaultWorkspaceInfo"]}}},{services:{async getAndUpdateUserInfo(e,t,{meta:n}){var r,o,i,a,s;null==(o=null==(r=null==e?void 0:e.lvrdCheckLoginReporter)?void 0:r.updateOptions)||o.call(r,{checkLoginStartTime:Date.now(),isUserLogin:null==n?void 0:n.noSign});const{source:c,medium:l,campaign:u,term:d=""}=ur().getParams(),p=l===qn.SEM,f=p?Oe:"Direct"===l?Re:l,h=p&&d&&u,_=function(){try{const e=typeof __userInfoStringify<"u"?JSON.parse(__userInfoStringify):void 0;return e&&"0"===e.ret?e.data:void 0}catch{return}}();if(e.isInitialCheckLoginStatus&&!_&&typeof __isLogined<"u"&&!__isLogined&&!We)throw new Error("not logined");const m=_||await jt.getAndUpdateUserInfo({sem_info:{is_sem:p,medium:l,register_source:f,register_second_source:c,keywords:h?d:void 0,campaign_id:h?u:void 0}});!_&&typeof window<"u"&&(window.__userInfoStringify=JSON.stringify({ret:"0",data:m,__clientInject:!0})),null==(a=null==(i=null==e?void 0:e.lvrdCheckLoginReporter)?void 0:i.updateOptions)||a.call(i,{hasInjectUserInfo:!!_});const g=gn(m.location.code);return St.updateRequestDomain({domain:m.location.domain}),{user_id_str:m.user_info.user_id,userInfo:m.user_info,region:m.location.code,spaceInfo:m.space_info,personalSpaceInfo:m.space_info,idc:g,newIdc:m.location.web_idc,reqDomain:m.location.domain,defaultSpaceInfo:null==(s=m.user_info)?void 0:s.default_space_info}},async fetchLocation(){const[e]=await async function(e){try{return[await e,null]}catch(nn){return[null,nn]}}(kr());return{region:e.region,idc:e.idc,newIdc:e.newIdc,reqDomain:e.reqDomain}},async getPersonalWorkspaceId(e){var t;const n=null==(t=e.workspaceList)?void 0:t.find((e=>wn(e)));return null==n?void 0:n.workspace_id},async preExecTaskWhenLogin(e){var t;try{await(null==(t=null==e?void 0:e.preExecTaskWhenLogin)?void 0:t.call(e))}catch{}},async getUserSubscription(){try{return await Vt.getSubscriptionUserInfo()}catch(e){return Promise.reject(e)}}},actions:{initAsyncFuncExecRef:(0,o.f0)({asyncFuncExecsRef:()=>(0,i.Cs)(fr)}),getLocationCodeFromHtml:(0,o.f0)({userInfo:()=>{const{region:e,idc:t,reqDomain:n,newIdc:r}=Rr()||{};return e?{region:e,idc:t,newIdc:r,reqDomain:n}:void 0}}),reportLoginSuccess:(e,t)=>{e.loginSuccessCb(t.data)},overwritePreExecTask:(0,o.f0)({preExecTaskWhenLogin:(e,t)=>t.preExecTaskWhenLogin}),userLoginedCb:e=>{e.userLoginedCb(e.userInfo)},reportLoginFail:e=>{e.loginFailCb()},saveUserInfo:(0,o.f0)({userInfo:({userInfo:e},t)=>{const n=t.data.userInfo,{spaceInfo:r}=t.data,o=null==n?void 0:n.default_space_info;return{...e,uid:n.user_id,name:n.nick_name,avatar:n.avatar_urls.avatar_url_small,career:n.career,register_source:n.register_source,isBindTT:n.is_bind_tt,ttUID:n.tt_user_id,email:n.email,create_time:n.create_time,is_new_user:n.is_new_user,spaceInfo:{spaceHost:null==r?void 0:r.space_host,spaceId:null==r?void 0:r.space_id,spaceIdc:null==r?void 0:r.space_idc,spaceResHost:null==r?void 0:r.space_res_host,workspaceId:null==r?void 0:r.workspace_id,spaceType:null==r?void 0:r.space_type,rawSpaceType:null==r?void 0:r.raw_space_type},personalSpaceInfo:{spaceHost:null==r?void 0:r.space_host,spaceId:null==r?void 0:r.space_id,spaceIdc:null==r?void 0:r.space_idc,spaceResHost:null==r?void 0:r.space_res_host,workspaceId:null==r?void 0:r.workspace_id,spaceType:null==r?void 0:r.space_type,rawSpaceType:null==r?void 0:r.raw_space_type},hasGoogleEmail:n.has_google_email,defaultSpaceInfo:o?{spaceHost:o.space_host,spaceId:o.space_id,spaceIdc:o.space_idc,spaceResHost:o.space_res_host,workspaceId:o.workspace_id,spaceType:o.space_type,rawSpaceType:o.raw_space_type}:void 0,has_birthday:n.has_birthday,is_young:n.is_young,forbidden_date:n.forbidden_date,useGPTText2Video:n.use_gpt_text2video,exportGPTText2Video:n.export_gpt_text2video}}}),mergeUserInfo:(0,o.f0)({userInfo:({userInfo:e},t)=>({...e,...t.userInfo})}),updateUserCareerSkipped:(0,o.f0)({userCareerSkipped:(e,t)=>t.skipped}),updateUserSpaceList:(0,o.f0)({token:(e,t)=>t.data.token??void 0,spaceList:(e,t)=>t.data.spaceList??[]}),clearUserInfo:(0,o.f0)({userInfo:({userInfo:e})=>e?{region:e.region,idc:e.idc,newIdc:e.newIdc,reqDomain:e.reqDomain}:void 0}),loginingWithUrl:({passport:e},t)=>{e().then((e=>null==e?void 0:e.signin(null==t?void 0:t.backURL)))},signout:({passport:e},t)=>{e().then((e=>null==e?void 0:e.signout((null==t?void 0:t.redirectUrl)??void 0)))},noSignIn(e){e.noSignInCb()},reportLoginSuccessStatus:async(e,{data:t})=>{var n;const{loginReportParams:r,loginReporter:o,signUpReporter:i}=e;if(r&&["type","source"].every((e=>[void 0,""].every((t=>r[e]!==t))))){let a=r.source===ct.LoginIn;r.isThirdparty&&(a=!r.isLoginNewUser);const s=!a,c={enter_from:r.statusEnterFrom??"",current_page:r.currentPage||(a?"login":"signup"),status:"success",article_type:null!=r&&r.articleType?r.articleType:void 0,article_title:null!=r&&r.articleTitle?r.articleTitle:void 0,login_type:a?r.type:void 0,signup_type:s?r.type:void 0,videocut_id:t.userInfo.user_id,age_year:s?r.age_year:void 0,age_month:s?r.age_month:void 0,age_date:s?r.age_date:void 0,tool_type:r.toolType,is_login_new_user:r.isLoginNewUser,url:location.href,url_path:location.pathname,page_type:r.pageType};null==(n=a?o:i)||n.reportStatus(c);const{openServerReportUserStatus:l=!0}=e;l&&await Nr(a,c,null==t?void 0:t.userInfo)}e.redirectToCb(e)},reportLoginFailStatus:({loginReportParams:e,loginReporter:t,signUpReporter:n,openServerReportUserStatus:r=!0},o)=>{var i;if(e&&["type","source"].every((t=>[void 0,""].every((n=>e[t]!==n))))){const a=e.source===ct.LoginIn,s={enter_from:e.statusEnterFrom??"",current_page:e.currentPage||(a?"login":"signup"),status:"fail",article_type:null!=e&&e.articleType?e.articleType:void 0,article_title:null!=e&&e.articleTitle?e.articleTitle:void 0,login_type:e.source===ct.LoginIn?e.type:void 0,signup_type:e.source===ct.SignUp?e.type:void 0,error_code:o.params.errorCode,error_msg:o.params.errorMsg,tool_type:e.toolType,url:location.href,url_path:location.pathname,page_type:e.pageType};null==(i=a?t:n)||i.reportStatus(s),r&&Nr(a,s)}},reportSignInAction:({loginReportParams:e,loginReporter:t,signUpReporter:n})=>{var r;if(e&&["action","source"].every((t=>[void 0,""].every((n=>e[t]!==n))))){const o=e.source===ct.LoginIn;null==(r=o?t:n)||r.reportPageAction({enter_from:e.pageEnterFrom,current_page:e.currentPage?e.currentPage:o?"login":"signup",action:e.action,article_type:null!=e&&e.articleType?e.articleType:void 0,article_title:null!=e&&e.articleTitle?e.articleTitle:void 0,tool_type:e.toolType,url:location.href,url_path:location.pathname,page_type:e.pageType})}},reportClickLogout:({logoutReporter:e})=>{null==e||e.report()},updateloginReportParams:(0,o.f0)({loginReportParams:({loginReportParams:e},t)=>({...e,...t.params})}),updateCloudStatus:(0,o.f0)({cloudStatus:(e,t)=>({isAutoSubscribe:t.data.isAutoSubscribe,isWebAutoSubscribe:t.data.isWebAutoSubscribe,isCancelSubscribe:t.data.isCancelSubscribe,isFirstSubscribe:t.data.isFirstSubscribe})}),refreshPersonalWorkspace:(0,o.lW)((e=>{var t,n;return{type:"UPDATE_WORKSPACE",workspaceId:(null==(n=null==(t=e.userInfo)?void 0:t.spaceInfo)?void 0:n.workspaceId)??""}})),initPassport:(0,o.f0)({passport:({isBOE:e})=>{let t=null;return async()=>{if(t)return t;const n=(await Promise.resolve().then((()=>Sn))).default;return t=new n({isBoe:e})}}}),updateRegion:(0,o.f0)({userInfo:({userInfo:e},t)=>Object.assign(e??{},{region:t.data.region,idc:t.data.idc,newIdc:t.data.newIdc,reqDomain:t.data.reqDomain})}),setNoSignInCb:(0,o.f0)({noSignInCb:(e,t)=>t.callback}),setRedirectToCb:(0,o.f0)({redirectToCb:(e,t)=>t.callback}),initChilrenMachine:(0,o.f0)({teamInviteRef:({isBOE:e})=>(0,i.Cs)(kn.withContext({inviteLink:"",workspaceInfo:{inviter_nickname:"***",name:"***",inviter_avatar:""},errCode:void 0,joinWorkspaceSuccessCb:null,joinWorkspaceErrorCb:null,isBOE:!!e})),userInviteRef:({inviteInfo:e})=>(0,i.Cs)(Ar.withContext({isInvitePage:null==e?void 0:e.isInvitePage,invitedCode:null==e?void 0:e.invitedCode})),thirdPartSignInRef:({isBOE:e,passport:t,inviteInfo:n,loginReportParams:r})=>(0,i.Cs)(Un.withContext({isBOE:!!e,isInvitePage:null==n?void 0:n.isInvitePage,invitedCode:null==n?void 0:n.invitedCode,passport:t,name:"",source:ct.LoginIn,currentPage:null==r?void 0:r.currentPage})),emailSignInRef:({isBOE:e,passport:t,inviteInfo:n})=>(0,i.Cs)(Rn.withContext({...Rn.context,isBOE:!!e,isInvitePage:null==n?void 0:n.isInvitePage,invitedCode:null==n?void 0:n.invitedCode,passport:t,email:"",password:"",birthday:"",ticket:""}))}),setNoCareerCb:(0,o.f0)({noCareerCb:(e,t)=>t.callback}),stopEmailSignInActor:a.sT((({emailSignInRef:e})=>e)),changeContext:(0,o.f0)(((e,t)=>(0,u.merge)({},e,t.context))),changeThirdPartSignInContext:(0,o.lW)(((e,t)=>({type:"CHANGE_CONTEXT",context:t.context})),{to:({thirdPartSignInRef:e})=>e}),changeEmailSignInContext:(0,o.lW)(((e,t)=>({type:"CHANGE_CONTEXT",context:t.context})),{to:({emailSignInRef:e})=>e}),changeUserWorkSpaceInContext:(0,o.lW)(((e,t)=>({type:"CHANGE_CONTEXT",context:t.context})),{to:"LvUserWorkspaceMachine"}),changeEmailSignInPartialContext:(0,o.lW)((({loginReportParams:e})=>({type:"CHANGE_CONTEXT",context:{pageEnterFrom:null==e?void 0:e.pageEnterFrom,currentPage:null==e?void 0:e.currentPage}})),{to:({emailSignInRef:e})=>e}),handleFetchLocationFail:({onFetchLocationFail:e})=>e(),reportFetchLocationSuccess:({fetchLocationReporter:e})=>{null==e||e.report({status:"success"})},reportFetchLocationFail:({fetchLocationReporter:e})=>{null==e||e.report({status:"fail"})},consumeChangeWorkspaceCache:(0,o.f0)(((e,t)=>{const{data:n}=t;return n.workspace_id?{changeWorkspaceEventCache:n.workspace_id}:{}})),restoreUpdateWorkspaceEventCache:(0,o.f0)({updateWorkspaceEventCache:(e,t)=>[...e.updateWorkspaceEventCache,t.workspaceId]}),storeLoginInfo:(0,o.f0)(((e,t)=>{var n;return"SIGN_IN_SUCCESS"!==t.type?e:{isNewSignupUser:(null==(n=t.extra)?void 0:n.isNewSignupUser)||!1}})),reportLvrdCheckLoginTime:e=>{var t,n,r;null==(t=null==e?void 0:e.lvrdCheckLoginReporter)||t.report({endTime:Date.now()}),null==(r=null==(n=null==e?void 0:e.lvrdCheckLoginReporter)?void 0:n.resetOptions)||r.call(n)},updateWorkspaceDataFromChild:(0,o.f0)((({thirdPartyFileOpenCb:e,thirdPartyFileOpenCbCalled:t},n)=>{const r=(0,u.omit)(n,["type"]),{workspaceList:o=[]}=n;let i=!1;const a=vt("state");return"googledrive"===vt(Ve.UTM_CAMPAIGN)&&!t&&null!=o&&o.length&&null!=a&&a.length&&(console.warn("call thirdPartyFileOpenCb"),null==e||e(ke.GoogleDrive,o),i=!0),{...r,thirdPartyFileOpenCbCalled:i}})),forwardToUserCareer:(0,o.Tn)("LvUserCareerMachine"),forwardToUserWorkspace:(0,o.Tn)("LvUserWorkspaceMachine"),forwardToUserStatusListener:(0,o.Tn)("LvUserStatusListenerMachine"),signInWithAuthToken:(0,o.lW)(((e,t)=>({type:"ADD_TASK",exec:async()=>{var e,n;try{if("success"!==(await(async e=>{const{APP_ID:t}=oe,{token:n,state:r}=e,o=new FormData;return o.append("aid",t),o.append("token",n),o.append("state",r),await $t({method:"post",url:"/passport/transfer/token_auth/",data:o,headers:{"Content-Type":"multipart/form-data"}})})({token:t.data.token,state:t.data.state})).result)throw new Error("sign in auth failure")}catch(r){throw null==(n=(e=t.data).onFailure)||n.call(e,r),r}},successType:"SIGN_IN_WITH_AUTH_TOKEN_SUCCESS",failType:"SIGN_IN_WITH_AUTH_TOKEN_FAILURE"})),{to:e=>e.asyncFuncExecsRef}),saveUserFromSignUpStorage:({isNewSignupUser:e,userInfo:t})=>{if(e&&null!=t&&t.uid){const e=`${Ee}_${null==t?void 0:t.uid}`;localStorage.setItem(e,"true")}},getAllEverPhotoUser:(0,o.lW)((()=>({type:"ADD_TASK",exec:async()=>{var e;const t=await cn.getAllEverPhotoUser();return(null==(e=null==t?void 0:t.data)?void 0:e.ever_photo_uids)??[]},successType:"GET_ALL_EVER_PHOTO_USER_SUCCESS"})),{to:e=>e.asyncFuncExecsRef}),saveAllEverPhotoUser:(0,o.f0)({everPhotoUsers:(e,t)=>t.data}),assignVipInfo:(0,o.f0)({vipInfo:(e,{data:t})=>({flag:t.flag,vipRealEnd:null==t?void 0:t.end_time,subscribeType:null==t?void 0:t.subscribe_type,canFreeTrial:null==t?void 0:t.can_free_trial,canFreeTrialDays:null==t?void 0:t.can_free_trial_days,productId:null==t?void 0:t.product_id,subscribeCycle:null==t?void 0:t.subscribe_cycle,isFirstSubscribe:null==t?void 0:t.is_first_subscribe,isCancelSubscribe:null==t?void 0:t.is_cancel_subscribe,cycleUnit:null==t?void 0:t.cycle_unit})}),updateVipInfoReq:(0,o.lW)((()=>({type:"ADD_TASK",exec:async()=>await Vt.getSubscriptionUserInfo(!0),successType:"GET_VIP_INFO_SUCCESS"})),{to:e=>e.asyncFuncExecsRef}),updateIsInitialCheckLoginStatus:(0,o.f0)({isInitialCheckLoginStatus:()=>!1}),updateDefaultWorkspaceInfo:(0,o.f0)({userInfo:(e,t)=>{const{userInfo:n,defaultWorkspaceInfo:r}=t.data;return{...n,defaultSpaceInfo:r}}}),checkAgeGate:({ageGateChecker:e})=>{e.start()},handleUserStop:({thirdPartyFileOpenStopCb:e},t)=>{t.cancel&&(null==e||e("user_cancel_login"))}},guards:{isInitWorkSpaceGuard:e=>!!e.isWorkSpaceInited,shouldFetchLocation:({userInfo:e,shouldFetchLocation:t})=>!!t&&typeof e>"u",hasLocationCodeFromHtml:()=>typeof __locationInfo<"u",isValidLocationFromCheckingPharse:(e,{data:t})=>!!t.region,needSignNow:()=>{const e=vt(Ve.UTM_CAMPAIGN),t=vt("state");return!("googledrive"!==e||null==t||!t.length)}}});class Dr extends g.v{init(e){this._userService=e.userService}getRegion(){var e,t;return null==(t=null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo)?void 0:t.region}getNewIdc(){var e,t;return null==(t=null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo)?void 0:t.newIdc}getReqDomain(){var e,t;return null==(t=null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo)?void 0:t.reqDomain}getUserInfo(){var e;return null==(e=this._userService.getSnapshot())?void 0:e.context.userInfo}getUserCloudInfo(){var e;const{context:t}=this._userService.getSnapshot();return{workspaceInfo:t.currentWorkspaceInfo,workspaceExpandInfo:t.workspaceExpandInfoMap[(null==(e=t.currentWorkspaceInfo)?void 0:e.workspace_id)??""],workspaceExpandInfoMap:t.workspaceExpandInfoMap}}changeUserRegion(e){this._userService.send({type:"CHANGE_CONTEXT",context:{userInfo:{region:e,idc:gn(e)}}})}listenCareerStatus(e){const t=t=>{const n=this._getUserCareer(t);e(n)};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenLoginStatus(e){const t=t=>{const n=this._userHasSign(t);e({hasSign:n})};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenLoginOut(e){const t=t=>{var n;const r=null==(n=null==t?void 0:t.children)?void 0:n.LvUserStatusListenerMachine;r&&r.getSnapshot().matches("destroy")&&(null==e||e())};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenUserWholeStatus(e){const t=t=>{var n,r;const o=this._userHasSign(t),i=this._getUserCareer(t);e({hasSign:o,vipInfo:null==(n=t.context)?void 0:n.vipInfo,workspaceExpandInfoMap:null==(r=t.context)?void 0:r.workspaceExpandInfoMap,noSign:t.matches("noSign"),careerStatus:i.status,career:i.career,initFailed:t.matches("fetchLocationFail")})};return this._userService.onTransition(t),()=>{this._userService.off(t)}}listenVipInfo(e){const t=t=>{var n;e(null==(n=t.context)?void 0:n.vipInfo)};return this._userService.onTransition(t),()=>{this._userService.off(t)}}_userHasSign(e){var t;return(null==(t=e.context)?void 0:t.userInfo)&&Object.prototype.hasOwnProperty.call(e.context.userInfo,"uid")&&Object.prototype.hasOwnProperty.call(e.context.userInfo,"region")}_getUserCareer(e){var t,n,r,o;if(e.matches("noSign"))return{status:void 0,career:""};const i=null==(t=null==e?void 0:e.children.LvUserCareerMachine)?void 0:t.getSnapshot();return null!=i&&i.matches("hasCareer")&&null!=(r=null==(n=e.context)?void 0:n.userInfo)&&r.career?{status:!0,career:e.context.userInfo.career}:null!=i&&i.matches("noCareer")?{status:!1,career:(null==(o=e.context.userInfo)?void 0:o.career)||""}:{status:void 0,career:""}}}const Hr=new Dr,Mr=(0,G.createContext)({userService:{},theme:Ge.Light,setTheme:()=>{},locale:{}});function Fr(){const e=(0,G.useContext)(Mr),{userService:t}=e;return t}var jr=(e=>(e[e.logIn=0]="logIn",e[e.signUp=1]="signUp",e[e.forgetPwd=2]="forgetPwd",e[e.invite=3]="invite",e))(jr||{});re.LOGIN,re.SIGN_UP,re.FORGET_PWD,re.INVITE;const Ur=new class{constructor(){this._theme=Ge.Light}init(e){const t=this.retrive()?this.retrive()===Ge.Dark:document.body.getAttribute("lv-theme")===Ge.Dark;return this.apply(t?Ge.Dark:Ge.Light),e(t?Ge.Dark:Ge.Light),this.listen(e)}listen(e){const t=window.matchMedia("(prefers-color-scheme: dark)"),n=t=>{this.apply(t.matches?Ge.Dark:Ge.Light,!0),e(t.matches?Ge.Dark:Ge.Light)};return t.addListener(n),()=>{t.removeListener(n)}}apply(e,t=!1){this._theme=e,e===Ge.Dark?document.body.setAttribute("lv-theme","dark"):document.body.removeAttribute("lv-theme"),t&&this.store()}checkCookieEnabled(){return typeof window>"u"||!navigator.cookieEnabled}retrive(){if(!this.checkCookieEnabled())return window.localStorage.getItem(we)}store(){this.checkCookieEnabled()||(y.Z.set(we,this._theme),window.localStorage.setItem(we,this._theme))}clear(){this.checkCookieEnabled()||(y.Z.remove(we),window.localStorage.removeItem(we))}};function Br(e=!0){const[t,n]=(0,G.useState)(Ge.Light);return(0,G.useEffect)((()=>e?Ur.init(n):()=>{}),[]),[t,function(t){e&&(Ur.apply(t,!0),n(t))}]}function Gr(){const e=(0,G.useContext)(Mr),{theme:t,setTheme:n}=e;return[t,n]}function Wr(){return new _n({countryCode:void 0,getBrowserLang:()=>{if($e())return window.navigator.language},cookieGetter:y.Z.get.bind(y.Z),cookieSetter:y.Z.set.bind(y.Z)})}function Vr(){const{locale:e}=(0,G.useContext)(Mr);return e}typeof window<"u"&&typeof window.document<"u"&&window.document.createElement;const qr=({src:e,alt:t,responsiveImageWebp:n,style:r,imgStyle:o,className:i,imgClassName:a,width:s,height:c,onClick:l,loading:u})=>{const d=(null==n?void 0:n.srcSet)||(null==e?void 0:e.replace(/\.image$/,".webp"));return(0,E.jsx)("figure",{className:Y()("figure",i),style:r,onClick:l,children:(0,E.jsxs)("picture",{children:[d?(0,E.jsx)("source",{srcSet:d,type:"image/webp"}):null,(0,E.jsx)("img",{className:Y()("custom-image",a),src:e,style:o,alt:t,width:s,height:c,loading:u})]})})};const $r=({label:e,menu:t,value:n,defaultValue:r,selectClassName:o,selectStyle:i,menuClassName:a,menuStyle:s,menuItemClassName:c,menuItemStyle:l,theme:u,onChange:d})=>{const[p,f]=(0,G.useState)(!1),h=(0,G.useRef)(null),_=e=>"hide-label"===u?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{className:"lv_birthday-select-menu-label",children:e}),(0,E.jsx)(W.axJ,{className:"lv_birthday-select-menu-icon"})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(W.axJ,{className:"lv_birthday-select-menu-icon"})," ",e]}),m=(0,G.useMemo)((()=>n!==gr?t.find((e=>e.value===n)).label:""),[t,n]);return(0,E.jsx)(P.Z,{droplist:(0,E.jsx)(L.Z,{className:Y()("lv_birthday-select-menu",a),style:s,defaultSelectedKeys:[String(r)],selectedKeys:n!==gr?[String(n)]:void 0,autoScrollIntoView:!0,onClickMenuItem:e=>{d(Number(e))},children:t.map((e=>(0,E.jsx)(L.Z.Item,{className:c,style:l,children:_(e.label)},String(e.value))))}),triggerProps:{autoFitPosition:!1},trigger:"click",getPopupContainer:e=>h.current,onVisibleChange:e=>{f(e)},children:(0,E.jsxs)("div",{ref:h,className:Y()("lv_birthday-select",p?"active":"",o,m?"not-empty":""),style:i,children:[(0,E.jsx)("div",{className:Y()("lv_birthday-select-label"),children:e}),(0,E.jsx)("div",{className:"lv_birthday-select-value",children:m}),"hide-label"===u?(0,E.jsx)(W.keV,{className:"lv_birthday-select-arrow",color:"currentColor"}):(0,E.jsx)(W.C26,{className:"lv_birthday-select-arrow"})]})})},Xr=({mode:e="custom",theme:t,customVerfication:n,onChange:r,birthdayStr:o})=>{const[i,a,s]=(null==o?void 0:o.split("-"))??[],[l,u]=(0,U.eO)(o?yr.withContext({...yr.context,year:Number(i),month:Number(a),date:Number(s)}):yr),{month:d,date:p,year:f,months:h,dates:_,years:m}=l.context,[g,v]=(0,G.useState)(""),w=(0,G.useRef)(null),y=(0,G.useMemo)((()=>{const e=M()(g);return[e.month(),e.date(),e.year()]}),[g]),A=["","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].map((e=>e&&c.ZP.t(e)));return(0,G.useEffect)((()=>{l.matches("valid")&&(null==r||r(M()(`${f}-${d}-${p}`).format("YYYY-MM-DD")))}),[r,l,f,d,p]),(0,G.useEffect)((()=>{"native"===e&&g&&(!n||n(...y))&&(null==r||r(g))}),[e,g,n]),(0,G.useEffect)((()=>{u({type:"CHANGE_CUSTOM_VERFICATION",callback:n})}),[n]),(0,E.jsx)("div",{className:Y()("lv_birthday-picker",t||""),children:"custom"===e?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)($r,{label:c.ZP.t("web_signin_placeholder_month",{},"Month"),menu:h.map((e=>({label:A[e],value:e}))),value:d,defaultValue:1,selectStyle:{width:"hide-label"===t?148:140},menuStyle:{width:"hide-label"===t?160:180},theme:t,onChange:e=>u({type:"CHANGE_MONTH",value:e})}),(0,E.jsx)($r,{label:c.ZP.t("web_signin_placeholder_day",{},"Day"),menu:_.map((e=>({label:String(e),value:e}))),value:p,defaultValue:1,theme:t,onChange:e=>u({type:"CHANGE_DATE",value:e})}),(0,E.jsx)($r,{label:c.ZP.t("web_signin_placeholder_year",{},"Year"),menu:m.map((e=>({label:String(e),value:e}))),value:f,defaultValue:1990,theme:t,onChange:e=>u({type:"CHANGE_YEAR",value:e})})]}):(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"lv_birthday-input",onClick:()=>{w.current.showPicker()},children:[(0,E.jsx)("span",{className:Y()(g?"":"placeholder"),children:g||"Enter your birthday"}),(0,E.jsx)("input",{ref:w,className:"lv_birthday-input",type:"date",onChange:e=>{v(e.target.value?M()(e.target.value).format("YYYY-MM-DD"):"")}})]})})})};function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}var Yr={exports:{}};var zr,Jr,Zr,Qr;function eo(){if(Jr)return zr;Jr=1;return zr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}Yr.exports=function(){if(Qr)return Zr;Qr=1;var e=eo();function t(){}function n(){}return n.resetWarningCache=t,Zr=function(){function r(t,n,r,o,i,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function o(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}()();Yr.exports;var to="data-focus-lock",no="data-focus-lock-disabled";function ro(e,t){return function(e,t){var n=(0,G.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var oo={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function io(e){return e}function ao(e,t){void 0===t&&(t=io);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function so(e,t){return void 0===t&&(t=io),ao(e,t)}var co=so({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),lo=so(),uo=so(),po=function(e){void 0===e&&(e={});var t=ao(null);return t.options=(0,ne.pi)({async:!0,ssr:!1},e),t}({async:!0}),fo=[],ho=G.forwardRef((function(e,t){var n,r=G.useState(),o=r[0],i=r[1],a=G.useRef(),s=G.useRef(!1),c=G.useRef(null),l=e.children,u=e.disabled,d=e.noFocusGuards,p=e.persistentFocus,f=e.crossFrame,h=e.autoFocus,_=(e.allowTextSelection,e.group),m=e.className,g=e.whiteList,v=e.hasPositiveIndices,w=e.shards,E=void 0===w?fo:w,y=e.as,A=void 0===y?"div":y,b=e.lockProps,T=void 0===b?{}:b,S=e.sideCar,C=e.returnFocus,I=e.focusOptions,P=e.onActivation,L=e.onDeactivation,O=G.useState({})[0],R=G.useCallback((function(){c.current=c.current||document&&document.activeElement,a.current&&P&&P(a.current),s.current=!0}),[P]),k=G.useCallback((function(){s.current=!1,L&&L(a.current)}),[L]);(0,G.useEffect)((function(){u||(c.current=null)}),[]);var N=G.useCallback((function(e){var t=c.current;if(t&&t.focus){var n="function"==typeof C?C(t):C;if(n){var r="object"==typeof n?n:void 0;c.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}}),[C]),x=G.useCallback((function(e){s.current&&co.useMedium(e)}),[]),D=lo.useMedium,H=G.useCallback((function(e){a.current!==e&&(a.current=e,i(e))}),[]),M=Kr(((n={})[no]=u&&"disabled",n[to]=_,n),T),F=!0!==d,j=F&&"tail"!==d,U=ro([t,H]);return G.createElement(G.Fragment,null,F&&[G.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:u?-1:0,style:oo}),v?G.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:u?-1:1,style:oo}):null],!u&&G.createElement(S,{id:O,sideCar:po,observed:o,disabled:u,persistentFocus:p,crossFrame:f,autoFocus:h,whiteList:g,shards:E,onActivation:R,onDeactivation:k,returnFocus:N,focusOptions:I}),G.createElement(A,Kr({ref:U},M,{className:m,onBlur:D,onFocus:x}),l),j&&G.createElement("div",{"data-focus-guard":!0,tabIndex:u?-1:0,style:oo}))}));ho.propTypes={},ho.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const _o=ho;function mo(e,t){return(mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function vo(e){var t=function(e,t){if("object"!==go(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===go(t)?t:String(t)}var wo=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Eo=function(e){return Array.isArray(e)?e:[e]},yo=function(e){return Array.isArray(e)?e[0]:e},Ao=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},bo=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},To=function(e,t){return!e||bo(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility"))}(e)&&t(Ao(e))},So=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=To(t,So.bind(void 0,e));return e.set(t,r),r},Co=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=function(e,t){return!(e&&!bo(e))||!!Oo(e)&&t(Ao(e))}(t,Co.bind(void 0,e));return e.set(t,r),r},Io=function(e){return e.dataset},Po=function(e){return"INPUT"===e.tagName},Lo=function(e){return Po(e)&&"radio"===e.type},Oo=function(e){var t=e.getAttribute("data-no-autofocus");return![!0,"true",""].includes(t)},Ro=function(e){var t;return!(!e||null===(t=Io(e))||void 0===t||!t.focusGuard)},ko=function(e){return!Ro(e)},No=function(e){return!!e},xo=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},Do=function(e,t,n){return wo(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(xo)},Ho=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),Mo="".concat(Ho,", [data-focus-guard]"),Fo=function(e,t){return wo((e.shadowRoot||e).children).reduce((function(e,n){return e.concat(n.matches(t?Mo:Ho)?[n]:[],Fo(n))}),[])},jo=function(e,t){return e.reduce((function(e,n){var r,o=Fo(n,t),i=(r=[]).concat.apply(r,o.map((function(e){return function(e,t){var n;return e instanceof HTMLIFrameElement&&null!==(n=e.contentDocument)&&void 0!==n&&n.body?jo([e.contentDocument.body],t):[e]}(e,t)})));return e.concat(i,n.parentNode?wo(n.parentNode.querySelectorAll(Ho)).filter((function(e){return e===n})):[])}),[])},Uo=function(e,t){return wo(e).filter((function(e){return So(t,e)})).filter((function(e){return function(e){return!((Po(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))}(e)}))},Bo=function(e,t){return void 0===t&&(t=new Map),wo(e).filter((function(e){return Co(t,e)}))},Go=function(e,t,n){return Do(Uo(jo(e,n),t),!0,n)},Wo=function(e,t){return Do(Uo(jo(e),t),!1)},Vo=function(e,t){return Uo(function(e){var t=e.querySelectorAll("[".concat("data-autofocus-inside","]"));return wo(t).map((function(e){return jo([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},qo=function(e,t){return e.shadowRoot?qo(e.shadowRoot,t):!(void 0===Object.getPrototypeOf(e).contains||!Object.getPrototypeOf(e).contains.call(e,t))||wo(e.children).some((function(e){var n;if(e instanceof HTMLIFrameElement){var r=null===(n=e.contentDocument)||void 0===n?void 0:n.body;return!!r&&qo(r,t)}return qo(e,t)}))},$o=function(e){return e.parentNode?$o(e.parentNode):e},Xo=function(e){return Eo(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(to);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(wo($o(t).querySelectorAll("[".concat(to,'="').concat(n,'"]:not([').concat(no,'="disabled"])')))):[t]),e}),[])},Ko=function(e){if(void 0===e&&(e=document),e&&e.activeElement){var t=e.activeElement;return t.shadowRoot?Ko(t.shadowRoot):t instanceof HTMLIFrameElement&&function(e){try{return e()}catch{return}}((function(){return t.contentWindow.document}))?Ko(t.contentWindow.document):t}},Yo=function(e,t){return void 0===t&&(t=Ko(yo(e).ownerDocument)),!(!t||t.dataset&&t.dataset.focusGuard)&&Xo(e).some((function(e){return qo(e,t)||function(e,t){return!!wo(e.querySelectorAll("iframe")).some((function(e){return function(e,t){return e===t}(e,t)}))}(e,t)}))},zo=function(e,t){return Lo(e)&&e.name?function(e,t){return t.filter(Lo).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},Jo=function(e){return e[0]&&e.length>1?zo(e[0],e):e[0]},Zo=function(e,t){return e.length>1?e.indexOf(zo(e[t],e)):t},Qo="NEW_FOCUS",ei=function(e,t,n,r){var o=e.length,i=e[0],a=e[o-1],s=Ro(n);if(!(n&&e.indexOf(n)>=0)){var c=void 0!==n?t.indexOf(n):-1,l=r?t.indexOf(r):c,u=r?e.indexOf(r):-1,d=c-l,p=t.indexOf(i),f=t.indexOf(a),h=function(e){var t=new Set;return e.forEach((function(n){return t.add(zo(n,e))})),e.filter((function(e){return t.has(e)}))}(t),_=(void 0!==n?h.indexOf(n):-1)-(r?h.indexOf(r):c),m=Zo(e,0),g=Zo(e,o-1);if(-1===c||-1===u)return Qo;if(!d&&u>=0)return u;if(c<=p&&s&&Math.abs(d)>1)return g;if(c>=f&&s&&Math.abs(d)>1)return m;if(d&&Math.abs(_)>1)return u;if(c<=p)return g;if(c>f)return m;if(d)return Math.abs(d)>1?u:(o+u+d)%o}},ti=function(e,t,n){var r=e.map((function(e){return e.node})),o=Bo(r.filter(function(e){return function(t){var n,r=null===(n=Io(t))||void 0===n?void 0:n.autofocus;return t.autofocus||void 0!==r&&"false"!==r||e.indexOf(t)>=0}}(n)));return o&&o.length?Jo(o):Jo(Bo(t))},ni=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&ni(e.parentNode.host||e.parentNode,t),t},ri=function(e,t){for(var n=ni(e),r=ni(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},oi=function(e,t,n){var r=Eo(e),o=Eo(t),i=r[0],a=!1;return o.filter(Boolean).forEach((function(e){a=ri(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=ri(i,e);t&&(a=!a||qo(t,a)?t:ri(t,a))}))})),a},ii=function(e,t){var n=Ko(Eo(e).length>0?document:yo(e).ownerDocument),r=Xo(e).filter(ko),o=oi(n||e,e,r),i=new Map,a=Wo(r,i),s=Go(r,i).filter((function(e){var t=e.node;return ko(t)}));if(s[0]||(s=a)[0]){var c=Wo([o],i).map((function(e){return e.node})),l=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter(No)}(c,s),u=l.map((function(e){return e.node})),d=ei(u,c,n,t);if(d===Qo){var p=ti(a,u,function(e,t){return e.reduce((function(e,n){return e.concat(Vo(n,t))}),[])}(r,i));return p?{node:p}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===d?d:l[d]}},ai=0,si=!1,ci=function(e,t,n){void 0===n&&(n={});var r=ii(e,t);if(!si&&r){if(ai>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),si=!0,void setTimeout((function(){si=!1}),1);ai++,function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()}(r.node,n.focusOptions),ai--}};function li(e){setTimeout(e,1)}var ui=function(){return document&&document.activeElement===document.body||function(e){void 0===e&&(e=document);var t=Ko(e);return!!t&&wo(e.querySelectorAll("[".concat("data-no-focus-lock","]"))).some((function(e){return qo(e,t)}))}()},di=null,pi=null,fi=null,hi=!1,_i=function(){return!0};function mi(e,t,n,r){var o=null,i=e;do{var a=r[i];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else{if(!a.lockItem)break;if(i!==e)return;o=null}}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var gi=function(e){return e&&"current"in e?e.current:e},vi=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},wi=function(){var e=!1;if(di){var t=di,n=t.observed,r=t.persistentFocus,o=t.autoFocus,i=t.shards,a=t.crossFrame,s=t.focusOptions,c=n||fi&&fi.portaledElement,l=document&&document.activeElement;if(c){var u=[c].concat(i.map(gi).filter(Boolean));if((!l||function(e){return(di.whiteList||_i)(e)}(l))&&(r||function(e){return e?!!hi:"meanwhile"===hi}(a)||!ui()||!pi&&o)&&(c&&!(Yo(u)||l&&function(e,t){return t.some((function(t){return vi(e,t,t)}))}(l,u)||function(e){return fi&&fi.portaledElement===e}(l))&&(document&&!pi&&l&&!o?(l.blur&&l.blur(),document.body.focus()):(e=ci(u,pi,{focusOptions:s}),fi={})),hi=!1,pi=document&&document.activeElement),document){var d=document&&document.activeElement,p=function(e){var t=Xo(e).filter(ko),n=oi(e,e,t),r=new Map,o=Go([n],r,!0),i=Go(t,r).filter((function(e){var t=e.node;return ko(t)})).map((function(e){return e.node}));return o.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:Ro(t)}}))}(u),f=p.map((function(e){return e.node})).indexOf(d);f>-1&&(p.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),mi(f,p.length,1,p),mi(f,-1,-1,p))}}}return e},Ei=function(e){wi()&&e&&(e.stopPropagation(),e.preventDefault())},yi=function(){return li(wi)},Ai=function(){hi="just",li((function(){hi="meanwhile"}))};co.assignSyncMedium((function(e){var t=e.target,n=e.currentTarget;n.contains(t)||function(e,t){fi={observerNode:e,portaledElement:t}}(n,t)})),lo.assignMedium(yi),uo.assignMedium((function(e){return e({moveFocusInside:ci,focusInside:Yo})}));const bi=function(e,t){return function(n){var r,o=[];function i(){r=e(o.map((function(e){return e.props}))),t(r)}var a,s=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mo(e,t)}(t,e),t.peek=function(){return r};var a=t.prototype;return a.componentDidMount=function(){o.push(this),i()},a.componentDidUpdate=function(){i()},a.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),i()},a.render=function(){return G.createElement(n,this.props)},t}(G.PureComponent);return function(e,t,n){(t=vo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"displayName","SideEffect("+(((a=n).displayName||a.name||"Component")+")")),s}}((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!di&&(document.addEventListener("focusin",Ei),document.addEventListener("focusout",yi),window.addEventListener("blur",Ai));var n=di,r=n&&t&&t.id===n.id;di=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(pi=null,(!r||n.observed!==t.observed)&&t.onActivation(),wi(),li(wi)):(document.removeEventListener("focusin",Ei),document.removeEventListener("focusout",yi),window.removeEventListener("blur",Ai),pi=null)}))((function(){return null}));var Ti=G.forwardRef((function(e,t){return G.createElement(_o,Kr({sideCar:bi,ref:t},e))})),Si=_o.propTypes||{};Si.sideCar;!function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&(o[n]=e[n])}(Si,["sideCar"]);Ti.propTypes={};const Ci=Ti;var Ii=(e=>(e[e.logIn=0]="logIn",e[e.signUp=1]="signUp",e[e.forgetPwd=2]="forgetPwd",e[e.invite=3]="invite",e))(Ii||{});const Pi=e=>{const{defaultEmail:t,defaultPassword:n,disableBtton:r=!1}=e,[o,i]=(0,G.useState)(t||""),[a,s]=(0,G.useState)(n||""),[l,u]=(0,G.useState)(!1),d=(0,G.useRef)(null),p=t=>{var n;i(t),null==(n=e.onEmailChange)||n.call(e,t)},f=t=>{var n;s(t),null==(n=e.onPasswordChange)||n.call(e,t)};(0,G.useEffect)((()=>{p(o),f(a)}),[]);const h=()=>{e.onSignIn(o,a)},{emailWarn:_,passwordWarn:m,confirmText:g,loading:v}=e;return(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-content",children:(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-form",children:[(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-form-email"),children:[(0,E.jsx)(O.default,{className:Y()("lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn ":""!==_}),value:o,placeholder:c.oc.t("web_signin_placeholder_enter_email",{},"Enter email"),onChange:p,onPressEnter:()=>{var e,t;null==(t=null==(e=d.current)?void 0:e.focus)||t.call(e)}}),""!==_?(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-warn",children:_}):null]}),(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-form-password",{"lv_sign_in_panel_wide-form-password-warn":""!==m}),children:[(0,E.jsx)(O.default,{ref:d,type:l?"text":"password",className:"lv_sign_in_panel_wide-input-without-default",value:a,placeholder:c.oc.t("web_signin_placeholder_enter_password",{},"Enter password"),onChange:f,onPressEnter:h,suffix:l?(0,E.jsx)(W.bEM,{onClick:()=>{u(!1)}}):(0,E.jsx)(W.lLW,{onClick:()=>{u(!0)}})}),""!==m?(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-warn",children:m}):null]}),(0,E.jsx)(I.Z,{className:"lv_sign_in_panel_wide-sign-in-button lv_sign_in_panel_wide-primary-button",type:"primary",size:"large",onClick:h,loading:v,disabled:r,children:g})]})})},Li=e=>(0,E.jsxs)("div",{className:"back_to_third_party",...e,children:[(0,E.jsx)("span",{className:"back_to_third_party-btn lv_sign_in_panel_wide-secondary-button",children:(0,E.jsx)(W.JJ,{className:"back_to_third_party-icon"})}),(0,E.jsx)("span",{className:"back_to_third_party-label",children:c.ZP.t("web_signin_button_go_back_signin",{action0:e=>e},"Go back")})]}),Oi=({toForgetPwd:e})=>(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-log-in-footer",children:(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-forget-container",children:(0,E.jsx)("div",{onClick:e,className:"forget-pwd-btn",children:c.oc.t("web_signin_button_forgot_password",{},"Forgot password?")})})}),Ri=({toForgetPwd:e,toBasePage:t})=>{const n=Fr(),[r]=(0,j.L)(n),o=r.context.emailSignInRef,[i,a]=(0,j.L)(o),[s,l]=(0,G.useState)(""),[u,d]=(0,G.useState)(""),[p,f]=(0,G.useState)(!1),h=(0,B.v)(o,(e=>e.matches("signInSuccess")));(0,G.useEffect)((()=>{a({type:"INIT_LOGIN_ERROR_CB",func:e=>{var t;const n=parseInt(null==(t=null==e?void 0:e.data)?void 0:t.message,10);n===ce.SIGN_UP_CODE.LOGIN_ERROR_CODE.USER_NOT_EXITE||n===ce.SIGN_UP_CODE.LOGIN_ERROR_CODE.PASSWORD_WRONG?d(c.oc.t("web_signin_error_text_valid_email",{},"Enter a valid email or password")):R.Z.error(c.oc.t("log_fail_try_again")),f(!1)}})}),[]);return(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-detail",children:[(0,E.jsx)(Li,{onClick:t}),(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-detail-content",children:[(0,E.jsx)("h2",{className:"lv_sign_in_panel_wide-title",children:c.oc.t("web_signin_title_welcome_back",{},"Welcome back")}),(0,E.jsx)(Pi,{disableBtton:h,loading:!h&&p,defaultEmail:i.context.email,defaultPassword:i.context.password,confirmText:c.oc.t("web_signin_button_sign_in",{},"Sign in"),emailWarn:s,passwordWarn:u,onEmailChange:e=>{a({type:"SAVE_EMAIL",email:e}),""===e||Ln.test(e.trim())?l(""):l(c.oc.t("email_contain_at")),u===c.oc.t("web_signin_error_text_valid_email",{},"Enter a valid email of password")&&d("")},onPasswordChange:e=>{a({type:"SAVE_PASSWORD",password:e}),""===e||On.test(e)?d(""):d(c.oc.t("set_password_rule"))},onSignIn:(e,t)=>{if(""===e||""===t)return""===e&&l(c.oc.t("fill_the_text")),void(""===t&&d(c.oc.t("fill_the_text")));""!==s||""!==u||(a({type:"CONFIRM_SIGN",email:e,password:t}),f(!0))}}),(0,E.jsx)(Oi,{toForgetPwd:e})]})]})},ki=({toLogIn:e,isInvitePage:t})=>(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-sign-up-footer",children:!t&&(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-footer-switch",children:[(0,E.jsx)("span",{className:"lv_sign_in_panel_wide-footer-switch-text",children:c.ZP.t("web_signin_text_have_account",{},"Already have an account?")}),(0,E.jsx)("span",{onClick:e,className:"lv_sign_in_panel_wide-footer-switch-button",children:c.ZP.t("web_signin_button_siginin_old_account",{},"Sign in")})]})}),Ni=({toLogIn:e,toBasePage:t})=>{const n=Fr(),[r]=(0,j.L)(n),[o,i]=(0,j.L)(r.context.emailSignInRef),[a,s]=(0,G.useState)(""),[l,u]=(0,G.useState)(""),[d,p]=(0,G.useState)(!1),f=r.context.userInviteRef,[h]=(0,j.L)(f),{isInvitePage:_}=h.context,{searchParams:m}=new URL(window.location.href);(0,G.useEffect)((()=>{i({type:"INIT_SEND_CODE_ERROR_CB",func:e=>{var t;const n=null==(t=e.data)?void 0:t.message,r=parseInt(n,10);p(!1),r===ce.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.EMAIL_ERROR?s(c.ZP.t("email_contain_at")):r===ce.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.SENDING_FREQUENTLY?R.Z.error(c.ZP.t("many_code_later")):R.Z.error(c.ZP.t("fail_sign_try_again")),i({type:"BACK_TO_FILL_REGISTER_INFO"})}})}),[]);return(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-detail",children:[(0,E.jsx)(Li,{onClick:t}),(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-detail-content",children:[(0,E.jsx)("h2",{className:"lv_sign_in_panel_wide-title",children:c.ZP.t("web_signin_title_create_account",{},"Create an account")}),(0,E.jsx)(Pi,{defaultEmail:m.get("inviting_email")||o.context.email,defaultPassword:o.context.password,confirmText:c.ZP.t("sign_up"),emailWarn:a,passwordWarn:l,loading:d,onEmailChange:e=>{i({type:"SAVE_EMAIL",email:e}),""===e||Ln.test(e.trim())?s(""):s(c.ZP.t("email_contain_at"))},onPasswordChange:e=>{i({type:"SAVE_PASSWORD",password:e}),""===e||On.test(e)?u(""):u(c.ZP.t("set_password_rule"))},onSignIn:(e,t)=>{if(""===e||""===t)return""===e&&s(c.ZP.t("fill_the_text")),void(""===t&&u(c.ZP.t("fill_the_text")));""!==a||""!==l||(p(!0),i({type:"NEXT",email:e,password:t,emailHasRegisterCb:()=>{p(!1),s(c.ZP.t("email_ registered"))},onError:e=>{p(!1),1031===e.error_code?s(c.ZP.t("email_contain_at")):R.Z.error(c.ZP.t("fail_sign_try_again"))}}))}}),(0,E.jsx)(ki,{isInvitePage:_,toLogIn:e})]})]})},xi=({toLogIn:e,send:t,email:n})=>{const[r,o]=(0,G.useState)(""),[i,a]=(0,G.useState)(!1);return(0,E.jsxs)("div",{className:Y()("lv_forget_pwd_panel-content","lv_forget_pwd_panel_email_fill"),children:[(0,E.jsx)(Li,{onClick:()=>{t("BACK_SIGN_IN"),e()}}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-icon-wrapper",children:(0,E.jsx)("img",{src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_reset.png",className:"lv_forget_pwd_panel-icon lv_forget_pwd_panel-icon-reset",alt:"ForgetPasswordPNG"})}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-title lv_forget_pwd_panel-title-reset",children:c.oc.t("web_signin_title_reset_password",{},"Reset password")}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-description lv_forget_pwd_panel-description-reset",children:c.oc.t("web_signin_desc_reset_password",{},"We\u2019ll email you a link to reset your password.")}),(0,E.jsx)(O.default,{value:n,onChange:e=>{t({type:"SAVE_EMAIL",email:e}),e&&!Ln.test(e)?o(c.oc.t("web_signin_error_text_invalid_email",{},"Enter a valid email")):o("")},className:Y()("lv_forget_pwd_panel-input lv_forget_pwd_panel-input-reset lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn":""!==r}),placeholder:c.oc.t("web_signin_placeholder_enter_email_reset",{},"Enter email")}),""!==r?(0,E.jsx)("div",{className:"lv_forget_pwd_panel-warn",children:r}):null,(0,E.jsx)(I.Z,{loading:i,onClick:()=>{if(!i){if(!n||!Ln.test(n.trim()))return void o(c.oc.t("email_contain_at"));a(!0),t({type:"INIT_RESET_EMAIL_ERROR_CB",func:e=>{o(e.description),a(!1)}}),t({type:"SEND_EMAIL",email:n,emailNotRegisterCb:()=>{o(c.oc.t("email_contain_at")),a(!1)},onError:()=>{a(!1)}})}},type:"primary",className:Y()("lv_forget_pwd_panel-btn lv_forget_pwd_panel-btn-reset lv_sign_in_panel_wide-primary-button",{"lv_forget_pwd_panel-email-warn":""!==r}),children:c.oc.t("web_signin_button_confirm_password",{},"Confirm")})]})},Di=({resendEmailCodeCountDown:e,email:t,onBackClick:n,send:r})=>{const o=(0,G.useMemo)((()=>{const t=void 0===e?Pn:e;return c.oc.t("web_signin_desc_send_code",{number0:t},"You can resend the link in {number0} seconds.").replace(/\d+/,(e=>`<span class="lv_forget_pwd_panel-count-down-num">${e}</span>`))}),[e]);return(0,E.jsxs)("div",{className:"lv_forget_pwd_panel-resend",children:[(0,E.jsx)(Li,{onClick:n}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-icon-wrapper ",children:(0,E.jsx)("img",{className:"lv_forget_pwd_panel-icon lv_forget_pwd_panel-icon-resend",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_send.png",alt:"ForgetEmailPNG"})}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-title lv_forget_pwd_panel-title-reset",children:c.oc.t("web_signin_title_email_sent",{},"Email sent")}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-tip",children:c.oc.t("web_signin_desc_email_sent",{string0:t},"Your link was emailed to {string0}")}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-resend-footer-container",children:0!==e?(0,E.jsx)("div",{className:"lv_forget_pwd_panel-count-down",dangerouslySetInnerHTML:{__html:o}}):(0,E.jsx)("div",{className:"lv_forget_pwd_panel-resend-btn-container",children:(0,E.jsx)(I.Z,{className:"lv_sign_in_panel_wide-primary-button",onClick:()=>{r("RESEND")},children:c.oc.t("web_signin_button_resend_email",{},"Resend email")})})})]})},Hi=({warning:e,onInputChange:t,placeholder:n,style:r,className:o})=>{const i=(0,G.useRef)(null),[a,s]=(0,G.useState)(!1);return(0,G.useEffect)((()=>{var t,n;e.length?null==(t=i.current)||t.dom.classList.add("lv_forget_pwd_panel-warn-input"):null==(n=i.current)||n.dom.classList.remove("lv_forget_pwd_panel-warn-input")}),[e]),(0,E.jsxs)("div",{className:`lv_forget_pwd_panel-input-container ${o}`,style:r,children:[(0,E.jsxs)("div",{onMouseEnter:()=>{var e;null==(e=i.current)||e.dom.classList.add("lv_forget_pwd_panel-hover-input")},onMouseLeave:()=>{var e;null==(e=i.current)||e.dom.classList.remove("lv_forget_pwd_panel-hover-input")},className:"lv_forget_pwd_panel-input-wrapper",children:[(0,E.jsx)(O.default,{type:a?"text":"password",ref:i,onBlur:()=>{var e;null==(e=i.current)||e.dom.classList.remove("lv_forget_pwd_panel-hover-input")},onChange:t,className:Y()("lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn":e.length}),placeholder:n}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-input-suffix",children:a?(0,E.jsx)(W.bEM,{onMouseDown:e=>{e.preventDefault()},onClick:()=>{var e;null==(e=i.current)||e.focus(),s(!1)}}):(0,E.jsx)(W.lLW,{onMouseDown:e=>{e.preventDefault()},onClick:()=>{var e;null==(e=i.current)||e.focus(),s(!0)}})})]}),e.length&&(0,E.jsxs)("div",{className:"lv_forget_pwd_panel-warn-text",children:[" ",e," "]})||null]})},Mi=({className:e,toLogIn:t})=>((0,G.useEffect)((()=>{const e=document.getElementById("back-login-btn");e&&(e.onclick=t)}),[]),(0,E.jsxs)("div",{className:Y()(e,"lv_sign_in_panel_wide-footer-switch-text"),children:[c.oc.t("web_signin_text_go_back_signin",{},"Go back to"),(0,E.jsx)("span",{id:"back-login-btn",className:"lv_sign_in_panel_wide-footer-switch-button",children:c.oc.t("web_signin_button_sign_in",{},"Sign in")})]})),Fi=({toLogIn:e,send:t})=>{const[n,r]=(0,G.useState)(""),[o,i]=(0,G.useState)(""),[a,s]=(0,G.useState)(""),[l,u]=(0,G.useState)(""),[d,p]=(0,G.useState)(!1);(0,G.useEffect)((()=>{t({type:"INIT_RESET_SUCCESS_CB",func:()=>{R.Z.success(c.oc.t("password_reset_successfully")),p(!1)}})}),[]);return(0,E.jsxs)("div",{className:Y()("lv_forget_pwd_panel-content","lv_forget_pwd_panel_reset_pwd"),children:[(0,E.jsx)("div",{className:"lv_forget_pwd_panel-icon-wrapper",children:(0,E.jsx)("img",{src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_reset.png",className:"lv_forget_pwd_panel-icon lv_forget_pwd_panel-icon-reset",alt:"ForgetPasswordPNG"})}),(0,E.jsx)("div",{className:"lv_forget_pwd_panel-title lv_forget_pwd_panel-title-reset",children:c.oc.t("set_new_password")}),(0,E.jsx)(Hi,{className:"lv_forget_pwd_panel-input-reset  ",warning:a,onInputChange:e=>(r(e),!On.test(e)&&e?s(c.oc.t("set_password_rule")):s(""),e),value:n,placeholder:c.oc.t("web_signin_placeholder_new_password",{},"Enter new password")}),(0,E.jsx)(Hi,{className:Y()("lv_forget_pwd_panel-input-reset-pwd"),warning:l,onInputChange:e=>(i(e),u(e!==n?c.oc.t("web_signin_error_text_same_password",{},"Enter the same password as the above line"):""),e),value:o,placeholder:c.oc.t("web_signin_placeholder_new_password_again",{},"Enter new password again")}),(0,E.jsx)(I.Z,{loading:d,onClick:()=>{!On.test(n)||n!==o||(p(!0),t({type:"CONFIRM_PASSWORD",pwd:o}))},type:"primary",className:"lv_forget_pwd_panel-btn lv_forget_pwd_panel-btn-reset lv_sign_in_panel_wide-primary-button",children:c.oc.t("confirm_key")}),(0,E.jsx)(Mi,{toLogIn:()=>{t("BACK_SIGN_IN"),e()}})]})},ji=({toLogIn:e})=>{const t=Fr(),[n]=(0,j.L)(t),r=n.context.emailSignInRef,[,o]=(0,j.L)(r),i=(0,B.v)(r,(e=>e.context.step))||In.FillInEmail,a=(0,B.v)(r,(e=>e.context.email)),s=(0,B.v)(r,(e=>e.context.resendEmailCodeCountDown)),l=new URLSearchParams(location.search),u=l.get("showType")||"email";return(0,G.useEffect)((()=>{switch(u){case"email":o("TO_SEND_RESET_EMAIL_INFO");break;case"password":const t=l.get("email"),n=l.get("code");t&&n&&(o({type:"SAVE_PWD_CODE",code:n,email:t}),o({type:"TO_RESET_PASSWORD",func:()=>{e(),R.Z.warning(c.oc.t("link_lose_efficacy"))}}))}}),[u]),(0,E.jsxs)("div",{className:"lv_forget_pwd_panel",children:[i===In.FillInEmail?(0,E.jsx)(xi,{send:o,email:a,toLogIn:e}):null,i===In.ResendEmail?(0,E.jsx)(Di,{email:a,send:o,resendEmailCodeCountDown:s,toLogIn:e,onBackClick:()=>{o({type:"TO_SEND_RESET_EMAIL_INFO"})}}):null,i===In.ResetPwd?(0,E.jsx)(Fi,{email:a,send:o,toLogIn:e}):null]})},Ui=({value:e="",warn:t,size:n,...r})=>{const o=(0,G.useRef)(null),[i,a]=(0,G.useState)(!1),s=(0,G.useMemo)((()=>{const t=String(e).split("").slice(0,6);return t.length<6&&t.push(...new Array(6-t.length).fill("")),t}),[e]);return(0,E.jsxs)("div",{className:Y()("verification_code_input-wrapper",{"verification_code_input-wrapper-focus":i},n),onClick:()=>{var e;a(!0),null==(e=o.current)||e.focus()},children:[(0,E.jsx)("div",{className:"verification_code_input-number-wrapper",children:s.slice(0,3).map(((n,r)=>(0,E.jsx)("div",{className:Y()("verification_code_input-number",{"verification_code_input-number-focus":Math.max(e.length-1,0)===r,"verification_code_input-number-warn":t}),children:n},`${r}-${n}`)))}),(0,E.jsx)("div",{className:"verification_code_input-number-divider"}),(0,E.jsx)("div",{className:"verification_code_input-number-wrapper",children:s.slice(3).map(((n,r)=>(0,E.jsx)("div",{className:Y()("verification_code_input-number",{"verification_code_input-number-focus":e.length-4===r,"verification_code_input-number-warn":t}),children:n},`${r+3}-${n}`)))}),(0,E.jsx)(O.default,{className:"verification_code_input",style:{width:0,padding:0,border:"none"},maxLength:6,onFocus:()=>{a(!0)},onBlur:()=>{a(!1)},ref:o,...r})]})},Bi=({progress:e,total:t})=>(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide_progress-wrapper",children:[(0,E.jsx)("span",{className:"lv_sign_in_panel_wide_progress-num",children:e})," / ",t]}),Gi=({isFromModal:e,isMobile:t})=>{const[n,r]=(0,G.useState)(""),o=Fr(),[i,a]=(0,G.useState)(""),[s,l]=(0,G.useState)(0),[u,d]=(0,G.useState)(0),[p]=(0,j.L)(o),f=p.context.emailSignInRef,[,h]=(0,j.L)(f),_=(0,B.v)(f,(e=>e.context.email)),m=(0,B.v)(f,(e=>e.context.resendEmailCodeCountDown)),g=(0,B.v)(f,(e=>e.matches("signUp.sendingEmailCode"))),v=(0,G.useMemo)((()=>{const e=void 0===m?Pn:m;return c.oc.t("web_signin_text_code_sent",{number0:e},"Code sent. You can resend the code in {number0}s.").replace(/\d+/,(e=>`<span class="lv_sign_in_panel_wide-code-count-down-num">${e}</span>`))}),[m]);(0,G.useEffect)((()=>{h({type:"INIT_SEND_CODE_ERROR_CB",func:e=>{var t;const n=null==(t=e.data)?void 0:t.message;parseInt(n,10)===ce.SIGN_UP_CODE.SEND_CODE_ERROR_CODE.SENDING_FREQUENTLY?R.Z.error(c.oc.t("many_code_later")):R.Z.error(c.oc.t("fail_sign_try_again")),h({type:"BACK_TO_ENTER_CODE"})}})}),[]);const w=(0,G.useCallback)((e=>{var t;const n=null==(t=e.data)?void 0:t.message;parseInt(n,10)===ce.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_WRONG||parseInt(n,10)===ce.SIGN_UP_CODE.REGISTER_ERROR_CODE.CODE_EXPIRED?(a(c.oc.t("web_signin_error_wrong_verification_code",{},"Wrong verification code. Try again.")),l(s+1)):R.Z.error(c.oc.t("fail_sign_try_again"))}),[s,a,l]);(0,G.useEffect)((()=>{h({type:"INIT_REGISTER_ERROR_CB",func:w})}),[w]),(0,G.useEffect)((()=>{let e=null;return 10===s&&(e=setTimeout((()=>{l(0)}),18e5)),()=>{e&&clearTimeout(e)}}),[s]),(0,G.useEffect)((()=>{let e=null;return 5===u&&(e=setTimeout((()=>{d(0)}),18e5)),()=>{e&&clearTimeout(e)}}),[u]);const y=e=>{const t=e||n;""!==t?h({type:"CONFIRM_REGISTER",code:t}):a(c.oc.t("fill_the_text"))};return(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-code-detail",children:[(0,E.jsx)(Bi,{progress:2,total:e||t?2:3}),(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-code-logo"}),(0,E.jsx)("h2",{className:"lv_sign_in_panel_wide-code-title",children:c.oc.t("web_signin_title_confirm_email",{},"Confirm your email")}),(0,E.jsx)("span",{className:"lv_sign_in_panel_wide-code-tip",children:c.oc.t("code_sent_to_email",{placeholder:` ${_}`})}),(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-code-input-wrapper",{"lv_sign_in_panel_wide-code-input-wrapper-warn":""!==i}),children:[(0,E.jsx)(Ui,{value:n,onChange:e=>{r(e),a(""),6===(null==e?void 0:e.length)&&y(e)},onPressEnter:y,warn:!!i,size:t?"small":"default"}),""!==i?(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-code-warn",children:i}):null]}),0===m||5===u?(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-code-resend",{disbaled:g||5===u}),onClick:()=>{g||5===u||(d(u+1),h({type:"REPORT_SIGN_IN_ACTION",action:"resend"}),h({type:"RESEND",code:Tn.REGISTER_RETRY}))},children:[c.oc.t("web_signin_text_no_email",{},"Didn\u2019t receive email?")," ",(0,E.jsx)("br",{}),c.oc.t("web_signin_text_check_spam_folder",{},"Check your spam folder or")," ",c.oc.t("web_signin_button_resend_code_email",{action0:e=>(0,E.jsx)("span",{className:Y()("lv_sign_in_panel_wide-code-resend-button"),children:e})},"<action0>Resend code</action0>")]}):(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-code-count-down",dangerouslySetInnerHTML:{__html:v}})]})},Wi=({isFromModal:e,isMobile:t})=>{const n=Fr(),r=(0,B.v)(n,(e=>{var t;return(null==(t=e.context.userInfo)?void 0:t.region)??ye.US})),o=(0,B.v)(n,(e=>{var t;return null==(t=e.context.ipLocationInfo)?void 0:t.Subdivisions})),i=(0,B.v)(n,(e=>e.context.emailSignInRef)),[a]=(0,j.L)(n),s=a.context.emailSignInRef,l=(0,B.v)(s,(e=>e.context.birthday)),[,u]=(0,j.L)(i),[d,p]=(0,G.useState)(""),f=(0,G.useCallback)((e=>{p(e)}),[]),h=(0,G.useCallback)((()=>{var e;const t=mr(r,d,(null==(e=null==o?void 0:o.map)?void 0:e.call(o,(e=>e.GeoNameID)))||[]),[i,a,s]=d.split("-").map((e=>Number(e)));t?(n.send({type:"UPDATE_REPORT_PARAMS",params:{age_year:i,age_month:a,age_date:s}}),u({type:"CONFIRM_BIRTHDAY",value:d,region:r})):C.Z.error({className:"lv_sign_in_panel_wide-birthday-modal",maskStyle:{zIndex:1103},wrapStyle:{zIndex:1103},title:c.ZP.t("web_quebec_users_tiitle_minimum_age",{},"Minimum age requirement not met"),content:c.ZP.t("web_quebec_users_text_minimum_age",{},"According to local laws, you don\u2019t meet the minimum age requirement to use CapCut."),okText:c.ZP.t("web_quebec_users_button_get_it_one",{},"Got it"),onOk:()=>{u("RETURN_SIGN_IN")}}),(new lt).report({action:"next",age_year:i,age_month:a,age_date:s})}),[r,d,n,u]);return(0,G.useEffect)((()=>{(new lt).report({action:"show"})}),[]),(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide-birthday-detail",children:[(0,E.jsx)(Bi,{progress:1,total:e||t?2:3}),(0,E.jsx)("img",{className:"lv_sign_in_panel_wide-birthday-cover",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/signin_panel_birthday.png",alt:c.ZP.t("yout_birth")}),(0,E.jsx)("h2",{className:"lv_sign_in_panel_wide-birthday-title",children:c.ZP.t("web_signin_title_birthday_when",{},"When\u2019s your birthday?")}),(0,E.jsx)("p",{className:"lv_sign_in_panel_wide-birthday-subtitle",children:c.ZP.t("web_signin_desc_birthday_when",{},"Your birthday won\u2019t be shown publicly.")}),(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-birthday-picker",children:(0,E.jsx)(Xr,{mode:_t().isMobile?"native":"custom",theme:"hide-label",birthdayStr:l,onChange:f})}),(0,E.jsx)(I.Z,{className:"lv_sign_in_panel_wide-birthday-next lv_sign_in_panel_wide-primary-button",disabled:""===d,type:"primary",onClick:h,children:c.ZP.t("web_signin_button_next_step",{},"Next")})]})},Vi=({service:e,signType:t=Ii.logIn,isBOE:n,showGoogleBtn:r})=>{const[o,i]=(0,G.useState)(r);(0,G.useEffect)((()=>{var e,t,n;(null==document||!document.getElementById("g_id_onload"))&&!(0,u.isNil)(null==(n=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)?void 0:n.renderButton)&&i(!1)}),[]);const a=(0,G.useMemo)((()=>[{label:c.ZP.t("web_signin_button_signin_google",{},"Continue with Google"),name:"google",platformAppId:n?me.Google:_e.Google,icon:(0,E.jsx)(W.vYD,{className:"lv_third_part_sign_in_expand-icon"})},{label:c.ZP.t("web_signin_button_signin_tiktok",{},"Continue with TikTok"),name:"tiktok",platformAppId:n?me.TikTok:_e.TikTok,icon:(0,E.jsx)(W.$hL,{className:"lv_third_part_sign_in_expand-icon"})},{label:c.ZP.t("web_signin_button_signin_facebook",{},"Continue with Facebook"),name:"facebook",platformAppId:n?me.Facebook:_e.Facebook,icon:(0,E.jsx)(W.zJ_,{className:"lv_third_part_sign_in_expand-icon"})}]),[t,n]),[,s]=(0,j.L)(e);(0,G.useEffect)((()=>{var e,n,r;const o=document.getElementById("signinDiv");if(o){const i=()=>{s({type:"REPORT_SIGN_IN_ACTION",action:"google",source:t===Ii.logIn?ct.LoginIn:ct.SignUp})};null==(r=null==(n=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:n.id)||r.renderButton(o,{theme:"outline",size:"large",type:"standard",shape:"rectangular",width:o.clientWidth,text:"continue_with",logo_alignment:"left",click_listener:i,locale:c.ZP.language})}}),[o,s,t]),console.log("source",t);const l=e=>{console.log("click source",t===Ii.logIn?ct.LoginIn:ct.SignUp),s({type:"AUTH",platform:e.platformAppId,name:e.name,source:t===Ii.logIn?ct.LoginIn:ct.SignUp}),s({type:"REPORT_SIGN_IN_ACTION",action:e.name})};return(0,E.jsxs)("div",{className:"lv_third_part_sign_in_expand-wrapper",children:[o?(0,E.jsx)("div",{className:"lv_google_sign_in_btn-expand-wrapper",children:(0,E.jsx)("div",{id:"signinDiv"})}):(0,E.jsxs)("div",{className:Y()("lv_third_part_sign_in_expand-button"),onClick:()=>l(a[0]),children:[a[0].icon,(0,E.jsx)("span",{className:"lv_third_part_sign_in_expand-label",children:a[0].label})]},a[0].platformAppId),null==a?void 0:a.slice(1).map((e=>(0,E.jsxs)("div",{className:Y()("lv_third_part_sign_in_expand-button"),onClick:()=>l(e),children:[e.icon,(0,E.jsx)("span",{className:"lv_third_part_sign_in_expand-label",children:e.label})]},e.platformAppId)))]})},qi=({service:e,signType:t=Ii.logIn})=>{const n=Fr(),[r]=(0,j.L)(n),{loginReportParams:o}=r.context,i={label:c.ZP.t("web_signin_button_signin_capcut_mobile",{},"Continue with CapCut Mobile"),name:"scan_code",platformAppId:_e.ScanCode,shouldExpand:!1,icon:(0,E.jsx)(W.V2Y,{className:"lv_third_part_sign_in_expand-icon",fill:"#090C14"}),action:"scan_code_click"},[,a]=(0,j.L)(e);return(0,E.jsxs)("div",{className:Y()("lv_third_part_sign_in_expand-button","lv_third_part_sign_in_qr_code"),onClick:()=>{return a({type:"AUTH",platform:(e=i).platformAppId,name:e.name,source:t===Ii.logIn?ct.LoginIn:ct.SignUp,scanCodeParams:{enter_from:null==o?void 0:o.pageEnterFrom,current_page:null==o?void 0:o.currentPage,article_type:null==o?void 0:o.articleType,article_title:null==o?void 0:o.articleTitle,tool_type:null==o?void 0:o.toolType}}),void a({type:"REPORT_SIGN_IN_ACTION",action:e.action??e.name});var e},children:[i.icon,(0,E.jsx)("span",{className:"lv_third_part_sign_in_expand-label",children:i.label})]},i.platformAppId)},$i=e=>{const{title:t,desc:n,imgSrc:r,imgWebp:o,modalImg:i,isFromModal:a}=e;return(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_left_carousel_page"),children:[(0,E.jsx)("div",{className:"lv_sign_in_panel_left_carousel_img_wrapper",children:(0,E.jsx)(qr,{src:a?i:r,responsiveImageWebp:a?void 0:{srcSet:o},alt:"login panel carousel picture",height:"100%",width:"100%",style:{height:"100%",width:"100%"},imgStyle:{height:"100%",width:"100%",objectFit:"cover",objectPosition:"center"}})}),(0,E.jsx)("h2",{className:"lv_sign_in_panel_left_carousel_title",children:t}),!a&&(0,E.jsx)("p",{className:"lv_sign_in_panel_left_carousel_desc",children:n})]})},Xi=({isFromModal:e,firstPageIndex:t=0,resourceList:n=[]})=>{const r=(0,G.useMemo)((()=>n&&0!==n.length?n:[{title:(0,E.jsx)(E.Fragment,{children:c.ZP.t("web_signin_title_stunning_videos",{strong0:e=>(0,E.jsx)("strong",{children:e})},"Create stunning videos online with unlimited possibilities")}),desc:(0,E.jsx)(E.Fragment,{children:c.ZP.t("web_signin_desc_stunning_videos",{},"Craft masterpieces with keyframes, speed curves, and more! From novices to experts, we empower your creativity.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/6cbffc0644f2011cc0087b6379fe297d.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/6cbffc0644f2011cc0087b6379fe297d.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-1.png"},{title:c.ZP.t("web_signin_title_brilliant_images",{strong0:e=>(0,E.jsx)("strong",{children:e})},"Make high-quality images effortlessly"),desc:(0,E.jsx)(E.Fragment,{children:c.ZP.t("web_signin_desc_brilliant_images",{},"Top features at your fingertips! Craft multi-page designs, enjoy smart color themes, and resize your pages smoothly.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/97148902b0919c6f29fd34d2e56bd0bf.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/97148902b0919c6f29fd34d2e56bd0bf.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-2.png"},{title:c.ZP.t("web_signin_title_million_templates",{strong0:e=>(0,E.jsx)("strong",{children:e})},"Millions of video and image templates for all your design needs"),desc:(0,E.jsx)(E.Fragment,{children:c.ZP.t("web_signin_desc_million_templates",{},"Find your perfect template from millions available - designed for social promotions, vlogs, lifestyle showcases, and more.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/3c610623884eb6883d10746c0c5173c4.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/3c610623884eb6883d10746c0c5173c4.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-3.png"},{title:c.ZP.t("web_signin_title_ai_power",{strong0:e=>(0,E.jsx)("strong",{children:e})},"Magic tools: smartly edit and process your footage"),desc:(0,E.jsx)(E.Fragment,{children:c.ZP.t("web_signin_desc_ai_power",{},"Discover the effortless route to polished content with our cutout, upscaler, and automatic image generation tools.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/51d58d1206ffb41072c008bde7ead07b.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/51d58d1206ffb41072c008bde7ead07b.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-4.png"},{title:c.ZP.t("web_signin_title_share_review",{strong0:e=>(0,E.jsx)("strong",{children:e})},"Share and review projects with your team in real time"),desc:(0,E.jsx)(E.Fragment,{children:c.ZP.t("web_signin_desc_share_review",{},"Cloud collaboration for efficient teamwork; share projects instantly for fast reviews and quick presentation.")}),imgSrc:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/5994623b142cee9e54c7bfce3b525a6a.png~tplv-hk1xnajzr6-image.image",imgWebp:"https://p16-capcut-va.capcut.com/tos-maliva-i-hk1xnajzr6-us/5994623b142cee9e54c7bfce3b525a6a.png~tplv-hk1xnajzr6-webp.webp",modalImg:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/paltformSSR-image/login-modal-5.png"}]),[]),[o,i]=(0,G.useState)(t),[a,s]=(0,V.Z)(),l=(0,G.useRef)(null);return(0,E.jsx)("div",{className:Y()("lv_sign_in_panel_left_carousel_wrapper",{modal:e}),children:(0,E.jsxs)("div",{className:"lv_sign_in_panel_left_carousel_main",ref:a,children:[(0,E.jsx)(k.Z,{className:"lv_sign_in_panel_left_carousel",indicatorType:"line",showArrow:"never",autoPlay:!s&&{interval:5e3,hoverToPause:!1},currentIndex:o,onChange:(e,t)=>{i(e)},carousel:l,animation:"fade",children:r.map(((t,n)=>(0,E.jsx)("div",{children:(0,E.jsx)($i,{...t,isFromModal:e})},n)))}),r.length>1?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"lv_sign_in_panel_left_carousel_arrow-left",onClick:()=>{l.current.goto({index:(o-1)%r.length,isManual:!0,isNegative:!0})},children:(0,E.jsx)(W.JJ,{fill:"currentColor"})}),(0,E.jsx)("div",{className:"lv_sign_in_panel_left_carousel_arrow-right",onClick:()=>{l.current.goto({index:(o+1)%r.length,isManual:!0})},children:(0,E.jsx)(W.JJ,{fill:"currentColor"})})]}):null]})})},Ki=({send:e,email:t,toEmailLogIn:n,toEmailSignIn:r})=>{const[o,i]=(0,G.useState)(""),[a,s]=(0,G.useState)(!1),l=()=>{if(!a){if(!t||!Ln.test(t.trim()))return void i(c.oc.t("email_contain_at"));s(!0),e({type:"CHECK_EMAIL_HAS_REGISTER",email:t,checkEmailHasRegisterCb:e=>{s(!1);try{e?null==n||n():null==r||r()}catch(t){console.error(t)}},onError:()=>{R.Z.error({content:c.oc.t("web_server_error_text_internal_error",{},"Something went wrong. Try again."),style:{zIndex:1104}}),s(!1)}})}};return(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide_verify_email",children:[(0,E.jsx)("form",{onSubmit:e=>{e.preventDefault(),l()},children:(0,E.jsx)(O.default,{className:Y()("lv_sign_in_panel_wide-input",{"lv_sign_in_panel_wide-input-warn":""!==o}),name:"signUsername",autoComplete:"username",placeholder:c.oc.t("web_signin_placeholder_enter_email",{},"Enter email"),onChange:t=>{e({type:"SAVE_EMAIL",email:t})},onBlur:e=>{const{value:t}=e.target;t&&!Ln.test(t.trim())?i(c.oc.t("email_contain_at")):i("")},defaultValue:t})}),""!==o?(0,E.jsx)("div",{className:"lv_sign_in_panel_wide_error-info",children:o}):null,(0,E.jsx)(I.Z,{type:"primary",className:Y()("lv_sign_in_panel_wide-primary-button"),loading:a,onClick:l,children:c.oc.t("web_signin_button_continue_signin",{},"Continue")})]})},Yi=({inviterName:e,invitedSpaceCap:t,inviterImg:n})=>(0,E.jsxs)("div",{className:"invite-info-header",children:[(0,E.jsx)(N.Z,{style:{backgroundColor:"var(--lvv-color-text-content-3)"},size:48,children:n&&(0,E.jsx)("img",{alt:"avatar",src:n})}),(0,E.jsxs)("div",{className:"invite-info-header-user",children:[(0,E.jsx)("h4",{children:c.oc.t("web_personal_invite_title",{"color-strong":e=>(0,E.jsx)("strong",{style:{fontWeight:600},children:e}),placeholder0:e})}),(0,E.jsx)("p",{children:c.oc.t("web_personal_invite_content1",{"color-strong":e=>(0,E.jsx)("span",{style:{color:"#FF7A00"},children:e}),placeholder0:t&&it(t)})})]})]}),zi=({workspaceInfo:e})=>(0,E.jsxs)("div",{className:Y()("invite-info-header","team-invite-info-header"),children:[(0,E.jsx)("div",{className:"invite-info-header-title",children:c.oc.t("web_signin_title_join_space",{},"Join space")}),(0,E.jsx)("div",{className:"invite-info-header-text",children:c.oc.t("web_signin_desc_join_space",{string0:(0,E.jsx)("strong",{children:null==e?void 0:e.inviter_nickname}),string1:(0,E.jsx)("strong",{children:null==e?void 0:e.name})},"{string0} invites you to join {string1}.")})]}),Ji=e=>{const{thirdPartSignIn:t,isFromModal:n,showTeamInviteInfo:r,title:o,toEmailSignIn:i,toEmailLogIn:a}=e,s=Fr(),[l]=(0,j.L)(s);l.context.thirdPartSignInRef;const u=l.context.emailSignInRef,[,d]=(0,j.L)(u),p=(0,B.v)(u,(e=>e.context.email)),f=l.context.teamInviteRef,[h]=(0,j.L)(f),{workspaceInfo:_}=h.context,m=l.context.userInviteRef,[g]=(0,j.L)(m),{isInvitePage:v,invitedCode:w,inviteDetail:y}=g.context,A=v&&w,b=()=>A?(0,E.jsx)(Yi,{inviterImg:null==y?void 0:y.inviterImg,invitedSpaceCap:null==y?void 0:y.invitedSpaceCap,inviterName:null==y?void 0:y.inviterName}):r?(0,E.jsx)(zi,{workspaceInfo:_}):(0,E.jsx)("h2",{className:"lv_sign_in_panel_wide_base_page-title",children:null!=o&&o.length?o:c.oc.t("web_signin_title_signin_capcut",{},"Welcome to CapCut")});return(0,E.jsx)("div",{className:Y()("lv_sign_in_panel_wide_base_page",{modal:n}),children:(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide_base_page-content",children:[!n&&(0,E.jsx)("img",{className:"lv_sign_in_panel_wide_base_page-logo",src:"https://lf16-web-buz.capcut.com/obj/capcut-web-buz-us/common/images/capcut-logo-dark.png",width:119,height:"auto",draggable:!1}),(0,E.jsxs)("div",{className:"lv_sign_in_panel_wide_base_page-main-content",children:[(0,E.jsx)(b,{}),!n&&!r&&!A&&(0,E.jsx)("div",{className:"lv_sign_in_panel_wide_base_page-subtitle",children:c.oc.t("web_signin_desc_signin_capcut",{},"Sign in to unlock all features")}),t,(0,E.jsx)("div",{className:"lv_sign_in_panel_wide_base_page-or-line",children:(0,E.jsx)("div",{className:"lv_sign_in_panel_wide_base_page-or-line-label",children:c.oc.t("web_signin_text_other_ways_signin",{},"OR")})}),(0,E.jsx)("div",{children:(0,E.jsx)(Ki,{send:d,email:p,toEmailSignIn:i,toEmailLogIn:a})})]}),(0,E.jsx)("div",{className:"lv_sign_in_panel_wide-policy",children:c.oc.t("web_signin_text_continue_agreement",{strong0:e=>e,href0:e=>(0,E.jsx)("a",{target:"__blank",id:"termsOfCapCut",href:oe.TERMS_OF_CAPCUT(c.oc.language),className:"policy",children:e},"terms-of-user"),href1:e=>(0,E.jsx)("a",{target:"_blank",id:"privacyPolicy",href:oe.PRIVACY_POLICY(c.oc.language),className:"policy",rel:"noreferrer",children:e},"privacy-policy")},"By clicking <strong0>Continue</strong0>, you accept the <href0>Terms of Use</href0> and <href1>Privacy Policy</href1>.")})]})})},Zi=({isFromModal:e,center:t,signType:n=Ii.signUp,onLoginSuccess:r,toSignUpCb:o,toLogInCb:i,toForgetPwdCb:a,onClose:s,params:c,isMobile:l=!1,resourceList:u,title:d})=>{const p=Fr(),[f,h]=(0,j.L)(p),{loginReportParams:_}=f.context,m=f.context.emailSignInRef,g=f.context.thirdPartSignInRef,v=f.context.teamInviteRef,w=f.context.userInviteRef,[y]=(0,j.L)(w),[A,b]=(0,j.L)(v),[T,S]=(0,j.L)(m),[,C]=(0,j.L)(g),I=(0,B.v)(p,(e=>e.context.isBOE)),P=(0,B.v)(m,(e=>e.context.source)),L=(0,B.v)(m,(e=>e.context.currentWindow)),O=(0,B.v)(p,(e=>{var t,n;return null==(n=null==(t=e.context)?void 0:t.inviteInfo)?void 0:n.isInvitePage})),R=(0,B.v)(p,(e=>e.context.passport)),[k,N]=(0,G.useState)(!1),D=new URLSearchParams(window.location.search),H=!!parseInt(D.get("from_team_invite")||"0"),M=function(){const e=!!parseInt(new URLSearchParams(window.location.search).get("from_team_invite")||"0"),t=Fr(),[n]=(0,j.L)(t),r=n.context.teamInviteRef,[o]=(0,j.L)(r);return e&&o.matches("hasInfo")}();(0,G.useEffect)((()=>{h({type:"UPDATE_REPORT_PARAMS",params:{pageEnterFrom:(null==_?void 0:_.pageEnterFrom)||"",currentPage:(null==_?void 0:_.currentPage)||"",statusEnterFrom:(null==_?void 0:_.statusEnterFrom)||"",...c}})}),[]),(0,G.useEffect)((()=>{const e=D.get("redirect_url");H&&e&&b({type:"REFRESH",newLink:`${location.origin}${decodeURIComponent(e)}`})}),[]),(0,G.useEffect)((()=>{S({type:"INIT_LOGIN_SUCCESS_CB",func:()=>{null==r||r()}}),C({type:"INIT_LOGIN_SUCCESS_CB",func:()=>{null==r||r()}})}),[]),(0,G.useEffect)((()=>{switch(n){case Ii.logIn:S("TO_SIGN_IN");break;case Ii.signUp:S("TO_SIGN_UP");break;case Ii.forgetPwd:S("TO_FORGET_PWD")}}),[n]),(0,G.useEffect)((()=>{!async function(){await R()}()}),[R]);const F=()=>{S({type:"REPORT_SIGN_IN_ACTION",action:"sign_up"}),S({type:"SAVE_PASSWORD",password:""}),o?o():S("TO_SIGN_UP")},U=()=>{S({type:"REPORT_SIGN_IN_ACTION",action:"log_in"}),S({type:"SAVE_PASSWORD",password:""}),i?i():S("TO_SIGN_IN")};return(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-wrapper",{modal:e,center:t,mobile:l}),children:[!l&&(0,E.jsx)(Xi,{isFromModal:e,resourceList:u}),(0,E.jsx)(x.Z,{loading:["noSign.checking","hasSign"].some(f.matches)||["forgetPwd.checkResetCode","signUp.registering"].some(T.matches)||["unknow"].some(y.matches)||H&&!["error","hasInfo"].some(A.matches),size:28,children:(0,E.jsx)(Ci,{className:Y()("focus-lock-wrapper"),children:(0,E.jsxs)(E.Fragment,{children:[L!==Cn.FILL_IN_BASE_INFO||k?null:(0,E.jsx)("div",{className:Y()("lv_sign_in_panel_wide-right-wrapper"),children:(0,E.jsx)(Ji,{showTeamInviteInfo:M,thirdPartSignIn:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Vi,{service:g,signType:P===ct.LoginIn?Ii.logIn:Ii.signUp,isBOE:I,showGoogleBtn:!e}),(0,E.jsx)(qi,{service:g,signType:P===ct.LoginIn?Ii.logIn:Ii.signUp})]}),title:d,isFromModal:e,toEmailSignIn:()=>{N(!0),F()},toEmailLogIn:()=>{N(!0),U()}})}),L===Cn.FILL_IN_BASE_INFO&&k&&(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-right-wrapper"),children:[P===ct.LoginIn?(0,E.jsx)(Ri,{showTeamInviteInfo:M,toForgetPwd:()=>{S({type:"SAVE_PASSWORD",password:""}),a?a():S("TO_FORGET_PWD")},toSignUp:F,toBasePage:()=>{N(!1)}}):null,P===ct.SignUp?(0,E.jsx)(Ni,{showTeamInviteInfo:M,toLogIn:U,toBasePage:()=>{N(!1)}}):null]}),L===Cn.FORGET_PWD_INFO?(0,E.jsx)("div",{className:Y()("lv_sign_in_panel_wide-enter-code-wrapper"),children:(0,E.jsx)(ji,{toLogIn:U})}):null,L===Cn.ENTER_BIRTHDAY?(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-enter-code-wrapper"),children:[(0,E.jsx)(Li,{style:{top:40,zIndex:99},onClick:()=>{S({type:"RETURN_SIGN_IN"})}}),(0,E.jsx)(Wi,{isFromModal:e,isMobile:l})]}):null,L===Cn.ENTER_VERIFICATION_CODE?(0,E.jsxs)("div",{className:Y()("lv_sign_in_panel_wide-enter-code-wrapper"),children:[(0,E.jsx)(Li,{style:{top:40,zIndex:99},onClick:()=>{S({type:"BACK_TO_BIRTHDAY"})}}),(0,E.jsx)(Gi,{isInvitePage:O,onBackToLoginIn:()=>{i?i():S("TO_SIGN_IN")},isFromModal:e,isMobile:l})]}):null]})})}),s&&(L===Cn.FILL_IN_BASE_INFO||L===Cn.ENTER_VERIFICATION_CODE)&&(0,E.jsx)(W.BKp,{className:"lv_sign_in_panel_wide-close",onClick:()=>{S({type:"REPORT_SIGN_IN_ACTION",action:"close"}),null==s||s()},fill:"currentColor"})]})},Qi=({visible:e,signType:t,closable:n,maskClosable:r=!1,closableABTest:o,params:i={},setVisible:a,onLoginSuccess:s,title:c,resourceList:l,...u})=>{const[d,p]=(0,G.useState)(void 0),f=(0,G.useMemo)((()=>"boolean"==typeof n?!n:d),[n,d]);function h(){null==a||a(!1)}return(0,G.useEffect)((()=>{o&&ot().getABTestConfigSilent("login_modal_closable",!0).then((e=>{p(!e)})),p(!n)}),[o,n]),(0,G.useEffect)((()=>{o&&e&&void 0!==d&&ot().getABTestConfig("login_modal_closable",!0)}),[e,o,d]),(0,E.jsx)(C.Z,{visible:e,modalRender:function(){return(0,E.jsx)(Zi,{signType:t,onLoginSuccess:s,onClose:f?void 0:h,params:{...i,pageType:"popup"},center:!0,isFromModal:!0,title:c,resourceList:l})},onCancel:f?void 0:h,unmountOnExit:!0,maskStyle:{zIndex:1102},wrapStyle:{zIndex:1102},maskClosable:r,...u})},ea=({onThemeChange:e})=>{const[,t]=Gr(),n=[{label:c.ZP.t("web_Bright_color_mode",{},"Light mode"),value:Ge.Light},{label:c.ZP.t("web_dark_mode",{},"Dark mode"),value:Ge.Dark}];return(0,E.jsx)(L.Z.SubMenu,{className:"lv-user__theme-selector",triggerProps:{className:"lv-user__theme-selector__dropdown"},title:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"lv-user__theme-selector__item",children:[(0,E.jsx)(W.G7B,{className:"user-menu-icon"}),c.ZP.t("web_Pattern",{},"Theme")]}),(0,E.jsx)("div",{className:"lv-user__theme-selector__item",children:(0,E.jsx)(W.cW1,{size:20})})]}),children:n.map((n=>(0,E.jsx)(L.Z.Item,{onClick:()=>function(n){null==e||e(n),t(n)}(n.value),selectable:!0,children:n.label},n.value)))},"theme")},ta=({onLanguageChange:e,params:t,supportLocales:n,enableLocaleRoute:r=!0})=>{const o=Vr(),i=o.getSupportLocales().filter((e=>!Array.isArray(n)||n.find((t=>t===e.locale))));return(0,E.jsx)(L.Z.SubMenu,{className:"lv-user__locale-selector",triggerProps:{className:"lv-user__locale-selector__dropdown"},title:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"lv-user__locale-selector__item",children:[(0,E.jsx)(W.kvV,{className:"user-menu-icon"}),c.ZP.t("web_language",{},"Language")]}),(0,E.jsx)("div",{className:"lv-user__locale-selector__item",children:(0,E.jsx)(W.cW1,{size:20})})]}),children:i.map((n=>(0,E.jsx)(L.Z.Item,{onClick:()=>((n,i)=>{(new pt).report({click:i,current_page:(null==t?void 0:t.currentPage)??""}),(new dt).report({current_page:null==t?void 0:t.currentPage,language_before:o.getCurrentLocale(),language_after:n,position:"personal_profile"}),null==e||e(),o.setCurrentLocale(n);const a=`${location.pathname}${location.search}`;let s=o.formatLocalePath({path:a,locale:n});r||(s=_n.getOriginalUrl(a)),a===s?window.location.reload():window.location.href=s})(n.locale,n.text),selectable:!0,children:n.text},n.locale)))},"locale")},na=({userID:e})=>{const{copy:t}=(0,q.Z)(),[n,r]=(0,G.useState)("");(0,G.useEffect)((()=>{(async()=>(await ot().getToken()).web_id)().then((e=>{r(e)}))}),[]);const o=[{label:`${c.ZP.t("web_feedback_text_user_id",{},"User ID")}: ${e}`,value:e??""},{label:`${c.ZP.t("web_feedback_text_device_id",{},"Device ID")}: ${n}`,value:n??""}];return(0,E.jsx)(L.Z.SubMenu,{className:"lv-user__showId-selector",title:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"lv-user__showId-selector__item",children:[(0,E.jsx)(W.wQD,{className:"user-menu-icon"}),(0,E.jsx)(D.default.Paragraph,{ellipsis:{rows:1,cssEllipsis:!0,showTooltip:!0},children:c.ZP.t("web_feedback_button_see_id",{},"See IDs")})]}),(0,E.jsx)("div",{className:"lv-user__showId-selector__item",children:(0,E.jsx)(W.cW1,{size:20})})]}),children:o.map((e=>(0,E.jsxs)("div",{className:"lv-user__showId-selector__info-container",onClick:()=>function(e){t(e),R.Z.success(c.ZP.t("web_feedback_toast_id_copied",{},"ID copied"))}(e.value),children:[(0,E.jsx)(L.Z.Item,{selectable:!1,children:e.label},e.value),(0,E.jsx)(W.dVL,{className:"lv-user__showId-selector__info-icon",size:20})]},e.value)))},"showID")};var ra=(e=>(e.CAPACITY_INSUFFICIENT="CAPACITY_INSUFFICIENT",e.CAPACITY_INSUFFICIENT_WITH_BUY="CAPACITY_INSUFFICIENT_WITH_BUY",e.CAPACITY_BUY="CAPACITY_BUY",e.VIP_BUY="VIP_BUY",e.MANAGEMENT="MANAGEMENT",e))(ra||{});const oa=({expandModalInstance:e,eventParams:t})=>{var n,r,o;const[i,a]=(0,G.useState)(!1),[s,l]=(0,G.useState)({key:"web_first_subscribe_text_upgrading",value:"Upgrade to Pro"}),u=(0,B.v)(null==e?void 0:e.getService(),(e=>e.context.enableSubscription)),[d]=(0,j.L)(null==e?void 0:e.getService()),{flag:p=!1,vipRealEnd:f,canFreeTrial:h=!1,canFreeTrialDays:_=7}=(null==(r=null==(n=null==d?void 0:d.context)?void 0:n.userInfo)?void 0:r.vipInfo)||{};(0,G.useEffect)((()=>{(async()=>{if(e)return a(await(null==e?void 0:e.isSupportExpand()));a(!1)})(),!p&&h&&l({key:"web_first_subscribe_text_conditional_seven_day",value:`${_}-day free trial`})}),[p,f,h]);const m=()=>{let n=ra.VIP_BUY;p&&(n=ra.MANAGEMENT),null==e||e.show({type:n,reporterParams:{pageFrom:"profile_icon_upgrade",...t}})};return(p||u&&i)&&null!=(o=null==d?void 0:d.context)&&o.userInfo?(0,E.jsx)("div",{className:"lv-vip-entry",children:p?(0,E.jsxs)("div",{onClick:m,className:"lv-vip-card",children:[(0,E.jsxs)("div",{className:"content",children:[(0,E.jsx)("div",{className:"name",children:c.ZP.t("web_first_subscribe_text_Cap_cut",{},"CapCut")}),(0,E.jsxs)("div",{className:"time",children:[(0,E.jsx)(W.qSk,{}),(0,E.jsx)("span",{style:{marginLeft:4},children:f?M()(1e3*f).format("YYYY/MM/DD"):"--/-/-"})]})]}),(0,E.jsx)(W.NeZ,{className:"arrow"})]}):(0,E.jsxs)("div",{onClick:m,className:"lv-notVip-card",children:[(0,E.jsxs)("div",{className:"left",children:[(0,E.jsx)(W.t7E,{className:"icon"}),(0,E.jsx)("div",{className:"line"}),(0,E.jsx)("div",{style:{color:"#000000"},children:c.ZP.t(s.key,{number0:_},s.value)})]}),(0,E.jsx)(W.NeZ,{className:"arrow"})]})}):null},ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcHSURBVHgB5ZtPUBN3FMffbxMUsEgiqLXWMXQSiZ3OlN56M/bEn7YwvfWGPbUn9NqL4qntpdhbT+qtR2g7A53pDOHmqcJMO2LJjLEWZRRIEAoByW7fd0NoQrNkk32/GMbPDO4m/naz7/3ee7/fe7/fKtJMd/dAiCgbU0p1EamzSlHIsiiAY2E7/i7J36VzR2vGssxpy/JPT0yMJkkjijTAQrPA5gDfvn+voFWQ5L+4aWZvT0z8HCdhxBQQiw0EmpvNIe7py+hh0gOs41o2a0xJWYZnBdRI8CJyrmKNmKZx26sifOSBnp6BocOHrVF+pG7+2Ei1g39LsZvRwLlznem5ufszVCVVWQACG5viTX6AGNUHSdNUF6uxhootAL3u81k/8GmU6geMKoPh8LnNROLPO5VcWJEC+vo+/pYP16i25u6WRo5D3ZFIJ7FLTLm9yLUCenv7b7LHfE51j4pFItEQK2HMVWs3jVj4u3zoogMEj0jx8fGxi+XaGeUa5Hr+YAkPEKB3nn1f9nWB3t6Bq3y4TAeXrnC4M5BI3P/FqYGjCyDa81A3QoJsb7+g1dU1ymQ2+Hzb/gwMw6BDhw5Tc3MzHTlyhPz+BpKE84or4+M/lZSlpAIwzvNQd1dqZgdhnz17agvuhtdea6FgMCipiDTPE94rNU8oGQMMw5qUEn5lZYXm5x+5Fh6sra3So0d/USqVIiECmLiV+o//xYDe3o8G2TAGSQAIkEotsQlaVA05pSlqamoiryAr5YnSyt6JUpELwPTR+3waIo9A+HR6mSQIBI7ZLiFAen1ddcTjo+n8F0Uu4POZQyQgPHxeSniAe1XiQvuAzLVoVNtVQK5yI2P6T548Jmnk4oEaQgqf/7SrAMPIxiQC38bGxu7wJgksQIcVFLiAcZUEQATXxeqq1L3VUP7MVgBqeCTg+yCTyZAu1tf/ISEC3d0fxnBiK4ALmIMkgGmaWsxfx/2VMgZw3FGAukACbG5ukm6gBAlY5n77uDP2PyABEAAXFuRHgEJOnXqDGhu9T4wAT487DKW2xVLdhgbZJKYUSJzk7pWNsQIMMQVIPpwTyBqlsCzVxU+s3iUhoAAp8yxFY6NsKZLnPSF0WYgEkX7IQlpajpIkHAjPQgGiqzmtrQEtruD3+8WVyxliQNwCIPzRo60kTUtLi3iliAlpiVrB4DHRYIXeR0qsA21h++TJ10V6DMJj7NeFNgXkH9yLEiTuUQ4oIEmagACnT79ZVUxobW3la89oFZ5J+vmfNGkEQbGtrd0eHVKpZTtbdEpo0BYVYQivWXAbngekoYAk1WDlB9Zw/PgJ+3xra3PPuoCPg+Yh0cDpBi7WPmQFWA81bRVyBILWWthSsMFNcwywpukVJZv13TVM0xenVxRsx7Ntn1dRUQ8IkQZQI4DPI/htbW1xDp51LGogCCL4IV4gJiCxklgUKQX2I/LyeYd/5+NYYaHQKxAQS2LPn6crquCgLZSFv1z9L7WTAzRJrxUiD4jj6M/9sDHKVSHPCoAAqN9DcCkwWqDSjD/JRVNsvMRxN/z39fWnvKwLoMexgiNVs3MinxcgOaoWlvMBm/9bODf++1LdoCpZWlqi5eVF7cIDWMTi4lP7N6uFZR3On+8qgGPOCHZgUgVAYCyDSZq8W/Cb8/N/V6N0POzuLrLd5fHZ2dlMJHIeITdGLnn8eJ5L4foWQsqRzWbtUnxl7mB9zeY/mv9UlA1WYgUwQUTrlw3WC926A3yfA/6twu+KNkjACsLh85ushO79boSIjI0P9QKsEPlEuZIZ+/6ViYnRok2UJZOAnp7+Sad9wAhC8HudS2DVgEnUmTNnHeuRhZG/6LrSjdUlJ1dASltvwoP8HMQBHuLVB6X+o6QCsJuKl42G936fn5TUK04zTxb+utNOcseNkonE7J1IpDPIXvJ+/rulpUV7Pl/PcK1/T/5gDbPpf+XUft+donNz9yfC4c6O3AtPxJOdpZpMdryADgoEchuquOBxa3z8xyv7tS9bFOUbDPJhWtfWF2nQQRgaOehN8rNfKtfe1XZ5toTvg8G2DlbAgdg0zV5wa2rq10/ctHX9vsDCwvxoe/sJVUevyZQCOzJvzMz89oXbCyp6Y4STkHhb2/EVw7ADY129NcIdw2Og9eW9e38MV3QdVUE0Gg0p5Zvky0P08sFO3DgP0p/xTDZJFeKpHByNvj3IPnH1ZSkCvc7SX+der3pbv6f3BhcXn023t7eNKWUgNuAtspq4RU5w+mZjY+3TRGIuTh4QWxCAW/CoGtNoERam5zzKfZfJrI0kk0mRIoSWFZFo9B1WhDXIpxc8KGNnj71KcuY/ZlnG2Ozs73ESRvuSUC5gNnSxr3ZxD2I/Uoh/lmuPVqi4peLSvIVeTfJ05qFl+WaIXsSrCWyV8C+Ugf9/ttPT2QAAAABJRU5ErkJggg==",aa="sign-up-btn",sa=({onClick:e,avatar:t})=>((0,$.Z)((()=>{const e=document.getElementById("js-ssr-user-avatar");null==e||e.remove()})),(0,E.jsx)(N.Z,{className:"user-avatar",size:32,onClick:e,children:(0,E.jsx)("img",{alt:"avatar",src:t??ia})})),ca=()=>{let e=location.href;const t={};try{const n=new URL(e),r=new URLSearchParams(n.search);for(const[e,o]of r)t[e]=o;e=n.href.replace(n.search,"")}catch{}const n=encodeURIComponent(e);gt(mn(re.LOGIN.PATH,{...t,current_page:"share_page",redirect_url:n}))};function la({mode:e="button",showMenu:t=!0,shouldRedirect:n=!1,params:r,enableReporter:o=!1,cookieConsent:i,logOutRedirectUrl:a,language:s,enableLocaleRoute:l=!0,onhandleClick:u,enableThemeSelector:d=!0,signModalClosable:p,signModalClosableABTest:f,showProfile:h=!0,afterModalClose:_,expandModalInstance:m,eventParams:g,resourceList:v,title:w}){var y;const A=Fr(),[b,T]=(0,j.L)(A),S=b.context.thirdPartSignInRef,[,O]=(0,j.L)(S),{userInfo:R,isBOE:k}=b.context,x=b.matches("noSign"),H=b.matches("hasSign"),M=(0,X.k6)(),F=b.matches({noSign:"confirmSigning"}),[U,B]=(0,G.useState)(b.matches({noSign:"signing"})),V=b.matches({hasSign:"preExec"});(0,G.useEffect)((()=>{const e=b.matches({noSign:"signing"})||b.matches({noSign:"checking"});B((t=>{const n=b.matches({noSign:"checking"})||b.matches({noSign:"checkingThirdOpenId"});return!(!t&&n||F)&&(!(!t||e||!V)||e)}))}),[b.value]);const q=()=>{(new An).report({target:"login_profile",position:yn.HEADER}),n?ca():T({type:"SIGN_IN"}),null==u||u()};(function(e,t=!0){(0,G.useEffect)((()=>{null==e||e.onChange((({firstPartyAnalytics:e})=>{e&&t&&(ot().start(),ot().clearInitQueue())}))}),[e,t])})(i,o),(0,G.useEffect)((()=>{r&&T({type:"UPDATE_REPORT_PARAMS",params:r})}),[r]);const[$]=Gr(),K=[$,Vr().getCurrentLocale()];return(0,G.useEffect)((()=>{var e;if(F){(new ut).authorizeWindowReport({current_page:null!=(e=location.pathname)&&e.includes(re.EDITOR_GRAPHIC.PATH)?Ne.PictureEdit:Ne.Editor,source:"authorize_fail",action:"show",window_type:"authorize_fail"});const t=c.ZP.t("web_maketplace_title_no_log_in",{},"You are not signed in"),n=c.ZP.t("web_marketplace_text_can_not_access_google",{},"You need to sign in to sync media from Google Drive."),r=c.ZP.t("web_marketplace_text_log_in"),o=c.ZP.t("web_marketplace_text_cancelled"),i=C.Z.confirm({title:t,content:n,footer:(0,E.jsxs)("div",{className:"lv-modal-footer lv-user",children:[(0,E.jsx)(I.Z,{type:"outline",onClick:()=>{T({type:"CONFIRM_THIRD_LOGIN",cancel:!0}),null==i||i.close()},children:o}),(0,E.jsx)(I.Z,{type:"primary",onClick:()=>{(()=>{var e;(new ut).authorizeWindowReport({current_page:null!=(e=location.pathname)&&e.includes(re.EDITOR_GRAPHIC.PATH)?Ne.PictureEdit:Ne.Editor,source:"authorize_fail",action:"continue",window_type:"authorize_inconsistent"}),T({type:"CONFIRM_THIRD_LOGIN"}),O({type:"AUTH",platform:k?me.Google:_e.Google,name:"google",source:ct.LoginIn,callback:e=>{(null!=e&&e.errorCode||null!=e&&e.errorMsg)&&console.warn("error",e)}})})(),null==i||i.close()},children:r})]}),focusLock:!1,maskClosable:!1})}}),[F]),(0,E.jsxs)(E.Fragment,{children:[x&&(0,E.jsxs)(E.Fragment,{children:["button"===e&&(0,E.jsx)(I.Z,{type:"primary",className:aa,onClick:q,children:c.ZP.t("log_in")}),"avatar"===e&&(0,E.jsx)(N.Z,{className:"user-avatar",size:32,onClick:q,children:(0,E.jsx)("img",{src:ia,alt:c.ZP.t("log_in")})})]}),H&&(t?(0,E.jsx)(P.Z,{position:"br",trigger:"click",triggerProps:{autoFitPosition:!1},focusLock:!0,droplist:(0,E.jsxs)(L.Z,{className:"user-menu",style:{top:"-15px"},selectable:!1,selectedKeys:K,children:[null!=R&&R.name?(0,E.jsxs)("div",{className:"user-info",children:[(0,E.jsxs)("div",{className:"info",children:[(0,E.jsx)("img",{className:"user-info-avatar",src:null==R?void 0:R.avatar,alt:"avatar",width:28,height:28}),(0,E.jsxs)("span",{className:"user-info-detail",children:[(0,E.jsx)(D.default.Text,{className:"detail-item nickname",ellipsis:{cssEllipsis:!0,showTooltip:!0,rows:1},children:null==R?void 0:R.name}),(null==R?void 0:R.email)&&(0,E.jsx)(D.default.Text,{className:"detail-item email",ellipsis:{cssEllipsis:!0,showTooltip:!0,rows:1},children:null==R?void 0:R.email})]})]}),m&&(0,E.jsx)(oa,{eventParams:{pageFrom:"profile_icon_upgrade",currentPage:null==r?void 0:r.currentPage,...g},expandModalInstance:m})]}):null,(0,E.jsxs)(L.Z.ItemGroup,{children:[h&&(0,E.jsx)(L.Z.Item,{onClick:()=>{var e;const t=mn(re.WORKSPACE.CHILD.PROFILE.PATH,{enter_from:"click_view_personal_page",from_page:(null==r?void 0:r.currentPage)??"personal_page"});null!=M&&M.push?null==(e=null==M?void 0:M.push)||e.call(M,t):gt(re.WORKSPACE.CHILD.PROFILE.PATH,{enter_from:"click_view_personal_page",from_page:(null==r?void 0:r.currentPage)??"personal_page"})},children:(0,E.jsxs)("div",{className:"user-menu-item",children:[(0,E.jsx)(W.N0W,{className:"user-menu-icon"}),c.ZP.t("web_personal_page_text_view_home_page",{},"View profile")]})},"homepage"),d&&(0,E.jsx)(ea,{onThemeChange:e=>{(new pt).report({click:e===Ge.Dark?"dark_mode":"light_mode",current_page:(null==r?void 0:r.currentPage)??""})}}),(0,E.jsx)(ta,{enableLocaleRoute:l,onLanguageChange:()=>null==u?void 0:u(),params:r,...s}),(0,E.jsx)(na,{userID:null==R?void 0:R.uid}),(0,E.jsx)(L.Z.Item,{onClick:()=>{var e,t,n;(new pt).report({click:"log_out",current_page:(null==r?void 0:r.currentPage)??""}),Ur.clear(),T({type:"SIGN_OUT",redirectUrl:a}),null==(n=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)||n.disableAutoSelect(),null==u||u()},children:(0,E.jsxs)("div",{className:"user-menu-item",children:[(0,E.jsx)(W.Dzr,{className:"user-menu-icon"}),c.ZP.t("log_out")]})},"logout")]})]}),children:(0,E.jsx)(sa,{avatar:(null==(y=b.context.userInfo)?void 0:y.avatar)??"",onClick:()=>{t&&(new pt).report({click:"portrait",current_page:(null==r?void 0:r.currentPage)??""})}})}):(0,E.jsx)(sa,{avatar:""})),(0,E.jsx)(Qi,{signType:Ii.logIn,visible:U,setVisible:e=>{e||T("EXIT_SIGN_IN")},closable:p,closableABTest:f,afterClose:_,resourceList:v,title:w})]})}const ua=e=>{const{service:t,options:n,fallback:r}=e,[o,i]=Br(),[a,s]=(0,j.L)(t),c=["unknown","fetchingLocation"].some(a.matches),l=(null==n?void 0:n.shouldFetchLocation)&&c;(0,G.useEffect)((()=>{s({type:"CHANGE_CONTEXT",context:{...n}})}),[n]),(0,G.useEffect)((()=>{var e;null==(e=null==n?void 0:n.onContextChange)||e.call(n,a.context)}),[n,a.context]);const u=(0,G.useMemo)((()=>Wr()),[]);return l?r??null:(0,E.jsx)(Mr.Provider,{value:{userService:t,theme:o,setTheme:i,locale:u},children:e.children})};(0,G.createContext)({visible:!1,signType:jr.logIn,params:{},redirectUrl:"",show:()=>{},close:()=>{}})},20996:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n(55231),i=n(80455),a=n(43785),s=r(n(67674)),c=r(n(84616)),l=r(n(42652)),u=r(n(66966));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}var h={SEND_MOBILE_CODE:"/passport/web/send_code/",SEND_EMAIL_CODE:"/passport/web/email/send_code/",VERIFY_MOBILE_CODE:"/passport/web/validate_code/",VERIFY_EMAIL_CODE:"/passport/web/email/verify/",CHECK_MOBILE_CODE:"/passport/web/mobile/check_code/",CHECK_EMAIL_CODE:"/passport/web/email/check_code/",SMS_LOGIN:"/passport/web/sms_login/",SMS_LOGIN_ONLY:"/passport/web/sms_login_only/",SMS_LOGIN_CONTINUE:"/passport/web/sms_login_continue/",EMAIL_LOGIN:"/passport/web/email/login/",EMAIL_CODE_LOGIN:"/passport/web/email/code_login/",EMAIL_REGISTER_LOGIN:"/passport/web/email/register_verify_login/",EMAIL_REGISTER:"/passport/web/email/register_verify/",PWD_LOGIN:"/passport/web/user/login/",AUTH_LOGIN:"/passport/web/auth/login/",AUTH_LOGIN_ONLY:"/passport/web/auth/login_only/",AUTH_BIND_ONLY:"/passport/web/auth/bind_login/",MOBILE_BIND_ONLY:"/passport/web/mobile/bind_login/",MOBILE_EMAIL_REGISTER:"/passport/web/mobile_email_register/",MOBILE_REGISTER:"/passport/mobile/register/",MOBILE_OAUTH:"/passport/auth/show_oauth_mobile/",LOGOUT:"/passport/web/logout/",CHECK_LOGIN:"/passport/account/info/v2/",BIND_WITH_MOBILE_LOGIN:"/passport/web/auth/bind_with_mobile_login/",BIND_WITH_EMAIL_LOGIN:"/passport/web/auth/bind_with_email_login/",GET_QRCODE:"/passport/web/get_qrcode/",CHECK_QRCONNECT:"/passport/web/check_qrconnect/",SCAN_QRCODE:"/passport/web/scan_qrcode/",CONFIRM_QRCODE:"/passport/web/confirm_qrcode/",THIRD_AUTH:"/passport/web/web_login/",WEB_SHARE_LOGIN:"/passport/web/auth/share_login/",AUTH_LOGIN_URL:"/passport/auth/wap_login/",EMAIL_REGISTER_NO_VERIFY:"/passport/web/email/register/",EMAIL_REGISTER_NO_VERIFY_V2:"/passport/web/email/register/v2/",MOBILE_BIND:"/passport/web/mobile/bind/",EMAIL_BIND:"/passport/web/email/bind/",AUTH_BIND:"/passport/web/auth/bind/",AUTH_UNBIND:"/passport/web/auth/unbind/",AUTH_SWITCH_BIND:"/passport/web/auth/switch_bind/",MOBILE_REBIND:"/passport/web/mobile/change/",EMAIL_REBIND:"/passport/web/email/change/",RESET_PWD_BY_MOBILE:"/passport/web/password/reset/",RESET_PWD_BY_EMAIL:"/passport/web/email/password/reset/",RESET_PWD_BY_MOBILE_TICKET:"/passport/web/password/reset_by_ticket/",RESET_PWD_BY_EMAIL_TICKET:"/passport/web/password/reset_by_email_ticket/",PWD_CHANGE_BY_MOBILE:"/passport/web/password/change/",PWD_UPDATE:"/passport/web/password/update/",PWD_CHANGE_BY_EMAIL:"/passport/web/email/change_password/",PWD_SET:"/passport/web/password/set/",PWD_HAS_SET:"/passport/password/has_set/",PWD_HAS_SET_V2:"/passport/web/password/has_set/",PWD_SET_BY_EAMIL_AND_LOGIN:"/passport/web/email/password/reset_and_login/",ACCOUNT_VERIFY:"/passport/web/account/verify/",AUTH_VERIFY:"/passport/web/auth/verify/",SMS_AUTHORIZE:"/passport/web/sms/authorize/",CANCEL_VERIFY_WAY:"/passport/auth/cancel_verify_way/",CANCEL_CHECK:"/passport/web/cancel/check/",CANCEL_CONFIRM:"/passport/web/cancel/confirm/",CHECK_MOBILE_REGISTER:"/passport/web/user/check_mobile_registered/",CHECK_EMAIL_REGISTER:"/passport/web/user/check_email_registered",CHANGE_QRCODE_SUCCESS:"/passport/qrcode_twostep_verify/scan_qrcode/",CHANGE_QRCODE_CONFIRM:"/passport/qrcode_twostep_verify/confirm_by_ticket/",GET_OPEN_AUTH_INFO:"/passport/open/auth_info/v2/",OPEN_SEND_CODE:"/passport/open/send_code/",OPEN_SMS_AUTH:"/passport/open/web/sms/auth/",OPEN_ACCOUNT_AUTH:"/passport/open/web/account/auth/",OPEN_THIRD_AUTH:"/passport/open/web/third_party/auth/",OPEN_GET_QRCODE:"/passport/open/get_qrcode/",OPEN_CHECK_QRCODE:"/passport/open/check_qrcode",OPEN_TO_SCAN_QRCODE:"/passport/open/to_scan_qrcode/",OPEN_SCAN_QRCODE:"/passport/open/scan_qrcode/",OPEN_CONFIRM_QRCODE:"/passport/open/confirm_qrcode/",OPEN_WEB_AUTH:"/passport/open/web/auth/",ACCOUNT_INFO:"/passport/web/account/info/",ACCOUNT_SET:"/passport/web/account/set/",OAUTH_PROFILE:"/web/user/get/oauth_profile/",UPLOAD_AVATAR:"/web/user/update/upload_avatar/",UPDATE_USERINFO:"/web/user/update/user_info/",CHECK_DEFAULT_INFO:"/web/user/check/default_info/",GET_BACKGROUND_LIST:"/web/user/settings/{aid}/default_background_image_list/",GET_DEFAULT_AVATAR_LIST:"/web/user/settings/{aid}/default_avatar_list/",GET_RECOMMEND_NAME:"/web/user/settings/recommend_name/",UPLOAD_PICTURE:"/web/user/upload/pic/",CHECK_REMAIN_TIMES:"/web/user/get/remain_update_times/",DOWNLOAD_IMAGE:"/user/web/download/image/",DOWNLOAD_IMAGE_V2:"/user/web/download/image/v2/"},_={SEND_MOBILE_CODE:"/passport/aff/web/mobile/send_code/",SEND_EMAIL_CODE:"/passport/aff/web/email/send_code/",VERIFY_MOBILE_CODE:"/passport/aff/web/mobile/validate_code/",VERIFY_EMAIL_CODE:"/passport/aff/web/email/verify/",CHECK_MOBILE_CODE:"/passport/aff/web/mobile/check_code/",CHECK_EMAIL_CODE:"/passport/aff/web/email/check_code/",SMS_LOGIN:"/passport/aff/web/mobile/sms_login/",EMAIL_LOGIN:"/passport/aff/web/email/code_login/",PWD_LOGIN:"/passport/aff/web/user/login/",OAUTH_LOGIN_CALL:"/passport/aff/web/oauth/login/call/",OAUTH_LOGIN_ONLY:"/passport/aff/web/oauth/login_only/",OAUTH_LOGIN:"/passport/aff/web/oauth/login/",SUBJECT_LOGIN_LIST:"/passport/aff/web/subject/login_list/",SUBJECT_LOGIN:"/passport/aff/web/subject/login/",LOGOUT:"/passport/aff/web/logout/",REGISTER_EMAIL_USER_ONLY:"/passport/aff/web/email/register/only_user/",REGISTER_EMAIL:"/passport/aff/web/email/register/",REGISTER_MOBILE_USER_ONLY:"/passport/aff/web/mobile/register/only_user/",REGISTER_MOBILE:"/passport/aff/web/mobile/register/",RESET_BY_MOBILE:"/passport/aff/web/mobile/password/reset/",RESET_BY_EMAIL:"/passport/aff/web/email/password/reset/",MOBILE_INVITE:"/passport/aff/web/invitation/mobile/invite/",EMAIL_INVITE:"/passport/aff/web/invitation/email/invite/",LARK_INVITE:"/passport/aff/web/invitation/lark/invite/",INVITE_LIST:"/passport/aff/web/invitation/list/",CANCEL_INVITE:"/passport/aff/web/invitation/cancel/",RESEND_INVITE:"/passport/aff/web/invitation/resend/",UPDATE_INVITE:"/passport/aff/web/invitation/update/",CHECK_INVITE_VALID:"/passport/aff/web/invitation/check/",ACCEPT_INVITE:"/passport/aff/web/invitation/accept/",CREATE_BY_USERNAME:"/passport/aff/web/subject/username/create/",CREATE_BY_MOBILE:"/passport/aff/web/subject/mobile/create/",CREATE_BY_EMAIL:"/passport/aff/web/subject/email/create/",SUBJECT_LIST:"/passport/aff/web/subject/all/list/",SUBJECT_DEPUTY_LIST:"/passport/aff/web/subject/deputy/list/",SUBJECT_IDENTITY_LIST:"/passport/aff/web/subject/identity/list/",UPDATE_DEPUTY_INFO:"/passport/aff/web/deputy/update/",FREEZE_DEPUTY:"/passport/aff/web/deputy/freeze/",DELETE_DEPUTY:"/passport/aff/web/deputy/delete/",UPDATE_SUBJECT_INFO:"/passport/aff/web/subject/update/",FREEZE_SUBJECT:"/passport/aff/web/subject/freeze/",RESOURCE_LIST:"/passport/aff/web/resource/list/",CREATE_ROLE:"/passport/aff/web/role/create/",UPDATE_ROLE:"/passport/aff/web/role/update/",BAN_ROLE:"/passport/aff/web/role/ban/",ROLE_LIST:"/passport/aff/web/role/list/",ROLE_INFO:"/passport/aff/web/role/info/",CREATE_USER_WITH_ROLE:"/passport/aff/web/user/create_with_role/",ADD_USER_ROLE:"/passport/aff/web/user_role/add/",DELETE_USER_ROLE:"/passport/aff/web/user_role/del/",USER_ROLE_LIST:"/passport/aff/web/user_role/list/",ALL_USER_ROLE_LIST:"/passport/aff/web/user_role/all/list/",USER_PERMISSIONS:"/passport/aff/web/user/permissions/",SUCCESSOR_SEND_CODE:"/passport/aff/web/admin/successor/send_code/",TRANSFER_MANAGER:"/passport/aff/web/admin/transfer/",MEMBER_SWITCH:"/passport/aff/web/member/switch/"},m={MOBILE_CODE_URL:"/send_activation_code/",MOBILE_CODE_URL_V2:"/send_activation_code/v2/",EMAIL_ACTIVATE_URL:"/send_email_activate_link/",EMAIL_ACTIVATE_URL_V2:"/send_email_activate_link/v2/",EMAIL_ACTIVATE_CODE_URL:"/send_email_activate_code/",EMAIL_ACTIVATE_CODE_URL_V2:"/send_email_activate_code/v2/",CHECK_LOGIN:"/check_login/",MOBILE_CODE_LOGIN_URL:"/quick_login/",MOBILE_CODE_LOGIN_URL_V2:"/quick_login/v2/",MOBILE_CODE_LOGIN_ONLY_URL:"/quick_login_only/",ACCOUNT_LOGIN_URL:"/account_login/",ACCOUNT_LOGIN_URL_V2:"/account_login/v2/",AUTH_LOGIN_URL:"/passport/auth/wap_login/",BIND_WITH_MOBILE_LOGIN:"/bind_with_mobile_login/",AUTH_LOGIN:"/auth/login/",AUTH_LOGIN_ONLY:"/auth/login_only/",LOGOUT:"/logout/",EMAIL_ACTIVATE_CODE_LOGIN:"/activate_email/code_login/",EMAIL_REGISTER:"/activate_email/register/",EMAIL_REGISTER_V2:"/activate_email/register/v2/",MOBILE_REGISTER_WITH_EMAIL:"/register/",MOBILE_REGISTER_WITH_EMAIL_V2:"/register/v2/",SSO_EMAIL_ACTIVATE_CODE_URL:"/sso/send_email_activate_code/",RESET_PASSWORD:"/reset_password/",RESET_PASSWORD_BY_EMAIL:"/activate_email/reset_password/",BIND_MOBILE:"/bind_mobile/",CHANGE_MOBILE:"/change_mobile/",QUICK_AUTH:"/quick_auth/",GET_QRCODE:"/get_qrcode/",CHECK_QRCONNECT:"/check_qrconnect/",SCAN_QRCODE:"/scan_qrcode/",CONFIRM_QRCODE:"/confirm_qrcode/",MOBILE_EMAIL_REGISTER:"/mobile_email_register/"};function g(e){var t=window.byted_acrawler,n=[].concat(Object.values(h),Object.values(_),Object.values(m)),r=Object.values(m).map((function(e){return[e,"/passport/sso"+e]}))||[];t&&t.init({aid:e.aid,isSDK:!0,boe:e.isBoe||!1,enablePathList:n,urlRewriteRules:r})}function v(e,t){var n="https://lf16-secsdk.bitssec.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.229/webmssdk.js";"gcp"===e||"giso"===e?n="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-giso/webmssdk/1.0.0.303/webmssdk.js":"sg"===e?n="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-sg/webmssdk/1.0.0.303/webmssdk.js":"va"!==e&&"gcs"!==e||(n="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.303/webmssdk.js"),window.byted_acrawler?g(t):function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,document.getElementsByTagName("head")[0].appendChild(n),n.readyState?n.onreadystatechange=function(){"complete"!==n.readyState&&"loaded"!==n.readyState||(n.onreadystatechange=null,t&&t())}:n.onload=function(){t&&t()}}(n,(function(){g(t)}))}function w(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):""}function E(e,t,n){void 0===n&&(n=!0),console.group(e),t&&Object.keys(t).forEach((function(e){n?console.log(e,n||"background: #222; color: #bada55",t[e]):console.log(e,t[e])})),console.groupEnd()}function y(e){return Object.keys(e).map((function(t){var n=e[t];return"object"==typeof n?encodeURIComponent(t)+"="+encodeURIComponent(JSON.stringify(n)):encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&")}var A,b,T,S=function(e){var t,n=[];if(void 0===e)return"";t=function(e){for(var t,n=e.toString(),r=[],o=0;o<n.length;o++)0<=(t=n.charCodeAt(o))&&t<=127?r.push(t):128<=t&&t<=2047?(r.push(192|31&t>>6),r.push(128|63&t)):(2048<=t&&t<=55295||57344<=t&&t<=65535)&&(r.push(224|15&t>>12),r.push(128|63&t>>6),r.push(128|63&t));for(var i=0;i<r.length;i++)r[i]&=255;return r}(e);for(var r=0,o=t.length;r<o;++r)n.push((5^t[r]).toString(16));return n.join("")},C=function(e,t){var n,r=0,o=0;if("object"!=typeof e)return e;if(!t||t.length<=0)return e;for(var i=d({mix_mode:r},e),a=0,s=t.length;a<s;++a)void 0!==(n=i[t[a]])&&(r|=1,o|=1,i[t[a]]=S(n));return i.mix_mode=r,i.fixed_mix_mode=o,i},I=function(e,t){void 0===e&&(e={}),void 0===t&&(t=-1);var n=Object.keys(e).sort()||[];return t>=0&&n.splice(t),{str:n.map((function(t){var n=e[t];return"object"==typeof n?t+"="+JSON.stringify(n):t+"="+n})).join("&"),arr:n}},P=function(e,t,n){if(void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=""),!n)return{};var r=I(e,10),o=r.str,i=void 0===o?"":o,a=r.arr,l=void 0===a?[]:a,u=I(t).str,d=s(i+"&"+(void 0===u?"":u)+"&app_key="+n);return{sign:c.stringify(d),qs:S(l.join(","))}},L={aid:0,iid:"0",did:"0"},O={sideSlide:"disabled",lang:"zh",showMode:"mask",region:"sg",app_name:""},R={sg:o,va:i,in:a},k=function(e){var t=e.requestConfig,n=e.verifyData,r=e.requestData,o={};try{o=JSON.parse(n)}catch(e){console.log("wrong desision config!")}return new Promise((function(e,n){T.render({verify_data:o,captchaOptions:{successCb:function(){try{return Promise.resolve(T.getFp()).then((function(r){var o;null===(o=A)||void 0===o||o(d({},t,{params:d({},t.params,{fp:r,isResend:!0})})).then((function(t){e(t)})).catch((function(e){n(e)}))}))}catch(e){return Promise.reject(e)}},closeCb:function(){n("CLOSE_CAPTCHA")}},secondVerifyWebOptions:{callBack:function(o){try{var i,a=t.data||"";return r&&(a=y(d({},function(e){if(!e)return{};var t={};return e.split("&").forEach((function(e){var n=e.split("=");t[n[0]]=n[1]})),t}(a),r))),null===(i=A)||void 0===i||i(d({},t,{params:d({},t.params,{isResend:!0}),data:a})).then((function(t){e(t)})).catch((function(e){n(e)})),Promise.resolve()}catch(e){return Promise.reject(e)}},closeCallBack:function(){n({description:"SECOND_VALID",requestData:r})}}})}))},N={};function x(e){return N[e]}var D={web:{},sso:{respHandler:function(e){return 0===(null==e?void 0:e.error_code)},successCallBack:function(e){return"success"===(null==e?void 0:e.message)?e.data:e},failCallBack:function(e){return e}},app:{},auth:{respHandler:function(e){return console.log("====== auth ======"),0===(null==e?void 0:e.status_code)},successCallBack:function(e){return console.log(e),console.log("====== auth ======"),e.data},failCallBack:function(e){return e}}},H=function(e){var t,n,r,o=(null==e||null===(t=e.config)||void 0===t?void 0:t.url)||"",i=(null==e||null===(n=e.headers)||void 0===n?void 0:n["x-tt-logid"])||"",a=function(e){var t,n,r=(null==e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.response)||(null==e?void 0:e.data)||{};if("string"==typeof r)try{r=JSON.parse(r)}catch(e){console.log("fetch",e)}return r}(e),s=x("initProps"),c=(null==s?void 0:s.printLog)||!1;if("success"===(null==a?void 0:a.message))return c&&E("call "+o+" result >>>>",{SUCCESS:a.data,Logid:i},!1),Promise.resolve(a.data);c&&E("call "+o+" result >>>>",{ERROR:a.data,Logid:i},!1);var l=null==a||null===(r=a.data)||void 0===r?void 0:r.verify_center_decision_conf;return null!=s&&s.appShowCaptcha||!l?Promise.reject(d({},a.data,{log_id:i})):Promise.resolve(k({verifyData:l,requestConfig:null==e?void 0:e.config}))},M=function(e,t){var n;n=e,new Promise((function(e){N.initProps=n,e(N)})),this.request=new F(e,t),function(e){var t=e.request,n=f(e,["request"]);A=t,function(e){var t,n=e.captchaOptions,r=void 0===n?{}:n,i=e.secondVerifyWebOptions,a={commonOptions:d({},L,{aid:e.aid,did:e.did?String(e.did):"0",iid:e.iid?String(e.iid):"0"}),captchaOptions:d({},O,{sideSlide:e.captchaSideSlide||"disabled",lang:e.language||"zh",showMode:e.captchaShowMode||"mask",region:e.region||"sg",app_name:e.appName||"",host:e.captchaHost||""},r),secondVerifyWebOptions:i};(T=R[e.region||"sg"]||o).init||(T=null===(t=T)||void 0===t?void 0:t.default),e.captchaConfig&&"function"==typeof T.config&&T.config(e.captchaConfig),T.init(a,(function(){}),(function(){}))}(n)}(d({},e,{request:this.request}))},F=function(e,t){var n,r,o,i;return void 0===t&&(t="web"),null!==(n=x("initProps"))&&void 0!==n&&n.fetch?(o=(r=x("initProps")||{}).isBoe,(i=l.create({baseURL:r.host||window&&(void 0!==o&&o?"http":"https")+"://"+window.location.hostname,adapter:function(e){var t=e.baseURL,n=e.url,r=e.method,o=void 0===r?"GET":r,i=e.params,a=void 0===i?{}:i,s=e.data,c=void 0===s?{}:s,l=x("initProps"),p=l.fetch,f=(null==l?void 0:l.printLog)||!1,h=u.isValid(n)?n:t+n;return f&&E(o+" "+h+" >>>>",{"data >>>>":c,"params >>>>":a},!1),p({url:h,method:o.toUpperCase(),params:d({},a,{is_native_h5:1}),data:c,needCommonParams:!0,header:{"x-tt-passport-csrf-token":w("passport_csrf_token")||w("passport_csrf_token_default")||""}}).then((function(t){return{data:t,status:200,statusText:"ok",config:e}}))},withCredentials:!0,transformRequest:[function(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){console.log(e)}return t}]})).interceptors.response.use(H,void 0),i):function(e){var t=x("initProps")||{},n=l.create({baseURL:t.host||window&&(t.isBoe?window.location.protocol:"https:")+"//"+window.location.hostname,withCredentials:!0});return n.interceptors.request.use((function(t){return function(e,t){void 0===t&&(t={});try{var n=x("initProps"),r=(null==n?void 0:n.printLog)||!1;return Promise.resolve(b?Promise.resolve(b):Promise.race([new Promise((function(e){setTimeout((function(){return e("")}),1e3)})),T.getFp()]).then((function(e){return b=e,console.log("===>",e),e}))).then((function(o){var i,a=(null==n?void 0:n.appKey)||"",s=null==e?void 0:e.url,c=(null==e?void 0:e.method)||"get",l=(null==e?void 0:e.data)||{},u={"x-tt-passport-csrf-token":w("passport_csrf_token")||w("passport_csrf_token_default")||""},p=Object.assign({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/javascript"},e.headers||{},u,{});if(e.headers=p,r&&E(c+" "+s+" >>>>",{"%cdata >>>>":l,"%ccommon params >>>>":t}),null!==(i=e.params)&&void 0!==i&&i.isResend){var h=f(e.params,["isResend"]);return d({},e,{params:h})}var _={};if(Object.keys(l).filter((function(e){return void 0!==l[e]})).forEach((function(e){_[e]=l[e]})),["post","POST"].includes(c)){var m=d({},t,{verifyFp:o},(null==e?void 0:e.params)||{}),g=P(m,_,a);e.params=d({},m,g),e.data="undefined"!=typeof FormData&&l instanceof FormData?l:y(_)}if(["get","GET"].includes(c)){var v=d({},_,t,{verifyFp:o},e.params),A=P(v,{},a);e.params=d({},v,A)}return e}))}catch(e){return Promise.reject(e)}}(t,e)}),void 0),n.interceptors.response.use((function(e){return function(e){var t,n,r,o,i,a,s,c,l,u,p,f,h=D[e.config.params.account_sdk_source],_=(null==h?void 0:h.respHandler)||function(e){return"success"===(null==e?void 0:e.message)},m=(null==h?void 0:h.successCallBack)||function(e){return null==e?void 0:e.data},g=(null==h?void 0:h.failCallBack)||function(e){return null==e?void 0:e.data},v=(null==e||null===(t=e.config)||void 0===t?void 0:t.url)||"",w=(null==e||null===(n=e.headers)||void 0===n?void 0:n["x-tt-logid"])||"",y=(null==e?void 0:e.data)||{},A=x("initProps"),b=(null==A?void 0:A.printLog)||!1;if("string"==typeof y)try{y=JSON.parse(y)}catch(e){console.log(e)}if(_(y))return b&&E("call "+v+" result >>>>",{"%cSUCCESS":m(y),"%cLogid":w}),Promise.resolve(m(y));b&&E("call "+v+" result >>>>",{"%cERROR":g(y),"%cLogid":w});var T,S=(null===(r=y)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.verify_center_decision_conf)||(null===(i=y)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.verify_center_secondary_decision_conf)||(null===(s=y)||void 0===s?void 0:s.verify_center_decision_conf)||(null===(c=y)||void 0===c?void 0:c.verify_center_secondary_decision_conf),C=(null===(l=y)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.error_code)||(null===(p=y)||void 0===p?void 0:p.error_code);if(2046===C&&"function"==typeof(null==A||null===(f=A.secondVerifyWebOptions)||void 0===f?void 0:f.onValid))return null==A||null===(T=A.secondVerifyWebOptions)||void 0===T||T.onValid(),Promise.reject({description:"SECOND_VALID"});if(S){var I,P,L,O=(null===(I=y)||void 0===I||null===(P=I.data)||void 0===P?void 0:P.sms_code_key)||(null===(L=y)||void 0===L?void 0:L.sms_code_key);return Promise.resolve(k({verifyData:S,requestConfig:null==e?void 0:e.config,requestData:2046===C&&O?{sms_code_key:O}:void 0})).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}var R=g(y);return Promise.reject(d({},R,{log_id:w}))}(e)}),void 0),n}(function(e,t){var n,r=e.scene,o=e.aid,i=e.language,a=void 0===i?"":i,s=e.subjectAid,c=e.aff_multi_login,l=void 0===c?0:c,u=e.generalParams,p=void 0===u?{}:u;if("web"===t){var f={aid:o};"aff"===(void 0===r?"normal":r)&&(f.subject_aid=void 0===s?0:s),1===l&&(f.aff_multi_login=1),n=f}if("sso"===t||"auth"===t){var h={aid:o};1===l&&(h.aff_multi_login=1),n=h}if(n=d({},n,{account_sdk_source:t,sdk_version:"2.1.2-abroad-beta.0"}),p)try{n=d({},p,n)}catch(e){console.error("[error], generalParams is not object!")}return a&&(n=d({},n,{language:a})),n}(e,t))},j=function(e){var t=this;this.sendCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,type:7},void 0===n?{}:n),["mobile","type"]);return t.request({url:_.SEND_MOBILE_CODE,method:"POST",data:r})},this.smsLogin=function(e){var n=e.need_frozen_user,r=e.extra_params,o=C(d({mobile:e.mobile,code:e.code,need_frozen_user:void 0===n?0:n,type:7},void 0===r?{}:r),["mobile","type","code"]);return t.request({url:_.SMS_LOGIN,method:"POST",data:o})},this.sendEmailCode=function(e){var n=e.extra_params,r=C(d({email:e.email,type:13},void 0===n?{}:n),["email","type"]);return t.request({url:_.SEND_EMAIL_CODE,method:"POST",data:r})},this.emailLogin=function(e){var n=e.need_frozen_user,r=e.extra_params,o=C(d({email:e.email,code:e.code,need_frozen_user:void 0===n?0:n,type:13},void 0===r?{}:r),["email","type","code"]);return t.request({url:_.EMAIL_LOGIN,method:"POST",data:o})},this.pwdLogin=function(e){var n,r=e.password,o=e.need_frozen_user,i=void 0===o?0:o,a=e.extra_params,s=void 0===a?{}:a,c=["email","username","mobile","account"].find((function(t){return!!e[t]}));if(!c)return Promise.reject();var l=C(d(((n={password:r})[c]=e[c],n.need_frozen_user=i,n),s),["password",c]);return t.request({url:_.PWD_LOGIN,method:"POST",data:l})},this.oauthLoginCall=function(e){var t=e.platform_app_id,n=e.next,r=e.extra_params,o=void 0===r?{}:r,i=x("initProps")||{},a=y(d({platform_app_id:t,next:n,aid:i.aid,subject_aid:i.subjectAid,account_sdk_source:"web"},o));window.location.href=_.OAUTH_LOGIN_CALL+"?"+a},this.oauthLogin=function(e){var n=e.need_frozen_user,r=e.login_only,o=e.extra_params;return t.request({url:void 0===r||r?_.OAUTH_LOGIN_ONLY:_.OAUTH_LOGIN,method:"POST",data:d({platform_app_id:e.platform_app_id,redirect_uri:e.redirect_uri,code:e.code,need_frozen_user:void 0===n?0:n},void 0===o?{}:o)})},this.subjectLoginList=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:_.SUBJECT_LOGIN_LIST,method:"GET",data:void 0===n?{}:n})},this.subjectLogin=function(e){var n=e.user_identity_id,r=e.extra_params,o=C(d({login_subject_uid:e.login_subject_uid,user_identity_id:void 0===n?"0":n},void 0===r?{}:r),["login_subject_uid","user_identity_id"]);return t.request({url:_.SUBJECT_LOGIN,method:"POST",data:o})},this.logout=function(e){var n=e.next,r=void 0===n?"":n,o=e.not_redirect,i=void 0!==o&&o,a=x("initProps")||{},s={account_sdk_source:"web",aid:a.aid,subject_aid:a.subjectAid,next:r};if(i)return t.request({url:_.LOGOUT,method:"GET",data:d({},s,{next:encodeURIComponent(s.next)})});window.location.href=_.LOGOUT+"?"+y(s)},this.memberSwitch=function(e){var n=e.extra_params;return t.request({url:_.MEMBER_SWITCH,method:"POST",data:d({to_sec_member_id:e.to_sec_member_id},void 0===n?{}:n)})},this.request=e.request},U=function(e){var t=this;this.sendEmailCode=function(e){var n=e.extra_params,r=C(d({email:e.email,type:1},void 0===n?{}:n),["email","type"]);return new Promise((function(e,n){t.request({url:_.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.verifyEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,type:1},void 0===n?{}:n),["email","code","type"]);return new Promise((function(e,n){t.request({url:_.CHECK_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.registerByEmail=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=e.only_user,i=void 0!==o&&o,a=f(e,["extra_params","only_user"]),s=C(d({},a,r),["base_infos","subject_name","password","identity_card","real_name"]),c=i?_.REGISTER_EMAIL_USER_ONLY:_.REGISTER_EMAIL;return new Promise((function(e,n){t.request({url:c,method:"POST",data:s}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendMobileCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,type:1},void 0===n?{}:n),["mobile","type"]);return new Promise((function(e,n){t.request({url:_.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.verifyMobile=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,type:1},void 0===n?{}:n),["mobile","code","type"]);return new Promise((function(e,n){t.request({url:_.CHECK_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.registerByMobile=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=e.only_user,i=void 0!==o&&o,a=f(e,["extra_params","only_user"]),s=C(d({},a,r),["base_infos","subject_name","password","identity_card","real_name"]),c=i?_.REGISTER_MOBILE_USER_ONLY:_.REGISTER_MOBILE;return new Promise((function(e,n){t.request({url:c,method:"POST",data:s}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.request=e.request},B=function(e){var t=this;this.sendEmailCode=function(e){var n=e.extra_params,r=C(d({email:e.email,type:4},void 0===n?{}:n),["email","type"]);return t.request({url:_.SEND_EMAIL_CODE,method:"POST",data:r})},this.sendMobileCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,type:6},void 0===n?{}:n),["mobile","type"]);return t.request({url:_.SEND_MOBILE_CODE,method:"POST",data:r})},this.mobileReset=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,password:e.password},void 0===n?{}:n),["mobile","code","password"]);return t.request({url:_.RESET_BY_MOBILE,method:"POST",data:r})},this.emailReset=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,password:e.password},void 0===n?{}:n),["email","code","password"]);return t.request({url:_.RESET_BY_EMAIL,method:"POST",data:r})},this.request=e.request},G=function(e){var t=this;this.mobileInvite=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]),i=C(d({},o,r),["mobile"]);return t.request({url:_.MOBILE_INVITE,method:"POST",data:i})},this.emailInvite=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]),i=C(d({},o,r),["email"]);return t.request({url:_.EMAIL_INVITE,method:"POST",data:i})},this.larkInvite=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]),i=C(d({},o,r),["email"]);return t.request({url:_.LARK_INVITE,method:"POST",data:i})},this.getInvitationList=function(e){var n=e.page,r=void 0===n?1:n,o=e.page_size,i=void 0===o?10:o,a=e.extra_params,s=void 0===a?{}:a;return new Promise((function(e,n){t.request({url:""+_.INVITE_LIST+r+"/",method:"GET",data:d({page_size:i},s)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.cancelInvitation=function(e){var n=e.invite_id,r=void 0===n?0:n,o=e.extra_params,i=void 0===o?{}:o;return new Promise((function(e,n){t.request({url:_.CANCEL_INVITE,method:"POST",data:d({invite_id:r},i)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.resendInvitation=function(e){var n=e.invite_id,r=void 0===n?0:n,o=e.next_url,i=void 0===o?"":o,a=e.link,s=void 0===a?"":a,c=e.extra_params,l=void 0===c?{}:c;return new Promise((function(e,n){t.request({url:_.RESEND_INVITE,method:"POST",data:d({invite_id:r,next_url:i,link:s},l)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.updateInvitation=function(e){var n=e.invite_id,r=e.extra_params,o=C(d({invite_id:void 0===n?0:n,deputy_identity_id:e.deputy_identity_id,deputy_name:e.deputy_name},void 0===r?{}:r),["deputy_name"]);return new Promise((function(e,n){t.request({url:_.UPDATE_INVITE,method:"POST",data:o}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.checkRegisterStatus=function(e){var n=e.invite_ticket,r=e.extra_params,o=void 0===r?{}:r;return new Promise((function(e,r){t.request({url:_.CHECK_INVITE_VALID,method:"POST",data:d({invite_ticket:n},o)}).then((function(t){e(t)})).catch((function(e){r(e)}))}))},this.acceptInvitation=function(e){var n=e.extra_params,r=C(d({invite_ticket:e.invite_ticket,password:e.password,extra:e.extra},void 0===n?{}:n),["password","extra"]);return t.request({url:_.ACCEPT_INVITE,method:"POST",data:r})},this.request=e.request},W=function(e){var t=this;this.createByUsername=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]),i=C(d({},o,r),["subject_name","deputy_name","password","username","base_infos","detail_infos"]);return new Promise((function(e,n){t.request({url:_.CREATE_BY_USERNAME,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.createByMobile=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]),i=C(d({},o,r),["subject_name","deputy_name","password","mobile","base_infos","detail_infos"]);return new Promise((function(e,n){t.request({url:_.CREATE_BY_MOBILE,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.createByEmail=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]),i=C(d({},o,r),["subject_name","deputy_name","password","email","base_infos","detail_infos"]);return new Promise((function(e,n){t.request({url:_.CREATE_BY_EMAIL,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.getSubjectList=function(e){var n=e.page,r=void 0===n?1:n,o=e.page_size,i=void 0===o?10:o,a=e.deputy_identity_id,s=e.extra_params,c=void 0===s?{}:s;return new Promise((function(e,n){t.request({url:""+_.SUBJECT_LIST+r+"/",method:"GET",data:d({page_size:i,deputy_identity_id:a},c)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.getSubjectDeputyList=function(e){var n=e.page,r=void 0===n?1:n,o=e.page_size,i=void 0===o?10:o,a=e.extra_params,s=void 0===a?{}:a;return new Promise((function(e,n){t.request({url:""+_.SUBJECT_DEPUTY_LIST+r+"/",method:"GET",data:d({page_size:i},s)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.getSubjectIdentityList=function(e){var n=e.page,r=void 0===n?1:n,o=e.page_size,i=void 0===o?10:o,a=e.extra_params,s=void 0===a?{}:a;return new Promise((function(e,n){t.request({url:""+_.SUBJECT_IDENTITY_LIST+r+"/",method:"GET",data:d({page_size:i},s)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.updateDeputyInfo=function(e){var n=e.extra_params,r=C(d({sec_user_id:e.sec_user_id,deputy_identity_id:e.deputy_identity_id,deputy_name:e.deputy_name,user_identity_id:e.user_identity_id},void 0===n?{}:n),["deputy_name","user_identity_id"]);return new Promise((function(e,n){t.request({url:_.UPDATE_DEPUTY_INFO,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.freezeDeputy=function(e){var n=e.is_frozen,r=e.extra_params,o=C(d({sec_user_id:e.sec_user_id,user_identity_id:e.user_identity_id,is_frozen:void 0===n?0:n},void 0===r?{}:r),["sec_user_id","user_identity_id"]);return new Promise((function(e,n){t.request({url:_.FREEZE_DEPUTY,method:"POST",data:o}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.deleteDeputy=function(e){var n=e.extra_params,r=C(d({sec_user_id:e.sec_user_id,user_identity_id:e.user_identity_id},void 0===n?{}:n),["user_identity_id"]);return new Promise((function(e,n){t.request({url:_.DELETE_DEPUTY,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.updateSubjectInfo=function(e){var n=e.extra_params,r=C(d({sec_subject_uid:e.sec_subject_uid,subject_name:e.subject_name,base_infos:e.base_infos,detail_infos:e.detail_infos},void 0===n?{}:n),["sec_subject_uid","subject_name","base_infos","detail_infos"]);return new Promise((function(e,n){t.request({url:_.UPDATE_SUBJECT_INFO,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.freezeSubject=function(e){var n=e.is_frozen,r=e.extra_params,o=C(d({sec_subject_uid:e.sec_subject_uid,is_frozen:void 0===n?0:n},void 0===r?{}:r),["sec_subject_uid"]);return new Promise((function(e,n){t.request({url:_.FREEZE_SUBJECT,method:"POST",data:o}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.request=e.request},V=function(e){var t=this;this.getResourceList=function(e){var n=e.page,r=void 0===n?1:n,o=e.page_size,i=void 0===o?10:o,a=e.subject_uid,s=e.extra_params,c=void 0===s?{}:s;return new Promise((function(e,n){t.request({url:""+_.RESOURCE_LIST+r+"/",method:"GET",data:d({page_size:i,subject_uid:a},c)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.request=e.request},q=function(e){var t=this;this.createRole=function(e){var n=e.role_name,r=e.permissions,o=e.subject_uid,i=e.extra_params,a=void 0===i?{}:i;return new Promise((function(e,i){t.request({url:_.CREATE_ROLE,method:"POST",data:d({role_name:n,permissions:r,subject_uid:o},a)}).then((function(t){e(t)})).catch((function(e){i(e)}))}))},this.updateRole=function(e){var n=e.role_key,r=e.role_name,o=e.permissions,i=e.description,a=e.subject_uid,s=e.extra_params,c=void 0===s?{}:s;return new Promise((function(e,s){t.request({url:_.UPDATE_ROLE,method:"POST",data:d({role_key:n,role_name:r,permissions:o,description:i,subject_uid:a},c)}).then((function(t){e(t)})).catch((function(e){s(e)}))}))},this.banRole=function(e){var n=e.role_key,r=e.subject_uid,o=e.extra_params,i=void 0===o?{}:o;return new Promise((function(e,o){t.request({url:_.BAN_ROLE,method:"POST",data:d({role_key:n,subject_uid:r},i)}).then((function(t){e(t)})).catch((function(e){o(e)}))}))},this.getRoleList=function(e){var n=e.subject_uid,r=e.extra_params,o=void 0===r?{}:r;return new Promise((function(e,r){t.request({url:_.ROLE_LIST,method:"GET",data:d({subject_uid:n},o)}).then((function(t){e(t)})).catch((function(e){r(e)}))}))},this.getRoleInfo=function(e){var n=e.role_key,r=e.subject_uid,o=e.extra_params,i=void 0===o?{}:o;return new Promise((function(e,o){t.request({url:_.ROLE_INFO,method:"GET",data:d({role_key:n,subject_uid:r},i)}).then((function(t){e(t)})).catch((function(e){o(e)}))}))},this.request=e.request},$=function(e){var t=this;this.createUserWithRole=function(e){var n=e.role_key,r=e.sec_user_id,o=e.name,i=e.identity_id,a=e.subject_uid,s=e.extra_params,c=void 0===s?{}:s;return new Promise((function(e,s){t.request({url:_.CREATE_USER_WITH_ROLE,method:"POST",data:d({role_key:n,sec_user_id:r,name:o,identity_id:i,subject_uid:a},c)}).then((function(t){e(t)})).catch((function(e){s(e)}))}))},this.addUserRole=function(e){var n=e.role_key,r=e.sec_user_identity_ids,o=e.subject_uid,i=e.extra_params,a=void 0===i?{}:i;return new Promise((function(e,i){t.request({url:_.ADD_USER_ROLE,method:"POST",data:d({role_key:n,sec_user_identity_ids:r,subject_uid:o},a)}).then((function(t){e(t)})).catch((function(e){i(e)}))}))},this.deleteUserRole=function(e){var n=e.role_key,r=e.sec_user_identity_ids,o=e.subject_uid,i=e.extra_params,a=void 0===i?{}:i;return new Promise((function(e,i){t.request({url:_.DELETE_USER_ROLE,method:"POST",data:d({role_key:n,sec_user_identity_ids:r,subject_uid:o},a)}).then((function(t){e(t)})).catch((function(e){i(e)}))}))},this.getUserRoleList=function(e){var n=e.subject_uid,r=e.extra_params,o=void 0===r?{}:r;return new Promise((function(e,r){t.request({url:_.USER_ROLE_LIST,method:"GET",data:d({subject_uid:n},o)}).then((function(t){e(t)})).catch((function(e){r(e)}))}))},this.getAllUserRoleList=function(e){var n=e.subject_uid,r=e.identity_id,o=e.page,i=void 0===o?1:o,a=e.page_size,s=void 0===a?10:a,c=e.extra_params,l=void 0===c?{}:c;return new Promise((function(e,o){t.request({url:""+_.ALL_USER_ROLE_LIST+i+"/",method:"GET",data:d({subject_uid:n,identity_id:r,page_size:s},l)}).then((function(t){e(t)})).catch((function(e){o(e)}))}))},this.getUserPermissions=function(e){var n=e.subject_uid,r=e.extra_params,o=void 0===r?{}:r;return new Promise((function(e,r){t.request({url:_.USER_PERMISSIONS,method:"GET",data:d({subject_uid:n},o)}).then((function(t){e(t)})).catch((function(e){r(e)}))}))},this.request=e.request},X=function(e){var t=this;this.sendCodeToOldManager=function(e){void 0===e&&(e={});var n=e.extra_params,r=C(d({type:22},void 0===n?{}:n),["type"]);return new Promise((function(e,n){t.request({url:_.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendEmailCodeToOldManager=function(e){void 0===e&&(e={});var n=e.extra_params,r=C(d({type:6},void 0===n?{}:n),["type"]);return new Promise((function(e,n){t.request({url:_.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.verifyOldManagerMobile=function(e){var n=e.extra_params,r=C(d({code:e.code,type:22},void 0===n?{}:n),["code","type"]);return new Promise((function(e,n){t.request({url:_.VERIFY_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.verifyOldManagerEmail=function(e){var n=e.extra_params,r=C(d({code:e.code,type:6},void 0===n?{}:n),["code","type"]);return new Promise((function(e,n){t.request({url:_.VERIFY_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendCodeToNewManager=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,verify_ticket:e.verify_ticket,type:101},void 0===n?{}:n),["mobile","type"]);return new Promise((function(e,n){t.request({url:_.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendEmailCodeToNewManager=function(e){var n=e.extra_params,r=C(d({email:e.email,verify_ticket:e.verify_ticket,type:101},void 0===n?{}:n),["email","type"]);return new Promise((function(e,n){t.request({url:_.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.verifyNewManagerMobile=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,type:101},void 0===n?{}:n),["mobile","code","type"]);return new Promise((function(e,n){t.request({url:_.CHECK_MOBILE_CODE,method:"GET",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.verifyNewManagerEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,type:101},void 0===n?{}:n),["email","code","type"]);return new Promise((function(e,n){t.request({url:_.CHECK_EMAIL_CODE,method:"GET",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.transferManager=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.request({url:_.TRANSFER_MANAGER,method:"POST",data:d({},o,r)})},this.request=e.request},K=function(e){var t=this;this.sendCode=function(e){var n=e.registerOnly,r=e.extra_params,o=C(d({mobile:e.mobile,type:void 0!==n&&n?16:24},void 0===r?{}:r),["mobile","type"]);return new Promise((function(e,n){t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:o}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.smsLogin=function(e){var n=e.login_only,r=void 0!==n&&n,o=e.extra_params,i=C(d({mobile:e.mobile,code:e.code},void 0===o?{}:o),["mobile","code"]),a=r?h.SMS_LOGIN_ONLY:h.SMS_LOGIN;return new Promise((function(e,n){t.request({url:a,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.smsLoginContinue=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,sms_code_key:e.sms_code_key},void 0===n?{}:n),["mobile","sms_code_key"]);return new Promise((function(e,n){t.request({url:h.SMS_LOGIN_CONTINUE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.webLogin=function(e){var n=e.platform_app_id,r=e.next,o=e.extra_params,i=void 0===o?{}:o;return new Promise((function(e,o){t.request({url:h.SMS_LOGIN_CONTINUE,method:"POST",data:d({platform_app_id:n,next:r},i)}).then((function(t){e(t)})).catch((function(e){o(e)}))}))},this.emailLogin=function(e){var n=e.extra_params,r=C(d({email:e.email,password:e.password},void 0===n?{}:n),["email","password"]);return new Promise((function(e,n){t.request({url:h.EMAIL_LOGIN,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.emailCodeLogin=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,ect_type:13},void 0===n?{}:n),["email","code"]);return t.request({url:h.EMAIL_CODE_LOGIN,method:"POST",data:r})},this.pwdLogin=function(e){var n=e.extra_params,r=C(d({username:e.username,mobile:e.mobile,email:e.email,account:e.account,password:e.password},void 0===n?{}:n),["username","mobile","email","account","password"]);return t.request({url:h.PWD_LOGIN,method:"POST",data:r})},this.authLogin=function(e){var n=e.platform_app_id,r=e.code,o=e.access_token,i=e.access_token_secret,a=e.openid,s=e.profile_key,c=e.login_only,l=void 0!==c&&c,u=e.extra_params,p=void 0===u?{}:u;return new Promise((function(e,c){t.request({url:l?h.AUTH_LOGIN_ONLY:h.AUTH_LOGIN,method:"POST",data:d({platform_app_id:n,code:r,access_token:o,access_token_secret:i,openid:a,profile_key:s},p)}).then((function(t){e(t)})).catch((function(e){c(e)}))}))},this.webShareLogin=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.request({url:h.WEB_SHARE_LOGIN,method:"POST",data:d({},r,o)})},this.getOauthMobile=function(e){var n=e.access_token,r=e.access_token_secret,o=e.code,i=e.expires_in,a=e.openid,s=e.platform_app_id,c=e.platform,l=e.need_plaintext,u=void 0!==l&&l,p=e.profile_key,f=e.extra_params,_=void 0===f?{}:f;return new Promise((function(e,l){t.request({url:h.MOBILE_OAUTH,method:"POST",data:d({access_token:n,access_token_secret:r,code:o,expires_in:i,openid:a,platform_app_id:s,platform:c,need_plaintext:u,profile_key:p},_)}).then((function(t){e(t)})).catch((function(e){l(e)}))}))},this.authBindLogin=function(e){var n=e.extra_params,r=C(d({platform_app_id:e.platform_app_id,code:e.code,mobile:e.mobile,sms_code:e.sms_code,sms_code_key:e.sms_code_key,profile_key:e.profile_key},void 0===n?{}:n),["mobile","sms_code"]);return new Promise((function(e,n){t.request({url:h.AUTH_BIND_ONLY,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.mobileBindLogin=function(e){var n=e.extra_params,r=C(d({code:e.code,mobile:e.mobile,profile_key:e.profile_key},void 0===n?{}:n),["mobile","code"]);return new Promise((function(e,n){t.request({url:h.MOBILE_BIND_ONLY,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.logout=function(e){var n=e.next,r=void 0===n?"/":n,o=e.need_redirect,i=void 0===o?1:o;if(!i)return t.request({url:h.LOGOUT,data:{need_redirect:i}});var a,s=(null===(a=x("initProps"))||void 0===a?void 0:a.aid)||"",c=encodeURIComponent(r);window.location.href=h.LOGOUT+"?account_sdk_source=web&aid="+s+"&next="+c},this.sendEmailCode=function(e){var n=e.extra_params,r=C(d({email:e.email,next:e.next,password:e.password,type:1},void 0===n?{}:n),["email","password","type"]);return t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r})},this.sendEmailLoginCode=function(e){var n=e.extra_params,r=C(d({email:e.email,next:e.next,type:13},void 0===n?{}:n),["email","type"]);return t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r})},this.emailRegister=function(e){var n=e.ifLogin,r=void 0!==n&&n,o=e.extra_params,i=C(d({email:e.email,code:e.code,password:e.password,type:1},void 0===o?{}:o),["email","password","type","code"]);return t.request({url:r?h.EMAIL_REGISTER_LOGIN:h.EMAIL_REGISTER,method:"POST",data:i})},this.mobileRegister=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,password:e.password,type:16},void 0===n?{}:n),["mobile","code","password","type"]);return new Promise((function(e,n){t.request({url:h.MOBILE_REGISTER,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.mobileEmailRegister=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,sms_code:e.sms_code,email:e.email,email_code:e.email_code,password:e.password,verify_ticket:e.verify_ticket,sms_type:16,ect_type:1},void 0===n?{}:n),["mobile","sms_code","sms_type","email","email_code","ect_type","password"]);return new Promise((function(e,n){t.request({url:h.MOBILE_EMAIL_REGISTER,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.checkLogin=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:h.CHECK_LOGIN,method:"GET",data:void 0===n?{}:n})},this.bindWithMobileLogin=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.request({url:h.BIND_WITH_MOBILE_LOGIN,method:"POST",data:d({},r,o)})},this.bindWithEmailLogin=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.request({url:h.BIND_WITH_EMAIL_LOGIN,method:"POST",data:d({},r,o)})},this.thirdAuth=function(e){var t,n=e.platform_app_id,r=e.next,o=void 0===r?"/":r,i=e.use_local_host,a=void 0===i?0:i,s=e.action,c=(null===(t=x("initProps"))||void 0===t?void 0:t.aid)||"",l=encodeURIComponent(o);window.location.href=h.THIRD_AUTH+"?account_sdk_source=web&aid="+c+"&next="+l+"&platform_app_id="+n+"&use_local_host="+a+"&action="+s},this.emailRegisterNoVerifyV2=function(e){var n=e.extra_params,r=C(d({email:e.email,password:e.password,next_url:e.next_url,recaptcha_token:e.recaptcha_token},void 0===n?{}:n),["email","password","recaptcha_token"]);return t.request({url:h.EMAIL_REGISTER_NO_VERIFY_V2,method:"POST",data:r})},this.wapLogin=function(e){var n=e.origin,r=void 0===n?"":n,o=e.type,i=void 0===o?"web":o,a=e.use_local_host,s=e.scopes,c=void 0===s?"user_info":s,l=e.url_params,u=void 0===l?"":l,d=e.platform_app_id,p=e.platform,f=void 0===p?"":p,_=e.replace,m=void 0!==_&&_,g=encodeURIComponent(e.next),v=encodeURIComponent(t.host+"/auth/login_success/?service="+g),w={aid:t.aid,type:i,use_local_host:a,scopes:c,next:v,url_params:u,platform_app_id:d,platform:f},E="",y=Object.keys(w).length;Object.keys(w).forEach((function(e,t){E+=y===t+1?e+"="+w[e]:e+"="+w[e]+"&"}));var A=""+r+h.AUTH_LOGIN_URL+"?"+E;m?window.location.href=A:window.open(A,"_blank")},this.bindVerifyInfo=function(e){var n=e.extra_params;return t.request({url:"/passport/common/register/web/bind_verify_info/",method:"GET",data:d({auth_ticket:e.auth_ticket,verify_ticket:e.verify_ticket,token:e.token,scene:e.scene,user_type:e.user_type},void 0===n?{}:n)})};var n=e.host,r=e.aid;this.request=e.request,this.host=n,this.aid=r},Y=function(){function e(e){this.request=e.request}var t=e.prototype;return t.getQrcode=function(e){return this.request({url:h.GET_QRCODE+"?next="+encodeURIComponent(e.next),method:"GET"})},t.checkQrconnect=function(e){var t=e.token;return this.request({url:h.CHECK_QRCONNECT+"?next="+encodeURIComponent(e.next),method:"GET",data:{token:t}})},e}(),z=function(e){var t=this;this.sendCode=function(e){var n=e.unbind_exist,r=e.extra_params,o=C(d({mobile:e.mobile,type:17,unbind_exist:void 0===n?0:n},void 0===r?{}:r),["mobile","type","unbind_exist"]);return t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:o})},this.bindMobile=function(e){void 0===e&&(e={});var n=e.unbind_exist,r=e.extra_params,o=C(d({mobile:e.mobile,code:e.code,password:e.password,verify_ticket:e.verify_ticket,unbind_exist:void 0===n?0:n,type:17},void 0===r?{}:r),["mobile","code","password","unbind_exist","type"]);return t.request({url:h.MOBILE_BIND,method:"POST",data:o})},this.sendEmailCode=function(e){var n=e.extra_params,r=C(d({email:e.email,type:8},void 0===n?{}:n),["email","type"]);return new Promise((function(e,n){t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.bindEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code},void 0===n?{}:n),["email","code"]);return new Promise((function(e,n){t.request({url:h.EMAIL_BIND,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.bindAuth=function(e){var n=e.platform_app_id,r=e.code,o=e.access_token,i=e.access_token_secret,a=e.openid,s=e.profile_key,c=e.extra_params,l=void 0===c?{}:c;return new Promise((function(e,c){t.request({url:h.AUTH_BIND,method:"POST",data:d({platform_app_id:n,code:r,access_token:o,access_token_secret:i,openid:a,profile_key:s},l)}).then((function(t){e(t)})).catch((function(e){c(e)}))}))},this.unbindAuth=function(e){var n=e.platform,r=e.extra_params,o=void 0===r?{}:r;return new Promise((function(e,r){t.request({url:h.AUTH_UNBIND,method:"POST",data:d({platform:n},o)}).then((function(t){e(t)})).catch((function(e){r(e)}))}))},this.switchBindAuth=function(e){var n=e.platform_app_id,r=e.profile_key,o=e.extra_params,i=void 0===o?{}:o;return new Promise((function(e,o){t.request({url:h.AUTH_SWITCH_BIND,method:"POST",data:d({platform_app_id:n,profile_key:r},i)}).then((function(t){e(t)})).catch((function(e){o(e)}))}))},this.changeQrcodeSuccess=function(e){var n=e.extra_params;return t.request({url:h.CHANGE_QRCODE_SUCCESS,method:"POST",data:d({token:e.token},void 0===n?{}:n)})},this.changeQrcodeComfirm=function(e){var n=e.extra_params;return t.request({url:h.CHANGE_QRCODE_CONFIRM,method:"POST",data:d({token:e.token,verify_ticket:e.verify_ticket},void 0===n?{}:n)})},this.request=e.request},J=function(e){var t=this;this.checkMobileRegistered=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile},void 0===n?{}:n),["mobile"]);return new Promise((function(e,n){t.request({url:h.CHECK_MOBILE_REGISTER,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.checkEmailRegistered=function(e){var n=e.extra_params,r=C(d({email:e.email},void 0===n?{}:n),["email"]);return t.request({url:h.CHECK_EMAIL_REGISTER,method:"POST",data:r})},this.request=e.request},Z=function(e){this.request=e.request},Q=function(e){var t=this;this.sendCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,type:6},void 0===n?{}:n),["mobile","type"]);return new Promise((function(e,n){t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.validateCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,type:6},void 0===n?{}:n),["mobile","code","type"]);return new Promise((function(e,n){t.request({url:h.CHECK_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.resetPwdByMobile=function(e){var n=e.extra_params,r=C(d({password:e.password,mobile:e.mobile,code:e.code},void 0===n?{}:n),["password","mobile","code"]);return new Promise((function(e,n){t.request({url:h.RESET_PWD_BY_MOBILE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendEmailCode=function(e){var n=e.extra_params,r=C(d({email:e.email,type:4},void 0===n?{}:n),["email","type"]);return new Promise((function(e,n){t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.validateEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,type:4},void 0===n?{}:n),["email","code","type"]);return t.request({url:h.CHECK_EMAIL_CODE,method:"POST",data:r})},this.resetPwdByEmail=function(e){var n=e.extra_params,r=C(d({password:e.password,email:e.email,code:e.code},void 0===n?{}:n),["password","email","code"]);return new Promise((function(e,n){t.request({url:h.RESET_PWD_BY_EMAIL,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.resetPwdByMobileTicket=function(e){var n=e.extra_params,r=C(d({password:e.password,ticket:e.ticket},void 0===n?{}:n),["password"]);return new Promise((function(e,n){t.request({url:h.RESET_PWD_BY_MOBILE_TICKET,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.resetPwdByEmailTicket=function(e){var n=e.extra_params,r=C(d({password:e.password,ticket:e.ticket},void 0===n?{}:n),["password"]);return new Promise((function(e,n){t.request({url:h.RESET_PWD_BY_EMAIL_TICKET,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.request=e.request},ee=function(e){var t=this;this.sendCodeToOldMobile=function(e){var n=e.use_bind_mobile,r=e.extra_params,o=C(d({mobile:e.mobile,type:void 0===n||n?22:28},void 0===r?{}:r),["mobile","type"]);return new Promise((function(e,n){t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:o}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.validateOldMobile=function(e){var n=e.use_bind_mobile,r=e.extra_params,o=C(d({code:e.code,type:void 0===n||n?22:28},void 0===r?{}:r),["code","type"]);return new Promise((function(e,n){t.request({url:h.VERIFY_MOBILE_CODE,method:"POST",data:o}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendCodeToNewMobile=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,old_mobile:e.old_mobile,type:20,ticket:e.ticket},void 0===n?{}:n),["mobile","old_mobile","type"]);return new Promise((function(e,n){t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.rebindMobile=function(e){var n=e.kick_other,r=e.extra_params,o=C(d({mobile:e.mobile,code:e.code,ticket:e.ticket,kick_other:void 0===n?0:n},void 0===r?{}:r),["mobile","code"]);return new Promise((function(e,n){t.request({url:h.MOBILE_REBIND,method:"POST",data:o}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendCodeToOldEmail=function(e){void 0===e&&(e={});var n=e.extra_params,r=C(d({email:e.email,type:6},void 0===n?{}:n),["email","type"]);return new Promise((function(e,n){t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.validateOldEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,type:6},void 0===n?{}:n),["email","code","type"]);return new Promise((function(e,n){t.request({url:h.VERIFY_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendCodeToNewEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,ticket:e.ticket,type:7},void 0===n?{}:n),["email","type"]);return new Promise((function(e,n){t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.rebindEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,type:7,ticket:e.ticket},void 0===n?{}:n),["email","code","type"]);return new Promise((function(e,n){t.request({url:h.EMAIL_REBIND,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.request=e.request},te=function(e){var t=this;this.sendCode=function(e){void 0===e&&(e={});var n=e.verify_mobile_seperate,r=e.extra_params,o=C(d({type:void 0!==n&&n?22:13},void 0===r?{}:r),["type"]);return t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:o})},this.validateMobile=function(e){var n=e.extra_params,r=C(d({code:e.code,type:22},void 0===n?{}:n),["code","type"]);return new Promise((function(e,n){t.request({url:h.VERIFY_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.changePwdByMobile=function(e){var n=e.extra_params,r=C(d({password:e.password,code:e.code,ticket:e.ticket},void 0===n?{}:n),["password","code"]);return new Promise((function(e,n){t.request({url:h.PWD_CHANGE_BY_MOBILE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.updatePwd=function(e){var n=e.extra_params,r=C(d({password:e.password,current_password:e.current_password},void 0===n?{}:n),["password","current_password"]);return new Promise((function(e,n){t.request({url:h.PWD_UPDATE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendEmailCode=function(e){void 0===e&&(e={});var n=e.extra_params,r=C(d({type:11},void 0===n?{}:n),["type"]);return new Promise((function(e,n){t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.validateEmail=function(e){var n=e.extra_params,r=C(d({code:e.code,type:11},void 0===n?{}:n),["code","type"]);return new Promise((function(e,n){t.request({url:h.VERIFY_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.changePwdByEmail=function(e){var n=e.extra_params,r=C(d({password:e.password,code:e.code,ticket:e.ticket},void 0===n?{}:n),["password","code"]);return new Promise((function(e,n){t.request({url:h.PWD_CHANGE_BY_EMAIL,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.setPassword=function(e){var n=e.extra_params,r=C(d({password:e.password},void 0===n?{}:n),["password"]);return new Promise((function(e,n){t.request({url:h.PWD_SET,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.checkHasSetPwd=function(e){void 0===e&&(e={});var n=e.extra_params,r=void 0===n?{}:n;return new Promise((function(e,n){t.request({url:h.PWD_HAS_SET,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.checkWebHasSetPwd=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:h.PWD_HAS_SET_V2,method:"GET",data:void 0===n?{}:n})},this.changePwdByEmailAndLogin=function(e){var n=e.extra_params,r=C(d({password:e.password,code:e.code,email:e.email},void 0===n?{}:n),["password","code"]);return t.request({url:h.PWD_SET_BY_EAMIL_AND_LOGIN,method:"POST",data:r})},this.request=e.request},ne=function(e){var t=this;this.notLoginSendCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,type:34},void 0===n?{}:n),["mobile","type"]);return new Promise((function(e,n){t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.notLoginValidateMobile=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,type:34},void 0===n?{}:n),["mobile","code","type"]);return new Promise((function(e,n){t.request({url:h.CHECK_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.notLoginSendEmailCode=function(e){var n=e.extra_params,r=C(d({email:e.email,type:15},void 0===n?{}:n),["email","type"]);return new Promise((function(e,n){t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.notLoginValidateEmail=function(e){var n=e.extra_params,r=C(d({email:e.email,code:e.code,type:15},void 0===n?{}:n),["email","code","type"]);return new Promise((function(e,n){t.request({url:h.CHECK_EMAIL_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendCode=function(e){void 0===e&&(e={});var n=e.extra_params,r=C(d({type:22},void 0===n?{}:n),["type"]);return new Promise((function(e,n){t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.validateMobile=function(e){var n=e.extra_params,r=C(d({code:e.code,type:22},void 0===n?{}:n),["code","type"]);return new Promise((function(e,n){t.request({url:h.VERIFY_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.sendEmailCode=function(e){void 0===e&&(e={});var n=e.extra_params,r=C(d({type:6},void 0===n?{}:n),["type"]);return t.request({url:h.SEND_EMAIL_CODE,method:"POST",data:r})},this.validateEmail=function(e){var n=e.extra_params,r=C(d({code:e.code,type:6},void 0===n?{}:n),["code","type"]);return t.request({url:h.VERIFY_EMAIL_CODE,method:"POST",data:r})},this.accountVerify=function(e){var n=e.extra_params,r=C(d({account:e.account,password:e.password,user_login_version:1},void 0===n?{}:n),["account","password"]);return new Promise((function(e,n){t.request({url:h.ACCOUNT_VERIFY,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.authVerify=function(e){var n=e.platform_app_id,r=e.code,o=e.access_token,i=e.access_token_secret,a=e.openid,s=e.profile_key,c=e.extra_params,l=void 0===c?{}:c;return new Promise((function(e,c){t.request({url:h.AUTH_VERIFY,method:"POST",data:d({platform_app_id:n,code:r,access_token:o,access_token_secret:i,openid:a,profile_key:s},l)}).then((function(t){e(t)})).catch((function(e){c(e)}))}))},this.smsAuthorizeSendCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,type:26},void 0===n?{}:n),["mobile","type"]);return new Promise((function(e,n){t.request({url:h.SEND_MOBILE_CODE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.smsAuthorize=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,type:26},void 0===n?{}:n),["mobile","code","type"]);return new Promise((function(e,n){t.request({url:h.SMS_AUTHORIZE,method:"POST",data:r}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.request=e.request},re=function(e){var t=this;this.verifyWay=function(e){var n=e.extra_params;return t.request({url:h.CANCEL_VERIFY_WAY,method:"GET",data:d({cancel_ticket:e.cancel_ticket},void 0===n?{}:n)})},this.checkIfPass=function(e){return t.request({url:h.CANCEL_CHECK,method:"GET",data:d({value_ticket:e.value_ticket},e.extra_params)})},this.confirm=function(e){var n=e.extra_params;return t.request({url:h.CANCEL_CONFIRM,method:"POST",data:d({value_ticket:e.value_ticket,token:e.token,cancel_ticket:e.cancel_ticket,abandon:e.abandon},void 0===n?{}:n)})},this.request=e.request},oe=function(){function e(e){this.request=e.request}var t=e.prototype;return t.getAuthInfo=function(e){var t=e.extra_params;return this.request({url:h.GET_OPEN_AUTH_INFO,method:"GET",data:d({client_key:e.client_key,scope:e.scope},void 0===t?{}:t)})},t.sendCode=function(e){var t=e.extra_params,n=C(d({mobile:e.mobile,type:27},void 0===t?{}:t),["mobile","type"]);return this.request({url:h.OPEN_SEND_CODE,method:"GET",data:n})},t.smsAuth=function(e){var t=e.extra_params,n=C(d({client_key:e.client_key,scope:e.scope,source:e.source,redirect_uri:e.redirect_uri,state:e.state,mobile:e.mobile,code:e.code},void 0===t?{}:t),["mobile","code"]);return this.request({url:h.OPEN_SMS_AUTH,method:"POST",data:n})},t.accountAuth=function(e){var t=e.extra_params,n=C(d({client_key:e.client_key,scope:e.scope,source:e.source,redirect_uri:e.redirect_uri,state:e.state,password:e.password,account:e.account},void 0===t?{}:t),["password","account"]);return this.request({url:h.OPEN_ACCOUNT_AUTH,method:"POST",data:n})},t.thirdAuth=function(e){var t=e.extra_params,n=void 0===t?{}:t,r=f(e,["extra_params"]);return this.request({url:h.OPEN_THIRD_AUTH,method:"POST",data:d({},r,n)})},t.getQRCode=function(e){var t=e.extra_params;return this.request({url:h.OPEN_GET_QRCODE,method:"POST",data:d({client_key:e.client_key,scope:e.scope,state:e.state,next:e.next},void 0===t?{}:t)})},t.checkQRCode=function(e){var t=e.extra_params;return this.request({url:h.OPEN_CHECK_QRCODE,method:"POST",data:d({token:e.token,next:e.next,scope:e.scope,client_key:e.client_key},void 0===t?{}:t)})},t.toScanQRCode=function(e){var t=e.extra_params;return this.request({url:h.OPEN_TO_SCAN_QRCODE,method:"POST",data:d({},void 0===t?{}:t)})},t.scanQRCode=function(e){var t=e.extra_params;return this.request({url:h.OPEN_SCAN_QRCODE,method:"POST",data:d({token:e.token},void 0===t?{}:t)})},t.confirmQRCode=function(e){var t=e.extra_params;return this.request({url:h.OPEN_CONFIRM_QRCODE,method:"POST",data:d({token:e.token,scopes:e.scopes},void 0===t?{}:t)})},t.webAuth=function(e){var t=e.extra_params,n=void 0===t?{}:t,r=f(e,["extra_params"]);return this.request({url:h.OPEN_WEB_AUTH,method:"POST",data:d({},r,n)})},e}(),ie=function(e){var t=this;this.getAccountInfo=function(e){void 0===e&&(e={});var n=e.extra_params;return t.request({url:h.ACCOUNT_INFO,method:"GET",data:void 0===n?{}:n})},this.setAccount=function(e){void 0===e&&(e={});var n=e.extra_params,r=C(d({password:e.password,username:e.username},void 0===n?{}:n),["password","username"]);return t.request({url:h.ACCOUNT_SET,method:"POST",data:r})},this.request=e.request},ae=function(e){var t=this;this.getOauthProfile=function(e){var n,r=e.extra_params;return t.request({url:h.OAUTH_PROFILE,method:"GET",data:d({aid:null===(n=t.props)||void 0===n?void 0:n.aid,access_token:e.access_token,access_token_secret:e.access_token_secret,code:e.code,expires_in:e.expires_in,openid:e.openid,platform_app_id:e.platform_app_id,platform:e.platform},void 0===r?{}:r)})},this.uploadAvatar=function(e){var n=e.avatar,r=e.extra_params,o=new FormData,i=new Blob([n],{type:n.type});return o.append("avatar",i),t.request({url:h.UPLOAD_AVATAR,method:"POST",data:o,params:d({},r),headers:{"Content-Type":"multipart/form-data"}})},this.updateUserInfo=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=d({},f(e,["extra_params"]),r);return t.request({url:h.UPDATE_USERINFO,method:"POST",data:o})},this.checkDefaultInfo=function(e){var n=e.extra_params;return t.request({url:h.CHECK_DEFAULT_INFO,method:"GET",params:d({scene:e.scene},void 0===n?{}:n)})},this.getDefaultImageList=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=h.GET_BACKGROUND_LIST.replace("{aid}",String(t.props.aid));return t.request({url:o,method:"GET",params:d({},r)})},this.getDefaultAvatarList=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=h.GET_DEFAULT_AVATAR_LIST.replace("{aid}",String(t.props.aid));return t.request({url:o,method:"GET",params:d({},r)})},this.getRecommendName=function(e){var n=e.extra_params;return t.request({url:h.GET_RECOMMEND_NAME,method:"GET",params:d({},void 0===n?{}:n)})},this.checkRemainTimes=function(e){var n=e.field_namespace,r=e.extra_params;return t.request({url:h.CHECK_REMAIN_TIMES,method:"GET",params:d({field:e.field,field_namespace:void 0===n?"":n},void 0===r?{}:r)})},this.uploadPicture=function(e){var n=e.pic,r=e.is_sensitive,o=e.extra_params,i=void 0===o?{}:o,a=new FormData,s=new Blob([n],{type:n.type});return a.append("pic",s),t.request({url:h.UPLOAD_PICTURE,method:"POST",data:a,params:d({is_sensitive:r},i)})},this.downloadImage=function(e){var n=e.extra_params;return t.request({url:h.DOWNLOAD_IMAGE,method:"GET",params:d({key:e.key},void 0===n?{}:n)})},this.request=e.request,this.props=e},se=function(e){function t(t){var n;n=e.call(this,t,"web")||this;var r=t.printLog,o=t.acrawler,i=void 0===o?"":o;void 0!==r&&r&&console.log("%cWebInterface Initial Props >>>>%O","background: #222; color: #bada55",t),i&&v(i,t);var a=d({},t,{request:n.request});return n.login=new K(a),n.qrcodeLogin=new Y(a),n.register=new Z(a),n.forgetPwd=new Q(a),n.bind=new z(a),n.rebind=new ee(a),n.password=new te(a),n.extra=new J(a),n.verify=new ne(a),n.cancel=new re(a),n.open=new oe(a),n.account=new ie(a),n.user=new ae(a),n.affLogin=new j(a),n.affRegister=new U(a),n.affInvite=new G(a),n.affSubject=new W(a),n.affForgetPwd=new B(a),n.affResource=new V(a),n.affRole=new q(a),n.affUser=new $(a),n.affSuper=new X(a),n}return p(t,e),t}(M),ce=function(e){var t=this;this.notLoginSendCode=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,type:34},void 0===n?{}:n),["mobile","type"]);return t.request({url:"/passport/mobile/send_code/",method:"POST",data:r})},this.notLoginValidateMobile=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,type:34},void 0===n?{}:n),["mobile","code","type"]);return t.request({url:"/passport/mobile/check_code/",method:"POST",data:r})},this.request=e.request},le=function(e){var t=this;this.bindWithMobileLogin=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.request({url:"/passport/auth/bind_with_mobile_login/",method:"POST",data:d({},r,o)})},this.authLogin=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.request({url:"/passport/auth/login/",method:"POST",data:d({},r,o)})},this.memberSwitch=function(e){return t.request({url:"/passport/aff/mobile/member/switch/",method:"POST",data:{to_sec_member_id:e.to_sec_member_id}})},this.request=e.request},ue=function(e){var t=this;this.unbindUnusableMobile=function(e){var n=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,scene:1},void 0===n?{}:n),["mobile","code"]);return t.request({url:"/passport/mobile/unbind_limited_unusable_mobile/",method:"POST",data:r})},this.request=e.request},de=function(e){function t(t){var n;n=e.call(this,t,"app")||this;var r=t.printLog,o=t.acrawler,i=void 0===o?"":o;void 0!==r&&r&&console.log("AppInterface Initial Props >>>>",t),i&&v(i,t);var a=d({},t,{request:n.request});return n.verify=new ce(a),n.login=new le(a),n.bind=new ue(a),n}return p(t,e),t}(M),pe=function(e){var t=this;this.baseSendMobileCode=function(e){var n=e.mobile,r=e.type,o=f(e,["mobile","type"]),i=C(d({mobile:n,type:r},o),["mobile","type"]);return new Promise((function(e,n){t.request({url:m.MOBILE_CODE_URL,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.baseSendMobileCodeV2=function(e){var n=e.mobile,r=e.type,o=f(e,["mobile","type"]),i=C(d({mobile:n,type:r},o),["mobile","type"]);return new Promise((function(e,n){t.request({url:m.MOBILE_CODE_URL_V2,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.baseSendEmailLink=function(e){var n=e.email,r=e.password,o=f(e,["email","password"]),i=C(d({email:n,password:r},o),["email","password"]);return new Promise((function(e,n){t.request({url:m.EMAIL_ACTIVATE_URL,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.baseSendEmailLinkV2=function(e){var n=e.email,r=e.password,o=f(e,["email","password"]),i=C(d({email:n,password:r},o),["email","password"]);return new Promise((function(e,n){t.request({url:m.EMAIL_ACTIVATE_URL_V2,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.baseSendEmailCode=function(e){var n=e.email,r=e.password,o=f(e,["email","password"]),i=C(d({email:n,password:r},o),["email","password"]);return new Promise((function(e,n){t.request({url:m.EMAIL_ACTIVATE_CODE_URL,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.baseSendEmailCodeV2=function(e){var n=e.email,r=e.password,o=f(e,["email","password"]),i=C(d({email:n,password:r},o),["email","password"]);return new Promise((function(e,n){t.request({url:m.EMAIL_ACTIVATE_CODE_URL_V2,method:"POST",data:i}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},this.request=e.request},fe=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).sendMobileCode=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCode(d({},o,{type:8},r))},t.sendMobileCodeV2=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCodeV2(d({},o,{type:8},r))},t.mobileBind=function(e){var n=e.mobile,r=e.code,o=e.extra_params,i=void 0===o?{}:o,a=f(e,["mobile","code","extra_params"]),s=C(d({mobile:n,code:r},a,{type:8},i),["mobile","type","code"]);return t.request({url:m.BIND_MOBILE,method:"POST",data:s})},t}return p(t,e),t}(pe),he=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).sendMobileCode=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCode(d({},o,{type:20},r))},t.sendMobileCodeV2=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCodeV2(d({},o,{type:20},r))},t.mobileChange=function(e){var n=e.mobile,r=e.code,o=e.extra_params,i=void 0===o?{}:o,a=f(e,["mobile","code","extra_params"]),s=C(d({mobile:n,code:r},a,i),["mobile","code"]);return t.request({url:m.CHANGE_MOBILE,method:"POST",data:s})},t}return p(t,e),t}(pe),_e=function(e){function t(t){var n;(n=e.call(this,t)||this).checkLogin=function(e){var t=e.extra_params,r=void 0===t?{}:t,o=f(e,["extra_params"]);return n.request({url:m.CHECK_LOGIN,method:"GET",data:d({},o,r)})},n.sendMobileCodeV2=function(e){var t=e.extra_params,r=void 0===t?{}:t,o=f(e,["extra_params"]);return n.baseSendMobileCodeV2(d({},o,{type:24},r))},n.quickAuthV2=function(e){var t=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,service:e.service},void 0===t?{}:t),["mobile","code","password"]);return n.request({url:m.MOBILE_CODE_LOGIN_URL_V2,method:"POST",data:r})},n.quickAuthLoginOnly=function(e){var t=e.extra_params,r=C(d({mobile:e.mobile,code:e.code,service:e.service},void 0===t?{}:t),["mobile","code"]);return n.request({url:m.MOBILE_CODE_LOGIN_ONLY_URL,method:"POST",data:r})},n.accountLoginV2=function(e){var t=e.account_type,r=e.extra_params,o=C(d({account:e.account,password:e.password,account_type:void 0===t?0:t,service:e.service},void 0===r?{}:r),["account","password"]);return n.request({url:m.ACCOUNT_LOGIN_URL_V2,method:"POST",data:o})},n.logout=function(e){window.location.href=""+n.host+m.LOGOUT+"?service="+e.service},n.wapLogin=function(e){var t=e.origin,r=void 0===t?"":t,o=e.type,i=void 0===o?"sso":o,a=e.use_local_host,s=e.scopes,c=void 0===s?"user_info":s,l=e.url_params,u=void 0===l?"":l,d=e.platform_app_id,p=e.platform,f=void 0===p?"":p,h=e.replace,_=void 0!==h&&h,g=encodeURIComponent(e.next),v=encodeURIComponent(n.host+"/auth/login_success/?service="+g),w={aid:n.aid,type:i,use_local_host:a,scopes:c,next:v,url_params:u,platform_app_id:d,platform:f},E="",y=Object.keys(w).length;Object.keys(w).forEach((function(e,t){E+=y===t+1?e+"="+w[e]:e+"="+w[e]+"&"}));var A=""+r+m.AUTH_LOGIN_URL+"?"+E;_?window.location.href=A:window.open(A,"_blank")},n.sendEmailLink=function(e){var t=e.extra_params,r=void 0===t?{}:t,o=f(e,["extra_params"]);return n.baseSendEmailLink(d({},o,{ect_type:13},r))},n.sendEmailLinkV2=function(e){var t=e.extra_params,r=void 0===t?{}:t,o=f(e,["extra_params"]);return n.baseSendEmailLinkV2(d({},o,{ect_type:13},r))},n.sendEmailCode=function(e){var t=e.extra_params,r=void 0===t?{}:t,o=f(e,["extra_params"]);return n.baseSendEmailCode(d({},o,{ect_type:13},r))},n.sendEmailCodeV2=function(e){var t=e.extra_params,r=void 0===t?{}:t,o=f(e,["extra_params"]);return n.baseSendEmailCodeV2(d({},o,{ect_type:13},r))},n.bindWithMobileLogin=function(e){var t=e.change_bind,r=e.extra_params;return n.request({url:m.BIND_WITH_MOBILE_LOGIN,method:"POST",data:d({code:e.code,platform_app_id:e.platform_app_id,service:e.service,profile_key:e.profile_key,change_bind:void 0===t?0:t},void 0===r?{}:r)})},n.authLogin=function(e){var t=e.login_only,r=e.extra_params;return n.request({url:void 0!==t&&t?m.AUTH_LOGIN_ONLY:m.AUTH_LOGIN,method:"POST",data:d({code:e.code,platform_app_id:e.platform_app_id,service:e.service,profile_key:e.profile_key},void 0===r?{}:r)})},n.mobileEmailRegister=function(e){var t=e.extra_params,r=C(d({mobile:e.mobile,sms_code:e.sms_code,email:e.email,email_code:e.email_code,password:e.password,verify_ticket:e.verify_ticket,service:e.service,sms_type:16,ect_type:1},void 0===t?{}:t),["mobile","sms_code","sms_type","email","email_code","ect_type","password"]);return n.request({url:m.MOBILE_EMAIL_REGISTER,method:"POST",data:r})},n.memberSwitch=function(e){var t=e.extra_params;return n.request({url:"/aff/member/switch/",method:"POST",data:d({to_sec_member_id:e.to_sec_member_id},void 0===t?{}:t)})};var r=t.host,o=t.originHost;return n.aid=t.aid,n.host=r,n.originHost=o,n}return p(t,e),t}(pe),me=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).sendMobileCodeV2=function(e){var n=e.check_register,r=e.extra_params;return t.baseSendMobileCodeV2(d({mobile:e.mobile,type:void 0!==n&&n?4:6},void 0===r?{}:r))},t.sendEmailCodeV2=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendEmailCodeV2(d({},o,{ect_type:4},r))},t.resetPassword=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=C({account:e.account,code:e.code,password:e.password},["account","code","password"]);return new Promise((function(e,n){t.request({url:m.RESET_PASSWORD,method:"POST",data:d({},o,r)}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},t.resetPasswordByEmailCode=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=C({email:e.email,code:e.code,password:e.password},["email","code","password"]);return t.request({url:m.RESET_PASSWORD_BY_EMAIL,method:"POST",data:d({},o,{ect_type:4},r)})},t.sendEmailCodeModifyPassword=function(e){void 0===e&&(e={});var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendEmailCodeV2(d({},o,{ect_type:11},r))},t.modifyPasswordByEmailCode=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=C({email:e.email,code:e.code,password:e.password},["email","code","password"]);return t.request({url:m.RESET_PASSWORD_BY_EMAIL,method:"POST",data:d({},o,{ect_type:11},r)})},t}return p(t,e),t}(pe),ge=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).getQrcode=function(e){var n=e.extra_params,r=void 0===n?{}:n;return t.request({url:m.GET_QRCODE+"?service="+encodeURIComponent(e.service),method:"GET",data:r})},t.checkQrconnect=function(e){var n=e.token,r=e.extra_params,o=void 0===r?{}:r;return t.request({url:m.CHECK_QRCONNECT+"?service="+encodeURIComponent(e.service),method:"GET",data:d({token:n},o)})},t}return p(t,e),t}(pe),ve=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).sendMobileCode=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCode(d({},o,{type:22},r))},t.sendMobileCodeV2=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCodeV2(d({},o,{type:22},r))},t.quickAuth=function(e){var n=e.code,r=e.extra_params,o=void 0===r?{}:r,i=f(e,["code","extra_params"]),a=C(d({code:n},i,o),["code"]);return t.request({url:m.QUICK_AUTH,method:"POST",data:a})},t}return p(t,e),t}(pe),we=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emailRegisterXhr=function(e){return t.request({url:m.EMAIL_REGISTER,method:"POST",data:e})},t.emailRegister=function(e){var n=e.email,r=e.extra_params,o=void 0===r?{}:r,i=f(e,["email","extra_params"]),a=C(d({email:n},i,{ect_type:1},o),["email","code","password"]);return t.emailRegisterXhr(a)},t.emailRegisterAndBindMoblieV2=function(e){var n=e.email,r=e.code,o=e.mobile,i=e.password,a=e.extra_params,s=void 0===a?{}:a,c=f(e,["email","code","mobile","password","extra_params"]),l=C(d({email:n,code:r,mobile:o,password:i},c,s),["email","code","mobile","password"]);return t.request({url:m.EMAIL_REGISTER_V2,method:"POST",data:l})},t.mobileRegisterAndBindEmailV2=function(e){var n=e.email,r=e.code,o=e.mobile,i=e.password,a=e.extra_params,s=void 0===a?{}:a,c=f(e,["email","code","mobile","password","extra_params"]),l=C(d({email:n,code:r,mobile:o,password:i},c,s),["email","code","mobile","password"]);return t.request({url:m.MOBILE_REGISTER_WITH_EMAIL,method:"POST",data:l})},t.emailActivateCodeLogin=function(e){var n=e.email,r=e.code,o=e.extra_params,i=void 0===o?{}:o,a=f(e,["email","code","extra_params"]),s=C(d({email:n,code:r},a,{ect_type:13},i),["email","code"]);return t.request({url:m.EMAIL_ACTIVATE_CODE_LOGIN,method:"POST",data:s})},t.sendMobileCode=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCode(d({},o,{type:16},r))},t.sendMobileCodeV2=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendMobileCodeV2(d({},o,{type:16},r))},t.sendEmailLink=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendEmailLink(d({},o,{ect_type:1},r))},t.sendEmailLinkV2=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendEmailLinkV2(d({},o,{ect_type:1},r))},t.sendEmailCode=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendEmailCode(d({},o,{ect_type:1},r))},t.sendEmailCodeV2=function(e){var n=e.extra_params,r=void 0===n?{}:n,o=f(e,["extra_params"]);return t.baseSendEmailCodeV2(d({},o,{ect_type:1},r))},t}return p(t,e),t}(pe),Ee=function(e){function t(t){var n;n=e.call(this,t,"sso")||this;var r=t.host,o=t.acrawler,i=void 0===o?"":o;t.printLog&&console.log("%cSSOInterface Initial Props >>>>%O","background: #222; color: #bada55",t),i&&v(i,t),n.host=r||"",n.originHost=window.location.origin;var a=d({},t,{request:n.request});return n.bindMobile=new fe(a),n.changeMobile=new he(a),n.login=new _e(d({},a,{originHost:n.originHost})),n.password=new me(a),n.qrcodeLogin=new ge(a),n.quickAuth=new ve(a),n.register=new we(a),n}return p(t,e),t}(M),ye=function(e){var t=this;this.webSdkInit=function(e){var n=e.extra_params;return t.request({url:"/user_info/common/v1/web_sdk_init/",method:"POST",data:d({mode:e.mode,scene:e.scene},void 0===n?{}:n)})},this.request=e.request},Ae=function(e){function t(t){var n;n=e.call(this,t,"auth")||this;var r=t.printLog,o=t.acrawler,i=void 0===o?"":o;void 0!==r&&r&&console.log("AuthInterface Initial Props >>>>",t),i&&v(i,t);var a=d({},t,{request:n.request});return n.common=new ye(a),n}return p(t,e),t}(M),be=se,Te=de,Se=Ee,Ce=Ae,Ie={web:se,app:de,sso:Ee,auth:Ae},Pe={web:null,app:null,sso:null,auth:null};(function(){function e(){}return e.createAccountSdk=function(t,n){return Pe[t]||(Pe[t]=e.create(Ie[t]||Ie.web,n)),Pe[t]},e.create=function(e,t){return new e(t)},e})().createAccountSdk,t.WebInterfaceSdk=be},2029:(e,t,n)=>{"use strict";e.exports=n(20996)},66465:(e,t,n)=>{"use strict";const r=n(14800),o=n(33977),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|_(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||z(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function p(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function _(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(o)return r?-1:$(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function E(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(z(r))return a;e[n+a]=r}return a}function y(e,t,n,r){return K($(t,e.length-n),e,n,r)}function A(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return K(X(t),e,n,r)}function T(e,t,n,r){return K(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n);for(let c=0;c<s;++c)if(l[c]!==u[c]){i=l[c],a=u[c];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function L(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=J[e[i]];return o}function R(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r,o){G(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function D(e,t,n,r,o){G(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function H(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||H(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||H(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const j={};function U(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function G(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,o,i)}function W(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=B(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=B(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function $(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function X(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Z(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},5789:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},2532:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.r(t),n.d(t,{clsx:()=>o,default:()=>i});const i=o}}]);